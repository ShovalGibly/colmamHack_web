/*! For license information please see bundle.6ef7384bf29d0a5485df.js.LICENSE.txt */
(()=>{var e={99:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r,i,o=n(655),a=n(589),s=n(909),u=n(594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(h,"0.6.17",void 0),e.registerVersion("fire-js","")}(w);const _=w},909:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>u,zt:()=>s});var r=n(655),i=n(589),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService({instanceIdentifier:o});if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?a:t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},446:(e,t,n)=>{"use strict";var r=n(99),i=n(655),o=n(589),a=n(594),s=n(909);e=n.hmd(e);var u,c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(e){}return new l},f=h("localStorage"),d=h("sessionStorage"),p=new a.Yd("@firebase/database"),v=(u=1,function(){return u++}),m=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},g=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=g.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},y=null,b=!0,w=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=a.in.VERBOSE,y=p.log.bind(p),t&&d.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,d.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&w(!0)),y){var n=g.apply(null,e);y(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,(0,i.ev)([e],(0,i.CR)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));p.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));throw p.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+g.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));p.warn(n)},k=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",A="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===C||t===A)return-1;if(t===C||e===A)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},P=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},R=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=R(e[t[i]]);return r+"}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function O(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.hu)(!k(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(M.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},j=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function q(){return new V("")}function B(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function z(e){return e.pieces_.length-e.pieceNum_}function G(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new V(e.pieces_,t)}function K(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function W(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function H(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Q(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new V(t,0)}function J(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof V)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new V(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function Y(e,t){var n=B(e),r=B(t);if(null===n)return t;if(n===r)return Y(G(e),G(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function X(e,t){for(var n=H(e,0),r=H(t,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Z(e,t){if(z(e)!==z(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ee(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(z(e)>z(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var te=function(e,t){this.errorPrefix_=t,this.parts_=H(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);ne(this)};function ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+re(e))}function re(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="websocket",ae="long_polling",se=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ue(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ae)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return O(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ce,le,he,fe,de,pe,ve,me=function(e,t){var n=ge(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new V(n.pathString)}},ge=function(e){var t="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=(0,i.XA)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},ye=/[\[\].#$\/\u0000-\u001F\u007F]/,be=/[\[\].#$\u0000-\u001F\u007F]/,we=10485760,_e=function(e){return"string"==typeof e&&0!==e.length&&!ye.test(e)},Ee=function(e){return"string"==typeof e&&0!==e.length&&!be.test(e)},Ie=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!k(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Te=function(e,t,n,r,i){i&&void 0===n||Se((0,o.gK)(e,t,i),n,r)},Se=function(e,t,n){var r=n instanceof V?new te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+re(r));if("function"==typeof t)throw new Error(e+"contains a function "+re(r)+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+re(r));if("string"==typeof t&&t.length>we/3&&(0,o.ug)(t)>we)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+re(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(O(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!_e(t)))throw new Error(e+" contains an invalid key ("+t+") "+re(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=t,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=(0,o.ug)(u),ne(s),Se(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+re(r)+" in addition to actual children.")}},ke=function(e,t,n,r,i){if(!i||void 0!==n){var a=(0,o.gK)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];O(n,(function(e,t){var n=new V(e);if(Se(a,t,J(r,n)),".priority"===K(n)&&!Ie(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=H(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!_e(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(X);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ee(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},Ce=function(e,t,n,r){if(!r||void 0!==n){if(k(n))throw new Error((0,o.gK)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ie(n))throw new Error((0,o.gK)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ae=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ne=function(e,t,n,r){if(!(r&&void 0===n||_e(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xe=function(e,t,n,r){if(!(r&&void 0===n||Ee(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xe(e,t,n,r)},Re=function(e,t){if(".info"===B(t))throw new Error(e+" failed = Can't modify data under /.info/")},De=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!_e(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ee(e)}(r))throw new Error((0,o.gK)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Oe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t,r)+"must be a boolean.")},Le=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Me=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===ce||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===ce||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Fe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Me(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return le},set:function(e){le=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return $(t)?this:".priority"===B(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=B(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===z(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(G(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Le(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),je=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ue=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:qe.EMPTY_NODE,this.right=null!=o?o:qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ve=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ue(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new je(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new je(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ve,e}(),Be=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ze=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Be(C,e),r=new Be(C,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Be.MIN},e}(),Ge=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(A,new Fe("[PRIORITY-POST]",fe))},t.prototype.makePost=function(e,t){var n=he(e);return new Be(t,new Fe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ze)),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return de},set:function(e){de=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(A,de)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Be(e,de)},t.prototype.toString=function(){return".key"},t}(ze),We=new Ke,He=Math.log(2),Qe=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/He,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Je=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ue(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ue.BLACK):(s(h,Ue.BLACK),s(h,Ue.RED))}return o}(new Qe(e.length));return new qe(r||t,o)},$e={},Ye=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)($e&&Ge,"ChildrenNode.ts has not been loaded"),pe=pe||new e({".priority":$e},{".priority":Ge})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qe?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==We,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Be.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Je(a,t.getCompare()):$e;var l=t.toString(),h=(0,i.pi)({},this.indexSet_);h[l]=t;var f=(0,i.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===$e){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Be.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Je(s,a.getCompare())}return $e}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Be(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===$e)return e;var r=n.get(t.name);return r?e.remove(new Be(t.name,r)):e})),this.indexSet_)},e}();function Xe(e,t){return N(e.name,t.name)}function Ze(e,t){return N(e,t)}var et,tt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Me(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ve||(ve=new e(new qe(Ze),null,Ye.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ve},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ve:t},e.prototype.getChild=function(e){var t=B(e);return null===t?this:this.getImmediateChild(t).getChild(G(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Be(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?ve:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=B(e);if(null===n)return t;(0,o.hu)(".priority"!==B(e)||1===z(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(G(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ge,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Le(this.getPriority().val())+":"),this.forEachChild(Ge,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Be(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Be(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Be(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Be.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Be.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0},e.prototype.withIndex=function(t){if(t===We||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===We||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ge),r=t.getIterator(Ge),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===We?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),nt=new(function(e){function t(){return e.call(this,new qe(Ze),tt.EMPTY_NODE,Ye.Default)||this}return(0,i.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return tt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(tt));function rt(e,t){if(void 0===t&&(t=null),null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Fe(e,rt(t));if(e instanceof Array){var n=tt.EMPTY_NODE;return O(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=rt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(rt(t))}var r=[],i=!1;if(O(e,(function(e,t){if("."!==e.substring(0,1)){var n=rt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Be(e,n)))}})),0===r.length)return tt.EMPTY_NODE;var a=Je(r,Xe,(function(e){return e.name}),Ze);if(i){var s=Je(r,Ge.getCompare());return new tt(a,rt(t),new Ye({".priority":s},{".priority":Ge}))}return new tt(a,rt(t),Ye.Default)}function it(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}Object.defineProperties(Be,{MIN:{value:new Be(C,tt.EMPTY_NODE)},MAX:{value:new Be(A,nt)}}),Ke.__EMPTY_NODE=tt.EMPTY_NODE,Fe.__childrenNodeConstructor=tt,ce=nt,fe=nt,function(e){he=e}(rt),function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(et||(et={}));var ot,at=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=et.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if($(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(t));return new e(q(),n,this.revert)}return(0,o.hu)(B(this.path)===t,"operationForChild called for unrelated child."),new e(G(this.path),this.affectedTree,this.revert)},e}(),st=function(){function e(e,t){void 0===t&&(ot||(ot=new qe(x)),t=ot),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return O(t,(function(e,t){n=n.set(new V(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:q(),value:this.value};if($(e))return null;var n=B(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(G(e),t);return null!=i?{path:J(new V(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if($(t))return this;var n=B(t),r=this.children.get(n);return null!==r?r.subtree(G(t)):new e(null)},e.prototype.set=function(t,n){if($(t))return new e(n,this.children);var r=B(t),i=(this.children.get(r)||new e(null)).set(G(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if($(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=B(t),r=this.children.get(n);if(r){var i=r.remove(G(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if($(e))return this.value;var t=B(e),n=this.children.get(t);return n?n.get(G(e)):null},e.prototype.setTree=function(t,n){if($(t))return n;var r,i=B(t),o=(this.children.get(i)||new e(null)).setTree(G(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(q(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(J(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,q(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if($(e))return null;var i=B(e),o=this.children.get(i);return o?o.findOnPath_(G(e),J(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,q(),t)},e.prototype.foreachOnPath_=function(t,n,r){if($(t))return this;this.value&&r(n,this.value);var i=B(t),o=this.children.get(i);return o?o.foreachOnPath_(G(t),J(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(q(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(J(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),ut=function(){function e(e,t){this.source=e,this.path=t,this.type=et.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return $(this.path)?new e(this.source,q()):new e(this.source,G(this.path))},e}(),ct=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=et.OVERWRITE}return e.prototype.operationForChild=function(t){return $(this.path)?new e(this.source,q(),this.snap.getImmediateChild(t)):new e(this.source,G(this.path),this.snap)},e}(),lt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=et.MERGE}return e.prototype.operationForChild=function(t){if($(this.path)){var n=this.children.subtree(new V(t));return n.isEmpty()?null:n.value?new ct(this.source,q(),n.value):new e(this.source,q(),n)}return(0,o.hu)(B(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,G(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ht=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;var t=B(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();function ft(e,t){return{eventCache:e,serverCache:t}}function dt(e,t,n,r){return ft(new ht(t,n,r),e.serverCache)}function pt(e,t,n,r){return ft(e.eventCache,new ht(t,n,r))}function vt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function mt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}function gt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var _t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(wt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ge,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(Ge,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wt(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Et=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),It=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new st(null))},e}();function Tt(e,t,n){if($(t))return new It(new st(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Y(i,t);return o=o.updateChild(a,n),new It(e.writeTree_.set(i,o))}var s=new st(n),u=e.writeTree_.setTree(t,s);return new It(u)}function St(e,t,n){var r=e;return O(n,(function(e,n){r=Tt(r,J(t,e),n)})),r}function kt(e,t){if($(t))return It.empty();var n=e.writeTree_.setTree(t,new st(null));return new It(n)}function Ct(e,t){return null!=At(e,t)}function At(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Y(n.path,t)):null}function Nt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ge,(function(e,n){t.push(new Be(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Be(e,n.value))})),t}function xt(e,t){if($(t))return e;var n=At(e,t);return new It(null!=n?new st(n):e.writeTree_.subtree(t))}function Pt(e){return e.writeTree_.isEmpty()}function Rt(e,t){return Dt(q(),e.writeTree_,t)}function Dt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Dt(J(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(J(e,".priority"),r)),n}function Ot(e,t){return Kt(t,e)}function Lt(e,t){if(e.snap)return ee(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ee(J(e.path,n),t))return!0;return!1}function Mt(e){return e.visible}function Ft(e,t,n){for(var r=It.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)ee(n,s)?r=Tt(r,u=Y(n,s),a.snap):ee(s,n)&&(u=Y(s,n),r=Tt(r,q(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(ee(n,s))r=St(r,u=Y(n,s),a.children);else if(ee(s,n))if($(u=Y(s,n)))r=St(r,q(),a.children);else{var c=(0,o.DV)(a.children,B(u));if(c){var l=c.getChild(G(u));r=Tt(r,q(),l)}}}}}return r}function jt(e,t,n,r,i){if(r||i){var o=xt(e.visibleWrites,t);return!i&&Pt(o)?n:i||null!=n||Ct(o,q())?Rt(Ft(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ee(e.path,t)||ee(t,e.path))}),t),n||tt.EMPTY_NODE):null}var a=At(e.visibleWrites,t);if(null!=a)return a;var s=xt(e.visibleWrites,t);return Pt(s)?n:null!=n||Ct(s,q())?Rt(s,n||tt.EMPTY_NODE):null}function Ut(e,t,n,r){return jt(e.writeTree,e.treePath,t,n,r)}function Vt(e,t){return function(e,t,n){var r=tt.EMPTY_NODE,i=At(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ge,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=xt(e.visibleWrites,t);return n.forEachChild(Ge,(function(e,t){var n=Rt(xt(o,new V(e)),t);r=r.updateImmediateChild(e,n)})),Nt(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Nt(xt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function qt(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=J(t,n);if(Ct(e.visibleWrites,a))return null;var s=xt(e.visibleWrites,a);return Pt(s)?i.getChild(n):Rt(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Bt(e,t){return function(e,t){return At(e.visibleWrites,t)}(e.writeTree,J(e.treePath,t))}function zt(e,t,n){return function(e,t,n,r){var i=J(t,n),o=At(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Rt(xt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Gt(e,t){return Kt(J(e.treePath,t),e.writeTree)}function Kt(e,t){return{treePath:e,writeTree:t}}var Wt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ht=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zt(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=xt(e.visibleWrites,t),c=At(u,q());if(null!=c)s=c;else{if(null==n)return[];s=Rt(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Qt(e,t,n,r,i,a){var s=t.eventCache;if(null!=Bt(r,n))return t;var u=void 0,c=void 0;if($(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=mt(t),h=Vt(r,l instanceof tt?l:tt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Ut(r,mt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=B(n);if(".priority"===d){(0,o.hu)(1===z(n),"Can't have a priority with additional path components");var p=s.getNode(),v=qt(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=G(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=qt(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=zt(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,m,i,a):s.getNode()}}return dt(t,u,s.isFullyInitialized()||$(n),e.filter.filtersNodes())}function Jt(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if($(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=B(n);if(!c.isCompleteForPath(n)&&z(n)>1)return t;var d=G(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Wt,null)}var v=pt(t,u,c.isFullyInitialized()||$(n),l.filtersNodes());return Qt(e,v,n,i,new Ht(i,v,o),s)}function $t(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Ht(i,t,o);if($(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=dt(t,u,!0,e.filter.filtersNodes());else{var h=B(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=dt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=G(n),d=c.getNode().getImmediateChild(h),p=void 0;if($(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===K(f)&&v.getChild(Q(f)).isEmpty()?v:v.updateChild(f,r):tt.EMPTY_NODE}s=d.equals(p)?t:dt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Yt(e,t){return e.eventCache.isCompleteForChild(t)}function Xt(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Zt(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=$(n)?r:new st(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Xt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Jt(e,c,new V(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Xt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Jt(e,c,new V(n),h,i,o,a,s)}})),c}var en=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function tn(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Be(t.childName,t.snapshotNode),i=new Be(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}var nn,rn,on="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",an=(nn=0,rn=[],function(e){var t,n=e===nn;nn=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=on.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===rn[t];t--)rn[t]=0;rn[t]++}else for(t=0;t<12;t++)rn[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=on.charAt(rn[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),sn=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=n[i],a=on.charAt(on.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},un=function(e){if("-2147483648"===e)return C;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=on.charAt(on.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},cn=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return Be.MAX},t.prototype.makePost=function(e,t){var n=rt(e);return new Be(t,n)},t.prototype.toString=function(){return".value"},t}(ze)),ln=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!$(t)&&".priority"!==B(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,i.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=rt(e),r=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Be(t,r)},t.prototype.maxPost=function(){var e=tt.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Be(A,e)},t.prototype.toString=function(){return H(this.indexPath_,0).join("/")},t}(ze),hn=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Be(t,n))||(n=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=tt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(tt.EMPTY_NODE);var i=this;return t.forEachChild(Ge,(function(e,t){i.matches(new Be(e,t))||(r=r.updateImmediateChild(e,tt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),fn=function(){function e(e){this.rangedFilter_=new hn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Be(t,n))||(n=tt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=tt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,tt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Be(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(wt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var v=u.updateImmediateChild(t,tt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,tt.EMPTY_NODE)):e},e}(),dn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ge},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function pn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function vn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function mn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function gn(e,t,n){var r;return e.index_===We?("string"==typeof t&&(t=sn(t)),r=mn(e,t,n)):r=mn(e,t,null==n?A:sn(n)),r.startAfterSet_=!0,r}function yn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function bn(e,t,n){var r;return e.index_===We?("string"==typeof t&&(t=un(t)),r=yn(e,t,n)):r=yn(e,t,null==n?C:un(n)),r.endBeforeSet_=!0,r}function wn(e,t){var n=e.copy();return n.index_=t,n}function _n(e){var t,n={};return e.isDefault()||(e.index_===Ge?t="$priority":e.index_===cn?t="$value":e.index_===We?t="$key":((0,o.hu)(e.index_ instanceof ln,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var En,In=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new _t(r.getIndex()),o=(n=r).loadsAllData()?new _t(n.getIndex()):n.hasLimit()?new fn(n):new hn(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=new ht(u,a.isFullyInitialized(),i.filtersNodes()),h=new ht(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ft(h,l),this.eventGenerator_=new en(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Tn(e,t){var n=mt(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!$(t)&&!n.getImmediateChild(B(t)).isEmpty())?n.getChild(t):null}function Sn(e){return 0===e.eventRegistrations_.length}function kn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Cn(e,t,n,r){t.type===et.MERGE&&null!==t.source.queryId&&((0,o.hu)(mt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(vt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new Et;if(n.type===et.OVERWRITE){var c=n;c.source.fromUser?a=$t(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!$(c.path),a=Jt(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===et.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=J(n,r);Yt(t,B(c))&&(s=$t(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=J(n,r);Yt(t,B(c))||(s=$t(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Zt(e,t,l.path,l.children,r,i,s,u))}else if(n.type===et.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=Bt(r,n))return t;var u=new Ht(r,t,i),c=t.eventCache.getNode(),l=void 0;if($(n)||".priority"===B(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=Ut(r,mt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof tt,"serverChildren would be complete if leaf node"),h=Vt(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=B(n),p=zt(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,G(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,tt.EMPTY_NODE,G(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ut(r,mt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Bt(r,q()),dt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Bt(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if($(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Jt(e,t,n,u.getNode().getChild(n),i,o,s,a);if($(n)){var c=new st(null);return u.getNode().forEachChild(We,(function(e,t){c=c.set(new V(e),t)})),Zt(e,t,n,c,i,o,s,a)}return t}var l=new st(null);return r.foreach((function(e,t){var r=J(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Zt(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==et.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return Qt(e,pt(t,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered()),n,r,Wt,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gt(vt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,An(e,u.changes,u.viewCache.eventCache.getNode(),null)}function An(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tn(e,i,"child_removed",t,r,n),tn(e,i,"child_added",t,r,n),tn(e,i,"child_moved",o,r,n),tn(e,i,"child_changed",t,r,n),tn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Nn=function(){this.views=new Map};function xn(e,t,n,r){var a,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Cn(c,t,n,r)}var l=[];try{for(var h=(0,i.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(Cn(c,t,n,r))}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Pn(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=Ut(n,i?r:null),u=!1;s?u=!0:r instanceof tt?(s=Vt(n,r),u=!1):(s=tt.EMPTY_NODE,u=!1);var c=ft(new ht(s,u,!1),new ht(r,i,!1));return new In(t,c)}return a}function Rn(e){var t,n,r=[];try{for(var o=(0,i.XA)(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Dn(e,t){var n,r,o=null;try{for(var a=(0,i.XA)(e.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;o=o||Tn(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function On(e,t){if(t.getQueryParams().loadsAllData())return Fn(e);var n=t.queryIdentifier();return e.views.get(n)}function Ln(e,t){return null!=On(e,t)}function Mn(e){return null!=Fn(e)}function Fn(e){var t,n;try{for(var r=(0,i.XA)(e.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.query.getQueryParams().loadsAllData())return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var jn=1,Un=function(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_={visibleWrites:It.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Vn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Tt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Wn(e,new ct({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&Lt(u,r.path)?i=!1:ee(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=Ft(e.allWrites,Mt,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=kt(e.visibleWrites,r.path):O(r.children,(function(t){e.visibleWrites=kt(e.visibleWrites,J(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new st(null);return null!=r.snap?i=i.set(q(),!0):O(r.children,(function(e){i=i.set(new V(e),!0)})),Wn(e,new at(r.path,i,n))}return[]}function Bn(e,t,n){return Wn(e,new ct({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function zn(e,t,n,r){var a=t.path,s=e.syncPointTree_.get(a),u=[];if(s&&("default"===t.queryIdentifier()||Ln(s,t))){var c=function(e,t,n,r){var a,s,u=t.queryIdentifier(),c=[],l=[],h=Mn(e);if("default"===u)try{for(var f=(0,i.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,i.CR)(d.value,2),v=p[0],m=p[1];l=l.concat(kn(m,n,r)),Sn(m)&&(e.views.delete(v),m.query.getQueryParams().loadsAllData()||c.push(m.query))}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}else(m=e.views.get(u))&&(l=l.concat(kn(m,n,r)),Sn(m)&&(e.views.delete(u),m.query.getQueryParams().loadsAllData()||c.push(m.query)));return h&&!Mn(e)&&c.push(new((0,o.hu)(En,"Reference.ts has not been loaded"),En)(t.repo,t.path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Mn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Mn(t))return[Fn(t)];var r=[];return t&&(r=Rn(t)),O(n,(function(e,t){r=r.concat(t)})),r}))}(d),v=0;v<p.length;++v){var m=p[v],g=m.query,y=Jn(e,m);e.listenProvider_.startListening(tr(g),$n(e,g),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(tr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(Yn(t));e.listenProvider_.stopListening(tr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=Yn(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Gn(e,t,n){var r=t.path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Y(e,r);i=i||Dn(t,n),a=a||Mn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Mn(u),i=i||Dn(u,q())):(u=new Nn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=tt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Dn(t,q());n&&(i=i.updateImmediateChild(e,n))})));var c=Ln(u,t);if(!c&&!t.getQueryParams().loadsAllData()){var l=Yn(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=jn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Pn(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(gt(n.getNode())),An(e,r,n.getNode(),t)}(a,n)}(u,t,n,Ot(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=On(u,t);f=f.concat(function(e,t,n){var r=t.path,i=$n(e,t),a=Jn(e,n),s=e.listenProvider_.startListening(tr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Mn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!$(e)&&t&&Mn(t))return[Fn(t).query];var r=[];return t&&(r=r.concat(Rn(t).map((function(e){return e.query})))),O(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(tr(h),$n(e,h))}return s}(e,t,d))}return f}function Kn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Dn(n,Y(e,t));if(r)return r}));return jt(r,t,i,n,!0)}function Wn(e,t){return Hn(t,e.syncPointTree_,null,Ot(e.pendingWriteTree_,q()))}function Hn(e,t,n,r){if($(e.path))return Qn(e,t,n,r);var i=t.get(q());null==n&&null!=i&&(n=Dn(i,q()));var o=[],a=B(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Gt(r,a);o=o.concat(Hn(s,u,c,l))}return i&&(o=o.concat(xn(i,e,r,n))),o}function Qn(e,t,n,r){var i=t.get(q());null==n&&null!=i&&(n=Dn(i,q()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Gt(r,t),u=e.operationForChild(t);u&&(o=o.concat(Qn(u,i,a,s)))})),i&&(o=o.concat(xn(i,e,r,n))),o}function Jn(e,t){var n=t.query,r=$n(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||tt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Xn(e,n);if(r){var i=Zn(r),o=i.path,a=i.queryId,s=Y(o,t);return er(e,o,new ut(it(a),s))}return[]}(e,n.path,r):function(e,t){return Wn(e,new ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return zn(e,n,null,i)}}}function $n(e,t){var n=Yn(t);return e.queryToTagMap.get(n)}function Yn(e){return e.path.toString()+"$"+e.queryIdentifier()}function Xn(e,t){return e.tagToQueryMap.get(t)}function Zn(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new V(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),xn(r,n,Ot(e.pendingWriteTree_,t),null)}function tr(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=J(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Kn(this.syncTree_,this.path_)},e}(),ir=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?or(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},sr=function(e,t,n,r){return cr(t,new rr(n,e),r)},ur=function(e,t,n){return cr(e,new nr(t),n)};function cr(e,t,n){var r,i=e.getPriority().val(),o=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ir(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Fe(s,rt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Fe(o))),u.forEachChild(Ge,(function(e,i){var o=cr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}function lr(){return{value:null,children:new Map}}function hr(e,t,n){if($(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=B(t);e.children.has(r)||e.children.set(r,lr()),hr(e.children.get(r),t=G(t),n)}}function fr(e,t){if($(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ge,(function(t,n){hr(e,new V(t),n)})),fr(e,t)}if(e.children.size>0){var r=B(t);return t=G(t),e.children.has(r)&&fr(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function dr(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){dr(r,new V(t.toString()+"/"+e),n)}))}var pr=function(){function e(){this.rootNode_=tt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),vr=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),mr={},gr={};function yr(e){var t=e.toString();return mr[t]||(mr[t]=new vr),mr[t]}var br=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,i.pi)({},e);return this.last_&&O(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),wr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new br(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;O(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),_r=function(){this.eventLists_=[],this.recursionDepth_=0};function Er(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Z(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ir(e,t,n){Er(e,n),Sr(e,(function(e){return Z(e,t)}))}function Tr(e,t,n){Er(e,n),Sr(e,(function(e){return ee(e,t)||ee(t,e)}))}function Sr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(kr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function kr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&_("event: "+n.toString()),j(r)}}}var Cr=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,i.ev)([],(0,i.CR)(this.listeners_[e])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Ar=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,i.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Cr),Nr=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,i.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Cr),xr=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&j((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Pr="start",Rr="close",Dr=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=yr(t),this.urlFn=function(e){return ue(t,ae,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Or((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.CR)(e,5),o=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Pr)n.id=a,n.password=s;else{if(o!==Rr)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.CR)(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Or=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){_("frame writing exception"),e.stack&&_(e.stack),_(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),Lr="";function Mr(e){Lr=e}var Fr=null;"undefined"!=typeof MozWebSocket?Fr=MozWebSocket:"undefined"!=typeof WebSocket&&(Fr=WebSocket);var jr=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=yr(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),ue(e,oe,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Lr+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a="MISSING_ENV_VAR",s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new Fr(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new Fr(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Fr&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Ur=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Dr,jr]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=jr&&jr.isAvailable(),a=o&&!jr.previouslyFailed();if(t.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[jr];else{var s=this.transports_=[];try{for(var u=(0,i.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Vr=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ur(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=P("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),qr=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Br=1e3,zr=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Br,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ar.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Nr.getInstance().on("online",l.onOnline_,l),l}return(0,i.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.BH,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new Vr(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){S(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&S(t),h())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new V(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=(0,i.XA)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Lr.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Nr.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(qr),Gr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return(0,i.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=_n(e.getQueryParams());this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=_n(e.getQueryParams()),r=e.path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=(0,o.cI)(u.responseText)}catch(e){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(qr),Kr=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xe("DataSnapshot.child",1,t,!1);var n=new V(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ge)},e.prototype.hasChild=function(e){(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xe("DataSnapshot.hasChild",1,e,!1);var t=new V(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if((0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ge))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Wr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Hr(e,t){for(var n=t instanceof V?t:new V(t),r=e,i=B(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Wr(i,r,a),i=B(n=G(n))}return r}function Qr(e){return e.node.value}function Jr(e,t){e.node.value=t,ei(e)}function $r(e){return e.node.childCount>0}function Yr(e,t){O(e.node.children,(function(n,r){t(new Wr(n,e,r))}))}function Xr(e,t,n,r){n&&!r&&t(e),Yr(e,(function(e){Xr(e,t,!0,r)})),n&&r&&t(e)}function Zr(e){return new V(null===e.parent?e.name:Zr(e.parent)+"/"+e.name)}function ei(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Qr(e)&&!$r(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ei(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ei(e))}(e.parent,e.name,e)}var ti="repo_interrupt",ni=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _r,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lr(),this.transactionQueueTree_=new Wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ri(e){var t=e.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ii(e){return(t=(t={timestamp:ri(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function oi(e,t,n,r,i){e.dataUpdateCount++;var a=new V(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return rt(e)}));s=function(e,t,n,r){var i=Xn(e,r);if(i){var o=Zn(i),a=o.path,s=o.queryId,u=Y(a,t),c=st.fromObject(n);return er(e,a,new lt(it(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=rt(n);s=function(e,t,n,r){var i=Xn(e,r);if(null!=i){var o=Zn(i),a=o.path,s=o.queryId,u=Y(a,t);return er(e,a,new ct(it(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return rt(e)}));s=function(e,t,n){var r=st.fromObject(n);return Wn(e,new lt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=rt(n);s=Bn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Si(e,a)),Tr(e.eventQueue_,f,s)}function ai(e,t){si(e,"connected",t),!1===t&&function(e){bi(e,"onDisconnectEvents");var t=ii(e),n=lr();dr(e.onDisconnect_,q(),(function(r,i){var o=sr(r,i,e.serverSyncTree_,t);hr(n,r,o)}));var r=[];dr(n,q(),(function(t,n){r=r.concat(Bn(e.serverSyncTree_,t,n));var i=xi(e,t);Si(e,i)})),e.onDisconnect_=lr(),Tr(e.eventQueue_,q(),r)}(e)}function si(e,t,n){var r=new V("/.info/"+t),i=rt(n);e.infoData_.updateSnapshot(r,i);var o=Bn(e.infoSyncTree_,r,i);Tr(e.eventQueue_,r,o)}function ui(e){return e.nextWriteId_++}function ci(e,t,n,r,i){bi(e,"set",{path:t.toString(),value:n,priority:r});var o=ii(e),a=rt(n,r),s=Kn(e.serverSyncTree_,t),u=ur(a,s,o),c=ui(e),l=Vn(e.serverSyncTree_,t,u,c,!0);Er(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,c,!o);Tr(e.eventQueue_,t,a),wi(0,i,n,r)}));var h=xi(e,t);Si(e,h),Tr(e.eventQueue_,h,[])}function li(e,t,n,r){bi(e,"update",{path:t.toString(),value:n});var i=!0,a=ii(e),s={};if(O(n,(function(n,r){i=!1,s[n]=sr(J(t,n),rt(r),e.serverSyncTree_,a)})),i)_("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var u=ui(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=St(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=st.fromObject(n);return Wn(e,new lt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Er(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,u,!o),s=a.length>0?Si(e,t):t;Tr(e.eventQueue_,s,a),wi(0,r,n,i)})),O(n,(function(n){var r=xi(e,J(t,n));Si(e,r)})),Tr(e.eventQueue_,t,[])}}function hi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&fr(e.onDisconnect_,t),wi(0,n,r,i)}))}function fi(e,t,n,r){var i=rt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&hr(e.onDisconnect_,t,i),wi(0,r,n,o)}))}function di(e,t,n,r,i){var o=rt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&hr(e.onDisconnect_,t,o),wi(0,i,n,r)}))}function pi(e,t,n,r){if((0,o.xb)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&O(n,(function(n,r){var i=rt(r);hr(e.onDisconnect_,J(t,n),i)})),wi(0,r,i,o)}))}function vi(e,t,n){var r;r=".info"===B(t.path)?Gn(e.infoSyncTree_,t,n):Gn(e.serverSyncTree_,t,n),Ir(e.eventQueue_,t.path,r)}function mi(e,t,n){var r;r=".info"===B(t.path)?zn(e.infoSyncTree_,t,n):zn(e.serverSyncTree_,t,n),Ir(e.eventQueue_,t.path,r)}function gi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ti)}function yi(e){e.persistentConnection_&&e.persistentConnection_.resume(ti)}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,(0,i.ev)([r],(0,i.CR)(t)))}function wi(e,t,n,r){t&&j((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function _i(e){return e.__database||(e.__database=new Wi(e))}function Ei(e,t,n,r,i){bi(e,"transaction on "+t);var a=function(){},s=new Vi(e,t);s.on("value",a);var u={path:t,update:n,onComplete:r,status:null,order:v(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",a)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Ii(e,t,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new Kr(u.currentInputSnapshot,new Vi(e,u.path),Ge);u.onComplete(null,!1,h)}}else{Se("transaction failed: Data returned ",l,u.path),u.status=0;var f=Hr(e.transactionQueueTree_,t),d=Qr(f)||[];d.push(u),Jr(f,d);var p=void 0;"object"==typeof l&&null!==l&&(0,o.r3)(l,".priority")?(p=(0,o.DV)(l,".priority"),(0,o.hu)(Ie(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Kn(e.serverSyncTree_,t)||tt.EMPTY_NODE).getPriority().val();var m=ii(e),g=rt(l,p),y=ur(g,c,m);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=y,u.currentWriteId=ui(e);var b=Vn(e.serverSyncTree_,t,y,u.currentWriteId,u.applyLocally);Tr(e.eventQueue_,t,b),Ti(e,e.transactionQueueTree_)}}function Ii(e,t,n){return Kn(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function Ti(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ni(e,t),Qr(t)){var n=Ci(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ii(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Y(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){bi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,i=i.concat(qn(e.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,u=new Vi(e,n[a].path),c=new Kr(s,u,Ge);o.push(n[a].onComplete.bind(null,null,!0,c))}n[a].unwatcher()}for(Ni(e,Hr(e.transactionQueueTree_,t)),Ti(e,e.transactionQueueTree_),Tr(e.eventQueue_,t,i),a=0;a<o.length;a++)j(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Si(e,t)}}),s)}(e,Zr(t),n)}else $r(t)&&Yr(t,(function(t){Ti(e,t)}))}function Si(e,t){var n=ki(e,t),r=Zr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=Y(n,u.path),l=!1,h=void 0;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Ii(e,u.path,a);u.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){Se("transaction failed: Data returned ",d,u.path);var p=rt(d);"object"==typeof d&&null!=d&&(0,o.r3)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=ii(e),g=ur(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=ui(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Vn(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(qn(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0))}if(Tr(e.eventQueue_,n,i),i=[],l&&(t[s].status=2,_=t[s].unwatcher,setTimeout(_,Math.floor(0)),t[s].onComplete))if("nodata"===h){var y=new Vi(e,t[s].path),b=t[s].currentInputSnapshot,w=new Kr(b,y,Ge);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}var _;for(Ni(e,e.transactionQueueTree_),s=0;s<r.length;s++)j(r[s]);Ti(e,e.transactionQueueTree_)}}(e,Ci(e,n),r),r}function ki(e,t){var n,r=e.transactionQueueTree_;for(n=B(t);null!==n&&void 0===Qr(r);)r=Hr(r,n),n=B(t=G(t));return r}function Ci(e,t){var n=[];return Ai(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ai(e,t,n){var r=Qr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Yr(t,(function(t){Ai(e,t,n)}))}function Ni(e,t){var n=Qr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Jr(t,n.length>0?n:void 0)}Yr(t,(function(t){Ni(e,t)}))}function xi(e,t){var n=Zr(ki(e,t)),r=Hr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Pi(e,t)})),Pi(e,r),Xr(r,(function(t){Pi(e,t)})),n}function Pi(e,t){var n=Qr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(qn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Jr(t,void 0):n.length=a+1,Tr(e.eventQueue_,Zr(t),i),s=0;s<r.length;s++)j(r[s])}}var Ri,Di=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel",1,e,!0);var t=new o.BH;return hi(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),Re("OnDisconnect.remove",this.path_),(0,o.Wj)("OnDisconnect.remove",1,e,!0);var t=new o.BH;return fi(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),Re("OnDisconnect.set",this.path_),Te("OnDisconnect.set",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.set",2,t,!0);var n=new o.BH;return fi(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),Re("OnDisconnect.setWithPriority",this.path_),Te("OnDisconnect.setWithPriority",1,e,this.path_,!1),Ce("OnDisconnect.setWithPriority",2,t,!1),(0,o.Wj)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.BH;return di(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Re("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ke("OnDisconnect.update",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.update",2,t,!0);var i=new o.BH;return pi(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),Oi=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Li=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Mi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Fi=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Li("value",this,new Kr(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Mi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),ji=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,(0,o.r3)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Mi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Li(e.type,this,new Kr(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ui=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return(0,o.hu)(Ri,"Reference.ts has not been loaded"),Ri},set:function(e){Ri=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===We){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==C)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ge){if(null!=t&&!Ie(t)||null!=n&&!Ie(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ln||e.getIndex()===cn,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return(0,o.Dv)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){(0,o.Dv)("Query.on",2,4,arguments.length),Ae("Query.on",1,t,!1),(0,o.Wj)("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Fi(e,t||null,n||null);vi(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new ji(e,t,n);vi(this.repo,this,r)},e.prototype.off=function(e,t,n){(0,o.Dv)("Query.off",0,3,arguments.length),Ae("Query.off",1,e,!0),(0,o.Wj)("Query.off",2,t,!0),(0,o.lb)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new Fi(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new ji(i,null,n||null));mi(this.repo,this,r)},e.prototype.get=function(){return e=this.repo,t=this,null!=(n=function(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Y(e,n);r=r||Dn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Dn(i,q()):(i=new Nn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new ht(r,!0,!1):null;return vt(Pn(i,t,Ot(e.pendingWriteTree_,t.path),o?a.getNode():tt.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t))?Promise.resolve(new Kr(n,t.getRef(),t.getQueryParams().getIndex())):e.server_.get(t).then((function(n){var r=rt(n),i=Bn(e.serverSyncTree_,t.path,r);return Ir(e.eventQueue_,t.path,i),Promise.resolve(new Kr(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){return bi(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}));var e,t,n},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),Ae("Query.once",1,t,!1),(0,o.Wj)("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.BH;c.promise.catch((function(){}));var l=function(e){u&&(u=!1,a.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if((0,o.Dv)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,pn(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if((0,o.Dv)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,vn(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if((0,o.Dv)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');xe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(t);if($(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ln(n),i=wn(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){(0,o.Dv)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=wn(this.queryParams_,We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=wn(this.queryParams_,Ge);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){(0,o.Dv)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=wn(this.queryParams_,cn);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),Te("Query.startAt",1,t,this.path,!0),Ne("Query.startAt",2,n,!0);var r=mn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),Te("Query.startAfter",1,t,this.path,!1),Ne("Query.startAfter",2,n,!0);var r=gn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),Te("Query.endAt",1,t,this.path,!0),Ne("Query.endAt",2,n,!0);var r=yn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),Te("Query.endBefore",1,t,this.path,!1),Ne("Query.endBefore",2,n,!0);var r=bn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if((0,o.Dv)("Query.equalTo",1,2,arguments.length),Te("Query.equalTo",1,e,this.path,!1),Ne("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this.repo.toString()+W(this.path)},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ge&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=R(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=Z(this.path,t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,(0,o.Wj)(e,3,r.cancel,!0),r.context=n,(0,o.lb)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Vi=function(e){function t(t,n){if(!(t instanceof ni))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,new dn,!1)||this}return(0,i.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),$(this.path)?null:K(this.path)},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof V||(null===B(this.path)?Pe("Reference.child",1,e,!1):xe("Reference.child",1,e,!1)),new t(this.repo,J(this.path,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=Q(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){(0,o.Dv)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return _i(this.repo)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),Re("Reference.set",this.path),Te("Reference.set",1,e,this.path,!1),(0,o.Wj)("Reference.set",2,t,!0);var n=new o.BH;return ci(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Re("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ke("Reference.update",1,e,this.path,!1),(0,o.Wj)("Reference.update",2,t,!0);var i=new o.BH;return li(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if((0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),Re("Reference.setWithPriority",this.path),Te("Reference.setWithPriority",1,e,this.path,!1),Ce("Reference.setWithPriority",2,t,!1),(0,o.Wj)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.BH;return ci(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return(0,o.Dv)("Reference.remove",0,1,arguments.length),Re("Reference.remove",this.path),(0,o.Wj)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if((0,o.Dv)("Reference.transaction",1,3,arguments.length),Re("Reference.transaction",this.path),(0,o.Wj)("Reference.transaction",1,e,!1),(0,o.Wj)("Reference.transaction",2,t,!0),Oe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.BH;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new Oi(n,i)),"function"==typeof t&&t(e,n,i)};return Ei(this.repo,this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),Re("Reference.setPriority",this.path),Ce("Reference.setPriority",1,e,!1),(0,o.Wj)("Reference.setPriority",2,t,!0);var n=new o.BH;return ci(this.repo,J(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),Re("Reference.push",this.path),Te("Reference.push",1,e,this.path,!0),(0,o.Wj)("Reference.push",2,t,!0);var n,r=ri(this.repo),i=an(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return Re("Reference.onDisconnect",this.path),new Di(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ui);Ui.__referenceConstructor=Vi,function(e){(0,o.hu)(!En,"__referenceConstructor has already been defined"),En=e}(Vi);var qi=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),Bi=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),zi={},Gi=!1;function Ki(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=me(i,r),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c="MISSING_ENV_VAR".FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,i="http://"+c+"?ns="+u.namespace,u=(s=me(i,r)).repoInfo):a=!s.repoInfo.secure;var l=r&&a?new Bi:new qi(e,t);return De("Invalid Firebase Database URL",1,s),$(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path)."),_i(function(e,t,n){var r=(0,o.DV)(zi,t.name);r||(r={},zi[t.name]=r);var i=(0,o.DV)(r,e.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ni(e,Gi,t,n),r[e.toURLString()]=i,i}(u,e,l))}var Wi=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=(0,o.DV)(zi,t.app.name))&&(0,o.DV)(n,t.key)===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),gi(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof ni||T("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(e){if(e.stats_=yr(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Gr(e.repoInfo_,(function(t,n,r,i){oi(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return ai(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(t)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new zr(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){oi(e,t,n,r,i)}),(function(t){ai(e,t)}),(function(t){!function(e,t){O(t,(function(t,n){si(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=function(){return new wr(e.stats_,e.server_)},r=e.repoInfo_.toString(),gr[r]||(gr[r]=n()),gr[r]),e.infoData_=new pr,e.infoSyncTree_=new Un({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=Bn(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),si(e,"connected",!1),e.serverSyncTree_=new Un({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Tr(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Vi(this.repo_,q())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?T("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new se(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new Bi)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),(0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Vi?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),(0,o.Dv)(t,1,1,arguments.length);var n=me(e,this.repo_.repoInfo_.nodeAdmin);De(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){(0,o.Dv)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),gi(this.repo_)},e.prototype.goOnline=function(){(0,o.Dv)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),yi(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Hi=Object.freeze({__proto__:null,forceLongPolling:function(){jr.forceDisallow(),Dr.forceAllow()},forceWebSockets:function(){Dr.forceDisallow()},isWebSocketsAvailable:function(){return jr.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new br(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);O(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,u=void 0!==a&&a;Mr(r);var c=new s.zt("auth-internal",new s.H0("database-standalone"));return c.setComponent(new s.wA("auth-internal",(function(){return i}),"PRIVATE")),{instance:Ki(t,c,n,u),namespace:o}}}),Qi=zr;zr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ji=Vr,$i=se,Yi=Object.freeze({__proto__:null,DataConnection:Qi,RealTimeConnection:Ji,hijackHash:function(e){var t=zr.prototype.put;return zr.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){zr.prototype.put=t}},ConnectionTarget:$i,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){Gi=e}(e)}}),Xi=Wi.ServerValue;!function(t){Mr(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.wA("database",(function(e,t){var n=t.instanceIdentifier;return Ki(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Vi,Query:Ui,Database:Wi,DataSnapshot:Kr,enableLogging:w,INTERNAL:Hi,ServerValue:Xi,TEST_ACCESS:Yi}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.6"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},594:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},589:(e,t,n)=>{"use strict";n.d(t,{BH:()=>f,LL:()=>C,ZR:()=>k,gQ:()=>V,zI:()=>S,hu:()=>i,g5:()=>o,US:()=>s,h$:()=>u,$s:()=>$,r3:()=>L,ne:()=>q,p$:()=>l,ZB:()=>h,gK:()=>K,z$:()=>d,GJ:()=>O,jU:()=>m,ru:()=>g,d:()=>b,xb:()=>F,w1:()=>w,hl:()=>I,uI:()=>p,UG:()=>v,Yr:()=>E,b$:()=>y,Mn:()=>_,w9:()=>D,cI:()=>x,UI:()=>j,xO:()=>U,DV:()=>M,ug:()=>J,dS:()=>Q,Pz:()=>P,Dv:()=>G,Wj:()=>W,lb:()=>H,eu:()=>T});var r=n(655),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function m(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function w(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return d().indexOf("MSAppHost/")>=0}function E(){return!1}function I(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function S(){return!(!navigator||!navigator.cookieEnabled)}var k=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),C=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?A(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},e}();function A(e,t){return e.replace(N,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var N=/\{\$([^}]+)}/g;function x(e){return JSON.parse(e)}function P(e){return JSON.stringify(e)}var R=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=x(c(o[0])||""),n=x(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},D=function(e){var t=R(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},O=function(e){var t=R(e).claims;return"object"==typeof t&&!0===t.admin};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function F(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function U(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var V=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function q(e,t){var n=new B(e,t);return n.subscribe.bind(n)}var B=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function z(){}var G=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function K(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+(r+" argument ")}function W(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(K(e,t,r)+"must be a valid function.")}function H(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(K(e,t,r)+"must be a valid context object.")}var Q=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},J=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function $(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},679:(e,t,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!(o[g]||r&&r[g]||v&&v[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}},676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,T=60107,S=60108,k=60114,C=60109,A=60110,N=60112,x=60113,P=60120,R=60115,D=60116,O=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),T=U("react.fragment"),S=U("react.strict_mode"),k=U("react.profiler"),C=U("react.provider"),A=U("react.context"),N=U("react.forward_ref"),x=U("react.suspense"),P=U("react.suspense_list"),R=U("react.memo"),D=U("react.lazy"),O=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var G=!1;function K(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case I:return"Portal";case k:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return H(e.type);case O:return H(e._render);case D:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Ae=null;function Ne(e){if(e=Zr(e)){if("function"!=typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),ke(e.stateNode,e.type,t))}}function xe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Le=Re,Me=!1,Fe=!1;function je(){null===Ce&&null===Ae||(Oe(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ve){Ve=!1}function Be(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ge=null,Ke=!1,We=null,He={onError:function(e){ze=!0,Ge=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,Ge=null,Be.apply(He,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ye(e){if(Je(e)!==e)throw Error(a(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Xr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},St={};function kt(e){if(Tt[e])return Tt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=kt("animationend"),At=kt("animationiteration"),Nt=kt("animationstart"),xt=kt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Kt|0)|0},Gt=Math.log,Kt=Math.LN2,Wt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Qt=!0;function Jt(e,t,n,r){Me||Oe();var i=Yt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||je()}}function $t(e,t,n,r){Ht(Wt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=Xr(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),gn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return Sn}var Cn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),xn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var Ln=h&&"TextEvent"in window&&!On,Mn=h&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){xe(r),0<(t=Dr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Hn(e){Sr(e,0)}function Qn(e){if(Y(ei(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(h){var Yn;if(h){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"==typeof Zn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",tr),Wn=Kn=null)}function tr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];if(Gn(t,Wn,e,Se(e)),e=Hn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,je()}}}}function nr(e,t,n){"focusin"===e?(er(),Wn=n,(Kn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Dr(mr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Dt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Rt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ge;ze=!1,Ge=null,Ke||(Ke=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Tr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Tr(i,s,c),o=u}}}if(Ke)throw e=We,Ke=!1,We=null,e}function kr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(xr(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),xr(o,e,i,t),a.add(s))}function xr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=$t;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Xr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ct:case At:case Nt:u=bn;break;case xt:u=xn;break;case"scroll":u=pn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&null!=(v=Ue(p,f))&&l.push(Rr(p,v,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[$r])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,Xr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Or(d))p++;for(d=0,v=f;v;v=Or(v))d++;for(;0<p-d;)l=Or(l),p--;for(;0<d-p;)f=Or(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Or(l),f=Or(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(zn(s))if($n)m=or;else{m=rr;var g=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Gn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ei(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(vr=g,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,qn=!0)),0<(g=Dr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),(y||null!==(y=Vn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Un(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Dr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Sr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Or(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,jr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Hr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Hr,Jr="__reactProps$"+Hr,$r="__reactContainer$"+Hr,Yr="__reactEvents$"+Hr;function Xr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Qr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Qr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Jr]||null}function ni(e){var t=e[Yr];return void 0===t&&(t=e[Yr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Si=o.unstable_requestPaint,ki=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},Oi=void 0!==Si?Si:function(){},Li=null,Mi=null,Fi=!1,ji=ki(),Ui=1e4>ji?ki:function(){return ki()-ji};function Vi(){switch(Ci()){case Ai:return 99;case Ni:return 98;case xi:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Ai;case 98:return Ni;case 97:return xi;case 96:return Pi;case 95:return Ri;default:throw Error(a(332))}}function Bi(e,t){return e=qi(e),_i(e,t)}function zi(e,t,n){return e=qi(e),Ei(e,t,n)}function Gi(){if(null!==Mi){var e=Mi;Mi=null,Ii(e)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(Ai,Gi),t}finally{Fi=!1}}}var Wi=_.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),Ji=null,$i=null,Yi=null;function Xi(){Yi=$i=Ji=null}function Zi(e){var t=Qi.current;ai(Qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Ji=e,Yi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Da=!0),e.firstContext=null)}function no(e,t){if(Yi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Yi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Ji)throw Error(a(308));$i=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"==typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=v.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function mo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case I:return(t=Ku(t,e.mode,n)).return=e,t}if(bo(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(bo(n)||B(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=qu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return v(e,r,o,u);if(B(o))return m(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var Io=Eo(!0),To=Eo(!1),So={},ko=oi(So),Co=oi(So),Ao=oi(So);function No(e){if(e===So)throw Error(a(174));return e}function xo(e,t){switch(si(Ao,t),si(Co,e),si(ko,So),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(ko),si(ko,t)}function Po(){ai(ko),ai(Co),ai(Ao)}function Ro(e){No(Ao.current);var t=No(ko.current),n=de(t,e.type);t!==n&&(si(Co,e),si(ko,n))}function Do(e){Co.current===e&&(ai(ko),ai(Co))}var Oo=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,jo=!1;function Uo(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qo(e){if(jo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Gr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Fo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function zo(e){if(e!==Mo)return!1;if(!jo)return Bo(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Gr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Fo=Mo=null,jo=!1}var Ko=[];function Wo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Ho=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,Jo=0,$o=null,Yo=null,Xo=null,Zo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Jo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?Na:xa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Xo=Yo=null,t.updateQueue=null,Ho.current=Pa,e=n(r,i)}while(ea)}if(Ho.current=Aa,t=null!==Yo&&null!==Yo.next,Jo=0,Xo=Yo=$o=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?$o.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function oa(){if(null===Yo){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Xo?$o.memoizedState:Xo.next;if(null!==t)Xo=t,Yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?$o.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Jo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,$o.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function la(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ho.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=Xo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=$o;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(v,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=Ca.bind(null,$o,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ca.bind(null,$o,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function va(){return oa().memoizedState}function ma(e,t,n,r){var i=ia();$o.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var a=Yo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}$o.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ma(516,4,e,t)}function ba(e,t){return ga(516,4,e,t)}function wa(e,t){return ga(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)}function Ia(){}function Ta(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ka(e,t){var n=Vi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ca(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===$o||null!==a&&a===$o)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var Aa={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,$o,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ia,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=ka.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&$o.mode)&&($o.flags|=516,da(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},xa={readContext:no,useCallback:Ta,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Sa,useReducer:sa,useRef:va,useState:function(){return sa(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Pa={readContext:no,useCallback:Ta,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Sa,useReducer:ua,useRef:va,useState:function(){return ua(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Da=!1;function Oa(e,t,n,r){t.child=null===e?To(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Oa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=Vu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Da=!0)}return Va(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},mu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},mu(0,e),null;t.memoizedState={baseLanes:0},mu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,mu(0,r);return Oa(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Oa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function qa(e,t,n,r,i){if(di(n)){var o=!0;gi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&go(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||vo(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Hi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&go(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||vo(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Za(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Oa(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),xo(e,t.containerInfo)}var Ga,Ka,Wa,Ha={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Oo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Oo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vu(a,s),null!==e?r=Vu(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Vu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ya(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Xa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(e,t,r.children,n),0!=(2&(r=Oo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Oo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Po(),ai(li),ai(ci),Wo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=No(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(ko.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)kr(Er[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ue(r,s),kr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Ga(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":kr("cancel",e),kr("close",e),o=r;break;case"iframe":case"object":case"embed":kr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)kr(Er[o],e);o=r;break;case"source":kr("error",e),o=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),o=r;break;case"details":kr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),kr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),kr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ge(e,h):"number"==typeof h&&ge(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&kr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(Ao.current),No(ko.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ai(Oo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oo.current)?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),null===Cs||0==(134217727&Ls)&&0==(134217727&Ms)||fu(Cs,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Oo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Rs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Oo,1&Oo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Vs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Oo.current,si(Oo,s?1&t|2:1&t),n):null;case 23:case 24:return gu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),ai(li),ai(ci),Wo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return ai(Oo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Oo),null;case 4:return Po(),null;case 10:return Zi(e),null;case 23:case 24:return gu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(ko.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&kr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Wa=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ou(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pu(n,e),xu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pu(t,n);else{r=t;try{i()}catch(e){Ou(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ou(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Is=Math.ceil,Ts=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,ks=0,Cs=null,As=null,Ns=0,xs=0,Ps=oi(0),Rs=0,Ds=null,Os=0,Ls=0,Ms=0,Fs=0,js=null,Us=0,Vs=1/0;function qs(){Vs=Ui()+500}var Bs,zs=null,Gs=!1,Ks=null,Ws=null,Hs=!1,Qs=null,Js=90,$s=[],Ys=[],Xs=null,Zs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&ks)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===nu&&(nu=Os),0!==Wi.transition){0!==ru&&(ru=null!==js?js.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=Ut(0!=(4&ks)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Zs)throw Zs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Bt(e,t,n),e===Cs&&(Ms|=t,4===Rs&&fu(e,Ns));var r=Vi();1===t?0!=(8&ks)&&0==(48&ks)?du(e):(lu(e,n),0===ks&&(qs(),Gi())):(0==(4&ks)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),lu(e,n)),js=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Cs?Ns:0),t=Lt,0===r)null!==n&&(n!==Di&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ii(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Ei(Ai,Ki)):Li.push(n),n=Di):n=14===t?zi(99,du.bind(null,e)):zi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&ks))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cs?Ns:0);if(0===n)return null;var r=n,i=ks;ks|=16;var o=wu();for(Cs===e&&Ns===r||(qs(),yu(e,r));;)try{Iu();break}catch(t){bu(e,t)}if(Xi(),Ts.current=o,ks=i,null!==As?r=0:(Cs=null,Ns=0,r=Rs),0!=(Os&Ms))yu(e,0);else if(0!==r){if(2===r&&(ks|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=jt(e))&&(r=_u(e,n))),1===r)throw t=Ds,yu(e,0),fu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:ku(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(ku.bind(null,e),r);break}ku(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(ku.bind(null,e),n);break}ku(e);break;case 5:ku(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&ks))throw Error(a(327));if(Nu(),e===Cs&&0!=(e.expiredLanes&Ns)){var t=Ns,n=_u(e,t);0!=(Os&Ms)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ks|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=jt(e))&&(n=_u(e,t))),1===n)throw n=Ds,yu(e,0),fu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e),lu(e,Ui()),null}function pu(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&(qs(),Gi())}}function vu(e,t){var n=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=n)&&(qs(),Gi())}}function mu(e,t){si(Ps,xs),xs|=t,Os|=t}function gu(){xs=Ps.current,ai(Ps)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Po(),ai(li),ai(ci),Wo();break;case 5:Do(r);break;case 4:Po();break;case 13:case 19:ai(Oo);break;case 10:Zi(r);break;case 23:case 24:gu()}n=n.return}Cs=e,As=Vu(e.current,null),Ns=xs=Os=t,Rs=0,Ds=null,Fs=Ms=Ls=0}function bu(e,t){for(;;){var n=As;try{if(Xi(),Ho.current=Aa,Zo){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if(Jo=0,Xo=Yo=$o=null,ea=!1,Ss.current=null,null===n||null===n.return){Rs=1,Ds=t,As=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Oo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(c),f.updateQueue=g}else m.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rs&&(Rs=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ws||!Ws.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}Su(n)}catch(e){t=e,As===n&&null!==n&&(As=n=n.return);continue}break}}function wu(){var e=Ts.current;return Ts.current=Aa,null===e?Aa:e}function _u(e,t){var n=ks;ks|=16;var r=wu();for(Cs===e&&Ns===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if(Xi(),ks=n,Ts.current=r,null!==As)throw Error(a(261));return Cs=null,Ns=0,Rs}function Eu(){for(;null!==As;)Tu(As)}function Iu(){for(;null!==As&&!Ti();)Tu(As)}function Tu(e){var t=Bs(e.alternate,e,xs);e.memoizedProps=e.pendingProps,null===t?Su(e):As=t,Ss.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,xs)))return void(As=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&xs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(As=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function ku(e){var t=Vi();return Bi(99,Cu.bind(null,e,t)),null}function Cu(e,t){do{Nu()}while(null!==Qs);if(0!=(48&ks))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Xs&&0==(24&r)&&Xs.has(e)&&Xs.delete(e),e===Cs&&(As=Cs=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ks,ks|=32,Ss.current=null,Fr=Qt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===o&&(f=h),g===c&&++v===l&&(d=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},Qt=!1,iu=null,ou=!1,zs=r;do{try{Au()}catch(e){if(null===zs)throw Error(a(330));Ou(zs,e),zs=zs.nextEffect}}while(null!==zs);iu=null,zs=r;do{try{for(s=e;null!==zs;){var b=zs.flags;if(16&b&&ge(zs.stateNode,""),128&b){var w=zs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ms(zs),zs.flags&=-3;break;case 6:ms(zs),zs.flags&=-3,ws(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,ws(zs.alternate,zs);break;case 4:ws(zs.alternate,zs);break;case 8:bs(s,u=zs);var E=u.alternate;ps(u),null!==E&&ps(E)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Ou(zs,e),zs=zs.nextEffect}}while(null!==zs);if(_=jr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=lr(b,E),o=lr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!Fr,jr=Fr=null,e.current=n,zs=r;do{try{for(b=e;null!==zs;){var I=zs.flags;if(36&I&&hs(b,zs.alternate,zs),128&I){w=void 0;var T=zs.ref;if(null!==T){var S=zs.stateNode;switch(zs.tag){case 5:w=S;break;default:w=S}"function"==typeof T?T(w):T.current=w}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Ou(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Oi(),ks=i}else e.current=n;if(Hs)Hs=!1,Qs=e,Js=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((I=zs).sibling=null,I.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Ws=null),1===r?e===eu?Zs++:(Zs=0,eu=e):Zs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Gs)throw Gs=!1,e=Ks,Ks=null,e;return 0!=(8&ks)||Gi(),null}function Au(){for(;null!==zs;){var e=zs.alternate;ou||null===iu||(0!=(8&zs.flags)?Ze(zs,iu)&&(ou=!0):13===zs.tag&&Es(e,zs)&&Ze(zs,iu)&&(ou=!0));var t=zs.flags;0!=(256&t)&&ls(e,zs),0==(512&t)||Hs||(Hs=!0,zi(97,(function(){return Nu(),null}))),zs=zs.nextEffect}}function Nu(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Bi(e,Ru)}return!1}function xu(e,t){$s.push(t,e),Hs||(Hs=!0,zi(97,(function(){return Nu(),null})))}function Pu(e,t){Ys.push(t,e),Hs||(Hs=!0,zi(97,(function(){return Nu(),null})))}function Ru(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&ks))throw Error(a(331));var t=ks;ks|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ks=t,Gi(),!0}function Du(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Bt(e,1,t),lu(e,t))}function Ou(e,t){if(3===e.tag)Du(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Du(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Bt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(62914560&Ns)===Ns&&500>Ui()-Us?yu(e,0):Fs|=n),lu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===nu&&(nu=Os),0===(t=Vt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Bt(e,t,n),lu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Fu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case T:return Bu(n.children,i,o,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case k:return(e=ju(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case x:return(e=ju(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case P:return(e=ju(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return zu(n,i,o,t);case j:return(e=ju(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case N:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e;case O:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=F,e.lanes=n,e}function Gu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=mi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function Xu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Wu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[$r]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Ju(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Ju(a);u.call(e)}}vu((function(){Qu(t,a,e,i)}))}return Ju(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(a(200));return Hu(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Da=!0;else{if(0==(n&r)){switch(Da=!1,t.tag){case 3:za(t),Go();break;case 5:Ro(t);break;case 1:di(t.type)&&gi(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Oo,1&Oo.current),null!==(t=Za(e,t,n))?t.sibling:null);si(Oo,1&Oo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Xa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Oo,Oo.current),r)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return Za(e,t,n)}Da=0!=(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;gi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,Oa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Hi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Hi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=Za(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Gr(t.stateNode.containerInfo.firstChild),Mo=t,o=jo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=To(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Oa(e,t,r,n),Go();t=t.child}return t;case 5:return Ro(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ua(e,t),Oa(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Qa(e,t,n);case 4:return xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return o=Hi(i=t.type,t.pendingProps),Ma(e,t,i,o=Hi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,gi(t)):e=!1,to(t,n),mo(t,r,i),yo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Xa(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},Xu.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Yu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Yu(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Yu(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=pu,De=function(e,t,n,r,i){var o=ks;ks|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(ks=o)&&(qs(),Gi())}},Oe=function(){0==(49&ks)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Gi()}(),Nu())},Le=function(e,t){var n=ks;ks|=2;try{return e(t)}finally{0===(ks=n)&&(qs(),Gi())}};var nc={Events:[Zr,ei,ti,xe,Pe,Nu,{current:!1}]},rc={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ks;if(0!=(48&n))return e(t);ks|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{ks=n,Gi()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(vu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},864:(e,t,n)=>{"use strict";e.exports=n(921)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(s=e[c],c);u+=C(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function P(){var e=x.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?_.postMessage(null):(v=!1,m=null)}catch(e){throw _.postMessage(null),e}}else v=!1},n=function(e){m=e,v||(v=!0,_.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],C=[],A=1,N=null,x=3,P=!1,R=!1,D=!1;function O(e){for(var t=I(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,E(k,t)}t=I(C)}}function L(e){if(D=!1,O(e),!R)if(null!==I(k))R=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,D&&(D=!1,i()),P=!0;var o=x;try{for(O(n),N=I(k);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,x=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===I(k)&&T(k),O(n)}else T(k);N=I(k)}if(null!==N)var u=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,x=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(k)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===I(k)&&e===I(C)&&(D?i():D=!0,r(L,a-s))):(e.sortIndex=u,E(k,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},774:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>a,Jh:()=>s,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create},104:e=>{var t="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e=n(935),t=n(864),r=n(294),i=n(774),o=n.n(i);const a=function(e){function t(e,r,u,c,f){for(var d,p,v,m,w,E=0,I=0,T=0,S=0,k=0,R=0,O=v=d=0,M=0,F=0,j=0,U=0,V=u.length,q=V-1,B="",z="",G="",K="";M<V;){if(p=u.charCodeAt(M),M===q&&0!==I+S+T+E&&(0!==I&&(p=47===I?10:47),S=T=E=0,V++,q++),0===I+S+T+E){if(M===q&&(0<F&&(B=B.replace(h,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<q;++O)switch(u.charCodeAt(O)){case 47:if(42===p&&42===u.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}switch(v=u.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<F&&(B=B.replace(h,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,f+1)).length,0<D&&(w=s(3,v,F=n(P,B,j),r,A,C,U,p,f,c),B=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(_,a);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(g,"$1 $2"))+"{"+v+"}",v=1===x||2===x&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v="";break;default:v=t(r,n(r,B,j),v,c,f+1)}G+=v,v=j=F=O=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(h,""):B).trim()).length))switch(0===O&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(w=s(1,B,r,e,A,C,z.length,c,f,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}j=F=O=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<D*L&&s(0,B,r,e,A,C,z.length,c,f,c),C=1,A++;break;case 59:case 125:if(0===I+S+T+E){C++;break}default:switch(C++,m=u.charAt(M),p){case 9:case 32:if(0===S+E+I)switch(k){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+I+E&&(F=j=1,m="\f"+m);break;case 108:if(0===S+I+E+N&&0<O)switch(M-O){case 2:112===k&&58===u.charCodeAt(M-3)&&(N=k);case 8:111===R&&(N=R)}break;case 58:0===S+I+E&&(O=M);break;case 44:0===I+T+S+E&&(F=1,m+="\r");break;case 34:case 39:0===I&&(S=S===p?0:0===S?p:S);break;case 91:0===S+I+T&&E++;break;case 93:0===S+I+T&&E--;break;case 41:0===S+I+E&&T--;break;case 40:if(0===S+I+E){if(0===d)switch(2*k+3*R){case 533:break;default:d=1}T++}break;case 64:0===I+T+S+E+O+v&&(v=1);break;case 42:case 47:if(!(0<S+E+T))switch(I){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:I=47;break;case 220:U=M,I=42}break;case 42:47===p&&42===k&&U+2!==M&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,M+1)),m="",I=0)}}0===I&&(B+=m)}R=k,k=p,M++}if(0<(U=z.length)){if(F=r,0<D&&void 0!==(w=s(2,z,F,e,A,C,U,c,f,c))&&0===(z=w).length)return K+z+G;if(z=F.join(",")+"{"+z+"}",0!=x*N){switch(2!==x||o(z,2)||(N=0),N){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}N=0}}return K+z+G}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===x||2===x&&o(u,1)?"-webkit-"+u+u:u}if(0===x||2===x&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<D;++f)switch(h=R[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?x=1:(x=2,O=e):x=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,A,C,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(P,r,n,0,0);return 0<D&&void 0!==(i=s(-2,o,r,r,A,C,o.length,0,0,0))&&(o=i),N=0,C=A=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,I=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,C=1,A=1,N=0,x=1,P=[],R=[],D=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=R.length=0;break;default:if("function"==typeof t)R[D++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},s={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const c=(l={},function(e){return void 0===l[e]&&(l[e]=(t=e,u.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91)),l[e];var t});var l,h=n(679),f=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,t.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var _="undefined"!=typeof process&&("MISSING_ENV_VAR".REACT_APP_SC_ATTR||"MISSING_ENV_VAR".SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,I=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=="MISSING_ENV_VAR".REACT_APP_SC_DISABLE_SPEEDY&&""!=="MISSING_ENV_VAR".REACT_APP_SC_DISABLE_SPEEDY?"false"!=="MISSING_ENV_VAR".REACT_APP_SC_DISABLE_SPEEDY&&"MISSING_ENV_VAR".REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=="MISSING_ENV_VAR".SC_DISABLE_SPEEDY&&""!=="MISSING_ENV_VAR".SC_DISABLE_SPEEDY&&"false"!=="MISSING_ENV_VAR".SC_DISABLE_SPEEDY&&"MISSING_ENV_VAR".SC_DISABLE_SPEEDY),T={};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var k=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),C=new Map,A=new Map,N=1,x=function(e){if(C.has(e))return C.get(e);for(;A.has(N);)N++;var t=N++;return C.set(e,t),A.set(t,e),t},P=function(e){return A.get(e)},R=function(e,t){C.set(e,t),A.set(t,e)},D="style["+_+'][data-styled-version="5.2.1"]',O=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},M=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(O);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(R(c,u),L(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},F=function(){return n.nc},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.2.1");var a=F();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=E,z={isServer:!E,useCSSOMInjection:!I},G=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=d({},z,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&E&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(D),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(_)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return x(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new U(i):new V(i),new k(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(x(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(x(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(x(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=P(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=_+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),K=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function H(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(K,"$1-$2")}var Q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},J=function(e){return Q(5381,e)};function $(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!w(n))return!1}return!0}var Y=J("5.2.1"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(e),this.componentId=t,this.baseHash=Q(Y,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=me(this.rules,e,t,n).join(""),a=H(Q(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Q(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=me(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Q(c,p+h),l+=p}}if(l){var v=H(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Z=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?g:e,s=o.options,u=void 0===s?g:s,c=o.plugins,l=void 0===c?m:c,h=new a(u),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&ee.includes(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Z,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,c)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||S(15),Q(e,t.name)}),5381).toString():"",v}var ne=r.createContext(),re=(ne.Consumer,r.createContext()),ie=(re.Consumer,new G),oe=te();function ae(){return(0,r.useContext)(ne)||ie}function se(){return(0,r.useContext)(re)||oe}function ue(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=ae(),s=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){o()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(ne.Provider,{value:s},r.createElement(re.Provider,{value:u},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),le=/([A-Z])/,he=/([A-Z])/g,fe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(he,de).replace(fe,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,u=e.length;a<u;a+=1)""!==(i=me(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ve(e)?"":w(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ve(t[a])&&(v(t[a])?o.push.apply(o,e(t[a],a)):y(t[a])?o.push(pe(a)+":",t[a],";"):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in s?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||v(e)?me(p(m,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(p(e,n))}new Set;var ye=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function _e(e){return e.replace(be,"-").replace(we,"")}var Ee=function(e){return H(J(e)>>>0)};function Ie(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ke(e,t,n){var r=e[n];Te(t)&&Te(r)?Ce(r,t):e[n]=t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Te(a))for(var s in a)Se(s)&&ke(e,a[s],s)}return e}var Ae=r.createContext();Ae.Consumer;var Ne={};function xe(e,t,n){var i=w(e),o=!Ie(e),a=t.attrs,s=void 0===a?m:a,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":_e(e);Ne[n]=(Ne[n]||0)+1;var r=n+"-"+Ee("5.2.1"+n+Ne[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,h=t.displayName,p=void 0===h?function(e){return Ie(e)?"styled."+e:"Styled("+b(e)+")"}(e):h,v=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||l,_=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,E=t.shouldForwardProp;i&&e.shouldForwardProp&&(E=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var I,T=new X(n,v,i?e.componentStyle:void 0),S=T.isStatic&&0===s.length,k=function(e,t){return function(e,t,n,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,h=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in y(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ye(t,(0,r.useContext)(Ae),s)||g,t,o),v=p[0],m=p[1],b=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(g,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,v),w=n,_=m.$as||t.$as||m.as||t.as||f,E=Ie(_),I=m!==t?d({},t,{},m):t,T={};for(var S in I)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?T.as=I[S]:(l?l(S,c):!E||c(S))&&(T[S]=I[S]));return t.style&&m.style!==t.style&&(T.style=d({},t.style,{},m.style)),T.className=Array.prototype.concat(u,h,b!==h?b:null,t.className,m.className).filter(Boolean).join(" "),T.ref=w,(0,r.createElement)(_,T)}(I,e,t,S)};return k.displayName=p,(I=r.forwardRef(k)).attrs=_,I.componentStyle=T,I.displayName=p,I.shouldForwardProp=E,I.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,I.styledComponentId=v,I.target=i?e.target:e,I.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Ie(e)?e:_e(b(e)));return xe(e,d({},i,{attrs:_,componentId:o}),n)},Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ce({},e.defaultProps,t):t}}),I.toString=function(){return"."+I.styledComponentId},o&&f()(I,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),I}var Pe=function(e){return function e(n,r,i){if(void 0===i&&(i=g),!(0,t.isValidElementType)(r))return S(1,String(r));var o=function(){return n(r,i,ge.apply(void 0,arguments))};return o.withConfig=function(t){return e(n,r,d({},i,{},t))},o.attrs=function(t){return e(n,r,d({},i,{attrs:Array.prototype.concat(i.attrs,t).filter(Boolean)}))},o}(xe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Pe[e]=Pe(e)}));var Re=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=$(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ge.apply(void 0,[e].concat(n)).join(""),o=Ee(i);return new ce(o,i)}!function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=F();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[_]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=F();return i&&(n.nonce=i),[r.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?S(2):r.createElement(ue,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return S(3)}}();const Oe=Pe;var Le,Me,Fe,je,Ue,Ve,qe,Be,ze,Ge,Ke,We,He,Qe,Je,$e,Ye,Xe,Ze,et,tt,nt,rt,it={darkPurple:"#1C1828",lightPurple:"#03a9f4",turquoise:"#5AF3CC",white:"#EFEFEF",opacity10:"1A",opacity20:"33",opacity30:"4D",opacity40:"66",opacity50:"80",opacity60:"99",opacity70:"B3",opacity80:"CC",opacity90:"E6"};function ot(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var at=Oe.div(Le||(Le=ot(["\n  margin: ",";\n  position: relative;\n  display: flex;\n  justify-content: ",";\n  align-items: ",";\n  flex-direction: ",";\n  width: ",";\n  height: ",";\n  background-color: ",";\n"])),(function(e){var t=e.margin;return null!=t?t:"0"}),(function(e){var t=e.justifyContent;return null!=t?t:"center"}),(function(e){var t=e.alignItems;return null!=t?t:"center"}),(function(e){var t=e.flexDirection;return null!=t?t:"row"}),(function(e){var t=e.width;return null!=t?t:"100%"}),(function(e){var t=e.height;return null!=t?t:"100%"}),(function(e){var t,n,r=e.backgroundColor;return null!==(t=null!==(n=it[r])&&void 0!==n?n:r)&&void 0!==t?t:"transparent"})),st=Oe.p(Me||(Me=ot(["\n  font-family: ",";\n  text-transform: uppercase;\n  margin: ",";\n  color: ",";\n"])),"Space Grotesk, sans-serif",(function(e){var t=e.margin;return null!=t?t:"0"}),(function(e){var t,n,r=e.color;return null!==(t=null!==(n=it[r])&&void 0!==n?n:r)&&void 0!==t?t:it.lightPurple})),ut=Oe(st)(Fe||(Fe=ot(["\n  font-size: 26rem;\n\n  @media screen and (max-width: 550px) {\n    font-size: 4rem;\n  }\n"]))),ct=Oe(st)(je||(je=ot(["\n  font-size: 13.7rem;\n\n  @media screen and (max-width: 550px) {\n    font-size: 4rem;\n  }\n"]))),lt=Oe(st)(Ue||(Ue=ot(["\n  font-size: 8.5rem;\n\n  @media screen and (max-width: 550px) {\n    font-size: 4rem;\n  }\n"]))),ht=Oe(st)(Ve||(Ve=ot(["\n  font-size: 2rem;\n\n  @media screen and (max-width: 550px) {\n    font-size: 1rem;\n    margin: 0 0 0 0.5rem;\n  }\n"]))),ft=Oe(st)(qe||(qe=ot(["\n  font-size: ",";\n  margin: 0 0 3rem;\n\n  @media screen and (max-width: 550px) {\n    font-size: ",";\n    margin: 0 0 0 ",";\n  }\n"])),(function(e){var t=e.size;return t?"".concat(t,"rem"):"2rem"}),(function(e){var t=e.size;return t?"".concat(t/2,"rem"):"1rem"}),(function(e){var t=e.size;return t?"".concat(t/4,"rem"):"0.5rem"})),dt=Oe.div(Be||(Be=ot(["\n  margin: 3rem;\n\n  @media screen and (max-width: 550px) {\n    margin: 1.5rem;\n  }\n"]))),pt=Oe.p(ze||(ze=ot(["\n  margin: 0 0 1rem;\n  text-align: ",";\n  font-size: ",";\n  color: ",";\n  width: ",";\n\n  @media screen and (max-width: 550px) {\n    font-size: 1rem;\n    width: 30rem;\n  }\n"])),(function(e){var t=e.textAlign;return null!=t?t:"right"}),(function(e){var t=e.fontSize;return null!=t?t:"1.6rem"}),(function(e){var t,n,r=e.color;return null!==(t=null!==(n=it[r])&&void 0!==n?n:r)&&void 0!==t?t:it.white}),(function(e){var t=e.width;return null!=t?t:"60rem"})),vt=De(Ge||(Ge=ot(["\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n"]))),mt=Oe.div(Ke||(Ke=ot(["\n  margin: 4rem;\n  border: 8px solid ",";\n  border-radius: 50%;\n  border-top: 8px solid ",";\n  width: 40px;\n  height: 40px;\n  animation: "," 2s linear infinite;\n\n  @media screen and (max-width: 550px) {\n    margin: 1rem;\n    width: 1rem;\n    height: 1rem;\n  }\n"])),it.white,it.darkPurple,vt),gt=Oe.img(We||(We=ot(["\n  height: ",";\n  margin-left: 5rem;\n\n  @media screen and (max-width: 550px) {\n    height: 4rem;\n    margin-left: 0;\n  }\n"])),(function(e){var t=e.height;return null!=t?t:"18rem"})),yt=Oe.a(He||(He=ot(["\n  font-size: 1.6rem;\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n  }\n\n  @media screen and (max-width: 550px) {\n    font-size: 1rem;\n  }\n"])),it.white,it.turquoise),bt=De(Qe||(Qe=ot(["\n  0% {\n    transform: scale(0.2);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),wt=Oe(at)(Je||(Je=ot(["\n  display: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  z-index: 2;\n  background-color: ",";\n  animation: "," 0.5s linear;\n"])),(function(e){return e.isOpen?"flex":"none"}),it.darkPurple+it.opacity90,bt),_t=Oe.div($e||($e=ot(["\n  position: fixed;\n  top: 15vh;\n  right: 20vw;\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  @media screen and (max-width: 550px) {\n    top: unset;\n    bottom: 2rem;\n    right: 3rem;\n  }\n"]))),Et=Oe(at)(Ye||(Ye=ot(["\n  width: auto;\n  height: auto;\n  background-color: ",";\n"])),(function(e){var t,n,r=e.backgroundColor;return null!==(t=null!==(n=it[r])&&void 0!==n?n:r)&&void 0!==t?t:"transparent"})),It=Oe.form(Xe||(Xe=ot(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Tt=Oe.p(Ze||(Ze=ot(["\n  color: ",";\n  margin: 0 1rem;\n  align-self: flex-end;\n\n  &::before {\n    display: inline;\n    content: ' ';\n  }\n"])),it.turquoise),St=Oe.input(et||(et=ot(["\n  padding: 1rem;\n  color: ",";\n  font-size: 1.6rem;\n  font-family: inherit;\n  border-radius: 10px;\n  background-color: ",";\n  width: 50rem;\n  border: none;\n  margin: 1rem;\n\n  @media screen and (max-width: 550px) {\n    padding: 5px;\n    margin: 0.5rem 0;\n    width: 80vw;\n  }\n"])),it.darkPurple,it.white),kt=Oe.select(tt||(tt=ot(["\n  padding: 1rem;\n  color: ",";\n  font-size: 1.6rem;\n  font-family: inherit;\n  border-radius: 10px;\n  background-color: ",";\n  width: 24rem;\n  border: none;\n  margin: 1rem;\n\n  @media screen and (max-width: 550px) {\n    padding: 5px;\n    width: 37vw;\n  }\n"])),it.darkPurple,it.white),Ct=Oe.textarea(nt||(nt=ot(["\n  padding: 1rem;\n  color: ",";\n  font-size: 1.6rem;\n  font-family: inherit;\n  border-radius: 10px;\n  background-color: ",";\n  width: 50rem;\n  border: none;\n  margin: 1rem;\n  resize: none;\n\n  @media screen and (max-width: 550px) {\n    padding: 5px;\n    margin: 0.5rem 0;\n    width: 80vw;\n  }\n"])),it.darkPurple,it.white),At=Oe.button(rt||(rt=ot(["\n  margin: 1rem;\n  cursor: pointer;\n  font-size: 1.6rem;\n  font-family: inherit;\n  width: 20rem;\n  height: 4rem;\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  border: none;\n  outline: none;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n"])),it.turquoise,it.darkPurple);const Nt=n.p+"1267ba8c29c234d928cf1998654271a0.png";var xt,Pt,Rt,Dt=n(294),Ot=Oe(at)(xt||(Pt=["\n  margin: 3rem;\n"],Rt||(Rt=Pt.slice(0)),xt=Object.freeze(Object.defineProperties(Pt,{raw:{value:Object.freeze(Rt)}}))));const Lt=function(){return Dt.createElement(at,{flexDirection:"column",height:"100vh",backgroundColor:"darkPurple"},Dt.createElement(ct,{color:"white"}," Awards "),Dt.createElement(Ot,{height:"auto"},Dt.createElement(lt,null,"6,000"),Dt.createElement(gt,{height:"10rem",src:Nt}),Dt.createElement(ct,{color:"turquoise"}," 1 ")),Dt.createElement(Ot,{height:"auto"},Dt.createElement(lt,null,"3,000"),Dt.createElement(gt,{height:"10rem",src:Nt}),Dt.createElement(ct,{color:"turquoise"}," 2 ")),Dt.createElement(Ot,{height:"auto"},Dt.createElement(lt,null,"1,000"),Dt.createElement(gt,{height:"10rem",src:Nt}),Dt.createElement(ct,{color:"turquoise"}," 3 ")))};var Mt=n(294);const Ft=function(){return Mt.createElement(at,{height:"100vh",backgroundColor:"lightPurple",flexDirection:"column"},Mt.createElement(lt,{color:"darkPurple"}," THE CHALLENGES"),Mt.createElement(at,{height:"15vh"},Mt.createElement(lt,{color:"turquoise"},"DATA"),Mt.createElement(gt,{height:"5rem",src:Nt})),Mt.createElement(at,{height:"15vh"},Mt.createElement(lt,{color:"turquoise"},"PAYMENTS"),Mt.createElement(gt,{height:"5rem",src:Nt})),Mt.createElement(at,{height:"15vh"},Mt.createElement(lt,{color:"turquoise"},"MOBILE"),Mt.createElement(gt,{height:"5rem",src:Nt})),Mt.createElement(at,{height:"15vh"},Mt.createElement(lt,{color:"turquoise"},"INTEGRATIONS"),Mt.createElement(gt,{height:"5rem",src:Nt})))};var jt=[{name:"Amnon Ashkenazy",image:"https://media-exp1.licdn.com/dms/image/C4D03AQEV6jSGhiD3JA/profile-displayphoto-shrink_800_800/0/1609058183390?e=1622678400&v=beta&t=-Kgd-ixoVpvWIqmSwXTopWowecpcVSToqpQ52G7b3io",facebookLink:"https://www.facebook.com/amnon1233/",linkedInLink:"https://www.linkedin.com/in/amnon-ashkenazy-a1590b181/"},{name:"Saar Davidson",image:"https://media-exp1.licdn.com/dms/image/C4D03AQGktmJkK1FXnQ/profile-displayphoto-shrink_200_200/0/1614792800287?e=1622678400&v=beta&t=adm7T7qCWg0rc0nZr6G0NKuXw0yTTvswbxqDtQDIQBk",facebookLink:"https://www.facebook.com/SaarDavidson",linkedInLink:"https://www.linkedin.com/in/saar-davidson/"},{name:"Bar Shaya",image:n.p+"061cf8784f441744097d0a7a9e249f8e.jpeg",facebookLink:"https://www.facebook.com/bar.shaya",linkedInLink:"https://www.linkedin.com/in/barshaya/"}];const Ut=n.p+"4fb201a8c1dcdd92ce353111cf010274.png",Vt=n.p+"1e1aa6fa1125f159c46f5876da727f06.png",qt=n.p+"d2244093e9519c0b23bfb5088e1d2f8c.png";n.p;var Bt,zt,Gt,Kt,Wt,Ht=n(294);function Qt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Jt(e){var t=e.text;return Ht.createElement(at,{width:"auto",height:"auto",margin:"0 0 5rem"},Ht.createElement(Zt,{color:"turquoise"},t),Ht.createElement("img",{src:Ut}))}function $t(e){var t=e.linkedInLink,n=void 0===t?"#":t,r=e.facebookLink,i=void 0===r?"#":r,o=e.name,a=void 0===o?"Full Name":o,s=e.image,u=void 0===s?"https://image.shutterstock.com/image-illustration/male-default-avatar-profile-gray-260nw-582509287.jpg":s;return Ht.createElement(at,{width:"auto",height:"auto",flexDirection:"column"},Ht.createElement(en,{src:u}),Ht.createElement(ht,{color:"white"}," ",a," "),Ht.createElement(at,null,Ht.createElement("a",{href:i},Ht.createElement(tn,{src:qt})),Ht.createElement("a",{href:n},Ht.createElement(tn,{src:Vt}))))}var Yt=Oe(at)(Bt||(Bt=Qt(["\n  width: 80vw;\n  margin: 5rem;\n"]))),Xt=Oe(at)(zt||(zt=Qt(["\n  flex-wrap: wrap;\n  gap: 4rem;\n"]))),Zt=Oe(lt)(Gt||(Gt=Qt(["\n  margin-right: 5rem;\n"]))),en=Oe.img(Kt||(Kt=Qt(["\n  border-radius: 2rem;\n  margin: 1rem 0;\n  height: 30rem;\n"]))),tn=Oe.img(Wt||(Wt=Qt(["\n  border-radius: 0.5rem;\n  margin: 1rem;\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n"])));const nn=function(){return Ht.createElement(at,{height:"auto",backgroundColor:"darkPurple"},Ht.createElement(Yt,{flexDirection:"column",alignItems:"flex-start"},Ht.createElement(Jt,{text:"Organizers"}),Ht.createElement(Xt,{height:"auto",justifyContent:"flex-end"},jt.map((function(e){var t=e.linkedInLink,n=e.facebookLink,r=e.name,i=e.image;return Ht.createElement($t,{linkedInLink:t,facebookLink:n,name:r,image:i})})))))};var rn=n(294);const on=function(){return rn.createElement(at,{height:"40vh",backgroundColor:"lightPurple",flexDirection:"column"},rn.createElement(pt,{textAlign:"center",fontSize:"4.5rem"},"!  "),rn.createElement(pt,{textAlign:"center"},"   -   "),rn.createElement(pt,{textAlign:"center"},"Colmanhackathon@gmail.com"))};var an,sn=n(104),un=n.n(sn),cn=n(294);function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fn=Oe.div(an||(an=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-left: 3rem;\n    width: 25rem;\n    \n    @media screen and (max-width: 550px) {\n        margin-left: 0.5rem;\n        width: 8rem;\n        position: relative;\n        left: 1rem;\n    }\n"]))),dn=864e5,pn=36e5;const vn=function(e){var t=e.date,n=void 0===t?"apr 26, 2021 12:00:00":t,i=ln((0,r.useState)({days:0,hours:0,minutes:0,secounds:0}),2),o=i[0],a=i[1],s=ln((0,r.useState)(!1),2),u=s[0],c=s[1],l=(0,r.useRef)();return(0,r.useEffect)((function(){var e;return e=new Date(n).getTime(),l.current&&clearInterval(l.current),l.current=setInterval((function(){var t,n=(new Date).getTime(),r=e-n;if(r<=0)return a({days:0,hours:0,minutes:0,secounds:0}),clearInterval(l.current);u||c(!0),a((t=r,{days:Math.floor(t/dn),hours:Math.floor(t%dn/pn),minutes:Math.floor(t%pn/6e4),secounds:Math.floor(t%6e4/1e3)}))}),1e3),function(){return clearInterval(l)}}),[]),cn.createElement(at,{height:"wrap-content"},Object.keys(o).map((function(e){var t=String(o[e]).padStart(2,"0"),n="secounds"!==e?":":" ";return cn.createElement(fn,{key:un()()},isNaN(o[e])||!u?cn.createElement(mt,null):cn.createElement(ct,{color:"turquoise"},"".concat(t," ").concat(n)),cn.createElement(ht,{margin:"0 0 0 2rem"},e))})))};var mn=n(294);const gn=function(){return mn.createElement(at,{flexDirection:"column",backgroundColor:"darkPurple",height:"100vh",justifyContent:"flex-start"},mn.createElement(dt,null),mn.createElement(dt,null),mn.createElement(ct,null,"WE START IN"),mn.createElement(vn,{date:"apr 26, 2021 12:00:00"}),mn.createElement(dt,null),mn.createElement(pt,{dir:"rtl",textAlign:"center"},"          SPLITIT     .       26                  ."))};var yn,bn,wn=n(294);function _n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var En=Oe.iframe(yn||(yn=_n(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  \n"]))),In=Oe.div(bn||(bn=_n(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  z-index: 1;\n  opacity: 0.2;\n"])),it.lightPurple);const Tn=function(){return wn.createElement(at,{height:"100vh"},wn.createElement(In,null),wn.createElement(En,{src:"https://www.youtube.com/embed/daAxOiSD78c",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))};var Sn,kn,Cn=n(294);function An(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Nn=Oe(at)(Sn||(Sn=An(["\n  position: relative;\n  left: 20rem;\n\n  @media screen and (max-width: 550px) {\n    left: 0;\n  }\n"]))),xn=Oe.div(kn||(kn=An(["\n  display: flex;\n  width: auto;\n  align-items: center;\n  transform: rotate(270deg) translateX(-20px);\n\n  @media screen and (max-width: 550px) {\n    position: absolute;\n    transform: none;\n    top: 2rem;\n    left: 2rem;\n  }\n"])));const Pn=function(){return Cn.createElement(at,{backgroundColor:"darkPurple",height:"100vh",id:"info"},Cn.createElement(Nn,{flexDirection:"column",alignItems:"flex-end",width:"auto"},Cn.createElement(lt,{color:"turquoise"},"who?"),Cn.createElement(ft,{dir:"rtl",color:"white",size:3},"            ."),Cn.createElement(lt,{color:"turquoise"},"when?"),Cn.createElement(ft,{dir:"rtl",color:"white",size:3},"25-26.4.2021"),Cn.createElement(lt,{color:"turquoise"},"where?"),Cn.createElement(ft,{dir:"rtl",color:"white",size:3},"        ."),Cn.createElement(lt,{color:"turquoise"},"what?"),Cn.createElement(ft,{dir:"rtl",color:"white",size:3},"       .")),Cn.createElement(xn,null,Cn.createElement(ut,null,"info"),Cn.createElement(gt,{src:Nt})))},Rn=n.p+"e7d2f7aa877a8ade02ae23cdcf5ddf9f.png";var Dn=e=>e instanceof HTMLElement;const On="blur",Ln="change",Mn="input",Fn="onChange",jn="onSubmit",Un="undefined",Vn="pattern",qn="required";var Bn=e=>null==e;const zn=e=>"object"==typeof e;var Gn=e=>!Bn(e)&&!Array.isArray(e)&&zn(e)&&!(e instanceof Date),Kn=e=>/^\w*$/.test(e),Wn=e=>e.filter(Boolean),Hn=e=>Wn(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function Qn(e,t,n){let r=-1;const i=Kn(t)?[t]:Hn(t),o=i.length,a=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==a){const n=e[t];o=Gn(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e}var Jn=(e,t={})=>{for(const n in e)Kn(n)?t[n]=e[n]:Qn(t,n,e[n]);return t},$n=e=>void 0===e,Yn=(e={},t,n)=>{const r=Wn(t.split(/[,[\].]+?/)).reduce(((e,t)=>Bn(e)?e:e[t]),e);return $n(r)||r===e?$n(e[t])?n:e[t]:r},Xn=(e,t)=>{Dn(e)&&e.removeEventListener&&(e.removeEventListener(Mn,t),e.removeEventListener(Ln,t),e.removeEventListener(On,t))};const Zn={isValid:!1,value:null};var er=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e),Zn):Zn,tr=e=>"radio"===e.type,nr=e=>"file"===e.type,rr=e=>"checkbox"===e.type,ir=e=>"select-multiple"===e.type;const or={value:!1,isValid:!1},ar={value:!0,isValid:!0};var sr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.ref.checked)).map((({ref:{value:e}})=>e));return{value:t,isValid:!!t.length}}const{checked:t,value:n,attributes:r}=e[0].ref;return t?r&&!$n(r.value)?$n(n)||""===n?ar:{value:n,isValid:!0}:ar:or}return or};function ur(e,t,n,r,i){const o=e.current[t];if(o){const{ref:{value:e,disabled:t},ref:n,valueAsNumber:s,valueAsDate:u,setValueAs:c}=o;if(t&&r)return;return nr(n)?n.files:tr(n)?er(o.options).value:ir(n)?(a=n.options,[...a].filter((({selected:e})=>e)).map((({value:e})=>e))):rr(n)?sr(o.options).value:i?e:s?""===e?NaN:+e:u?n.valueAsDate:c?c(e):e}var a;if(n)return Yn(n.current,t)}function cr(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&cr(e.parentNode)}var lr=e=>Gn(e)&&!Object.keys(e).length,hr=e=>"boolean"==typeof e;function fr(e,t){const n=Kn(t)?[t]:Hn(t),r=1==n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=$n(e)?r++:e[t[r++]];return e}(e,n),i=n[n.length-1];let o;r&&delete r[i];for(let t=0;t<n.slice(0,-1).length;t++){let r,i=-1;const a=n.slice(0,-(t+1)),s=a.length-1;for(t>0&&(o=e);++i<a.length;){const t=a[i];r=r?r[t]:e[t],s===i&&(Gn(r)&&lr(r)||Array.isArray(r)&&!r.filter((e=>Gn(e)&&!lr(e)||hr(e))).length)&&(o?delete o[t]:delete e[t]),o=r}}return e}const dr=(e,t)=>e&&e.ref===t;var pr=e=>Bn(e)||!zn(e);function vr(e,t){if(pr(e)||pr(t))return t;for(const n in t){const r=e[n],i=t[n];try{e[n]=Gn(r)&&Gn(i)||Array.isArray(r)&&Array.isArray(i)?vr(r,i):i}catch(e){}}return e}function mr(e,t,n){if(pr(e)||pr(t)||e instanceof Date||t instanceof Date)return e===t;if(!(0,r.isValidElement)(e)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const i of r){const r=e[i];if(!n||"ref"!==i){const e=t[i];if((Gn(r)||Array.isArray(r))&&(Gn(e)||Array.isArray(e))?!mr(r,e,n):r!==e)return!1}}}return!0}function gr(e,t,n,r,i){let o=-1;for(;++o<e.length;){for(const r in e[o])Array.isArray(e[o][r])?(!n[o]&&(n[o]={}),n[o][r]=[],gr(e[o][r],Yn(t[o]||{},r,[]),n[o][r],n[o],r)):mr(Yn(t[o]||{},r),e[o][r])?Qn(n[o]||{},r):n[o]=Object.assign(Object.assign({},n[o]),{[r]:!0});r&&!n.length&&delete r[i]}return n}var yr=e=>"string"==typeof e,br=(e,t,n,r,i)=>{const o={};for(const t in e.current)($n(i)||(yr(i)?t.startsWith(i):Array.isArray(i)&&i.find((e=>t.startsWith(e)))))&&(o[t]=ur(e,t,void 0,r));return n?Jn(o):vr(t,Jn(o))},wr=e=>e instanceof RegExp,_r=e=>Gn(e)&&!wr(e)?e:{value:e,message:""},Er=e=>"function"==typeof e,Ir=e=>yr(e)||(0,r.isValidElement)(e);function Tr(e,t,n="validate"){if(Ir(e)||hr(e)&&!e)return{type:n,message:Ir(e)?e:"",ref:t}}var Sr=(e,t,n,r,i)=>t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),{[r]:i||!0})}):{},kr=async(e,t,{ref:n,ref:{value:r},options:i,required:o,maxLength:a,minLength:s,min:u,max:c,pattern:l,validate:h},f)=>{const d=n.name,p={},v=tr(n),m=rr(n),g=v||m,y=""===r,b=Sr.bind(null,d,t,p),w=(e,t,r,i="maxLength",o="minLength")=>{const a=e?t:r;p[d]=Object.assign({type:e?i:o,message:a,ref:n},b(e?i:o,a))};if(o&&(!v&&!m&&(y||Bn(r))||hr(r)&&!r||m&&!sr(i).isValid||v&&!er(i).isValid)){const{value:r,message:i}=Ir(o)?{value:!!o,message:o}:_r(o);if(r&&(p[d]=Object.assign({type:qn,message:i,ref:g?((e.current[d].options||[])[0]||{}).ref:n},b(qn,i)),!t))return p}if(!(Bn(u)&&Bn(c)||""===r)){let e,i;const o=_r(c),a=_r(u);if(isNaN(r)){const t=n.valueAsDate||new Date(r);yr(o.value)&&(e=t>new Date(o.value)),yr(a.value)&&(i=t<new Date(a.value))}else{const t=n.valueAsNumber||parseFloat(r);Bn(o.value)||(e=t>o.value),Bn(a.value)||(i=t<a.value)}if((e||i)&&(w(!!e,o.message,a.message,"max","min"),!t))return p}if(yr(r)&&!y&&(a||s)){const e=_r(a),n=_r(s),i=!Bn(e.value)&&r.length>e.value,o=!Bn(n.value)&&r.length<n.value;if((i||o)&&(w(i,e.message,n.message),!t))return p}if(yr(r)&&l&&!y){const{value:e,message:i}=_r(l);if(wr(e)&&!e.test(r)&&(p[d]=Object.assign({type:Vn,message:i,ref:n},b(Vn,i)),!t))return p}if(h){const r=ur(e,d,f,!1,!0),o=g&&i?i[0].ref:n;if(Er(h)){const e=Tr(await h(r),o);if(e&&(p[d]=Object.assign(Object.assign({},e),b("validate",e.message)),!t))return p}else if(Gn(h)){let e={};for(const[n,i]of Object.entries(h)){if(!lr(e)&&!t)break;const a=Tr(await i(r),o,n);a&&(e=Object.assign(Object.assign({},a),b(n,a.message)),t&&(p[d]=e))}if(!lr(e)&&(p[d]=Object.assign({ref:o},e),!t))return p}}return p};const Cr=(e,t,n=[])=>{for(const r in t){const i=e+(Gn(t)?`.${r}`:`[${r}]`);pr(t[r])?n.push(i):Cr(i,t[r],n)}return n};var Ar=(e,t,n,r,i)=>{let o;return n.add(t),lr(e)||(o=Yn(e,t),(Gn(o)||Array.isArray(o))&&Cr(t,o).forEach((e=>n.add(e)))),$n(o)?i?r:Yn(r,t):o},Nr=e=>e.substring(0,e.indexOf("["));var xr=(e,t)=>[...e].some((e=>((e,t)=>RegExp(`^${t}([|.)\\d+`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e))(t,e))),Pr=typeof window!==Un&&typeof document!==Un;function Rr(e){var t;let n;if(pr(e)||Pr&&(e instanceof File||Dn(e)))return e;if(!["Set","Map","Object","Date","Array"].includes(null===(t=e.constructor)||void 0===t?void 0:t.name))return e;if(e instanceof Date)return n=new Date(e.getTime()),n;if(e instanceof Set){n=new Set;for(const t of e)n.add(t);return n}if(e instanceof Map){n=new Map;for(const t of e.keys())n.set(t,Rr(e.get(t)));return n}n=Array.isArray(e)?[]:{};for(const t in e)n[t]=Rr(e[t]);return n}var Dr=e=>({isOnSubmit:!e||e===jn,isOnBlur:"onBlur"===e,isOnChange:e===Fn,isOnAll:"all"===e,isOnTouch:"onTouched"===e}),Or=e=>tr(e)||rr(e);const Lr=typeof window===Un,Mr=Pr?"Proxy"in window:typeof Proxy!==Un;function Fr({mode:e="onSubmit",reValidateMode:t="onChange",resolver:n,context:i,defaultValues:o={},shouldFocusError:a=!0,shouldUnregister:s=!0,criteriaMode:u}={}){const c=(0,r.useRef)({}),l=(0,r.useRef)({}),h=(0,r.useRef)({}),f=(0,r.useRef)(new Set),d=(0,r.useRef)({}),p=(0,r.useRef)({}),v=(0,r.useRef)({}),m=(0,r.useRef)({}),g=(0,r.useRef)(o),y=(0,r.useRef)(!1),b=(0,r.useRef)(!1),w=(0,r.useRef)(),_=(0,r.useRef)({}),E=(0,r.useRef)({}),I=(0,r.useRef)(i),T=(0,r.useRef)(n),S=(0,r.useRef)(new Set),k=(0,r.useRef)(Dr(e)),{isOnSubmit:C,isOnTouch:A}=k.current,N="all"===u,[x,P]=(0,r.useState)({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!C,errors:{}}),R=(0,r.useRef)({isDirty:!Mr,dirtyFields:!Mr,touched:!Mr||A,isValidating:!Mr,isSubmitting:!Mr,isValid:!Mr}),D=(0,r.useRef)(x),O=(0,r.useRef)(),{isOnBlur:L,isOnChange:M}=(0,r.useRef)(Dr(t)).current;I.current=i,T.current=n,D.current=x,_.current=s?{}:lr(_.current)?Rr(o):_.current;const F=(0,r.useCallback)(((e={})=>{y.current||(D.current=Object.assign(Object.assign({},D.current),e),P(D.current))}),[]),j=()=>R.current.isValidating&&F({isValidating:!0}),U=(0,r.useCallback)(((e,t,n=!1,r={},i)=>{let o=n||(({errors:e,name:t,error:n,validFields:r,fieldsWithValidation:i})=>{const o=$n(n),a=Yn(e,t);return o&&!!a||!o&&!mr(a,n,!0)||o&&Yn(i,t)&&!Yn(r,t)})({errors:D.current.errors,error:t,name:e,validFields:m.current,fieldsWithValidation:v.current});const a=Yn(D.current.errors,e);t?(fr(m.current,e),o=o||!a||!mr(a,t,!0),Qn(D.current.errors,e,t)):((Yn(v.current,e)||T.current)&&(Qn(m.current,e,!0),o=o||a),fr(D.current.errors,e)),(o&&!Bn(n)||!lr(r)||R.current.isValidating)&&F(Object.assign(Object.assign(Object.assign({},r),T.current?{isValid:!!i}:{}),{isValidating:!1}))}),[]),V=(0,r.useCallback)(((e,t)=>{const{ref:n,options:r}=c.current[e],i=Pr&&Dn(n)&&Bn(t)?"":t;tr(n)?(r||[]).forEach((({ref:e})=>e.checked=e.value===i)):nr(n)&&!yr(i)?n.files=i:ir(n)?[...n.options].forEach((e=>e.selected=i.includes(e.value))):rr(n)&&r?r.length>1?r.forEach((({ref:e})=>e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value)):r[0].ref.checked=!!i:n.value=i}),[]),q=(0,r.useCallback)(((e,t)=>{if(R.current.isDirty){const n=Y();return e&&t&&Qn(n,e,t),!mr(n,g.current)}return!1}),[]),B=(0,r.useCallback)(((e,t=!0)=>{if(R.current.isDirty||R.current.dirtyFields){const n=!mr(Yn(g.current,e),ur(c,e,_)),r=Yn(D.current.dirtyFields,e),i=D.current.isDirty;n?Qn(D.current.dirtyFields,e,!0):fr(D.current.dirtyFields,e);const o={isDirty:q(),dirtyFields:D.current.dirtyFields},a=R.current.isDirty&&i!==o.isDirty||R.current.dirtyFields&&r!==Yn(D.current.dirtyFields,e);return a&&t&&F(o),a?o:{}}return{}}),[]),z=(0,r.useCallback)((async(e,t)=>{const n=(await kr(c,N,c.current[e],_))[e];return U(e,n,t),$n(n)}),[U,N]),G=(0,r.useCallback)((async e=>{const{errors:t}=await T.current(Y(),I.current,N),n=D.current.isValid;if(Array.isArray(e)){const n=e.map((e=>{const n=Yn(t,e);return n?Qn(D.current.errors,e,n):fr(D.current.errors,e),!n})).every(Boolean);return F({isValid:lr(t),isValidating:!1}),n}{const r=Yn(t,e);return U(e,r,n!==lr(t),{},lr(t)),!r}}),[U,N]),K=(0,r.useCallback)((async e=>{const t=e||Object.keys(c.current);if(j(),T.current)return G(t);if(Array.isArray(t)){!e&&(D.current.errors={});const n=await Promise.all(t.map((async e=>await z(e,null))));return F({isValidating:!1}),n.every(Boolean)}return await z(t)}),[G,z]),W=(0,r.useCallback)(((e,t,{shouldDirty:n,shouldValidate:r})=>{const i={};Qn(i,e,t);for(const o of Cr(e,t))c.current[o]&&(V(o,Yn(i,o)),n&&B(o),r&&K(o))}),[K,V,B]),H=(0,r.useCallback)(((e,t,n)=>{if(!s&&!pr(t)&&Qn(_.current,e,Array.isArray(t)?[...t]:Object.assign({},t)),c.current[e])V(e,t),n.shouldDirty&&B(e),n.shouldValidate&&K(e);else if(!pr(t)&&(W(e,t,n),S.current.has(e))){const r=Nr(e)||e;Qn(l.current,e,t),E.current[r]({[r]:Yn(l.current,r)}),(R.current.isDirty||R.current.dirtyFields)&&n.shouldDirty&&(Qn(D.current.dirtyFields,e,((e,t,n)=>vr(gr(e,t,n.slice(0,e.length)),gr(t,e,n.slice(0,e.length))))(t,Yn(g.current,e,[]),Yn(D.current.dirtyFields,e,[]))),F({isDirty:!mr(Object.assign(Object.assign({},Y()),{[e]:t}),g.current)}))}!s&&Qn(_.current,e,t)}),[B,V,W]),Q=e=>b.current||f.current.has(e)||f.current.has((e.match(/\w+/)||[])[0]),J=e=>{let t=!0;if(!lr(d.current))for(const n in d.current)e&&d.current[n].size&&!d.current[n].has(e)&&!d.current[n].has(Nr(e))||(p.current[n](),t=!1);return t};function $(e){if(!s){let t=Rr(e);for(const e of S.current)Kn(e)&&!t[e]&&(t=Object.assign(Object.assign({},t),{[e]:[]}));return t}return e}function Y(e){if(yr(e))return ur(c,e,_);if(Array.isArray(e)){const t={};for(const n of e)Qn(t,n,ur(c,n,_));return t}return $(br(c,Rr(_.current),s))}w.current=w.current?w.current:async({type:e,target:t})=>{let n=t.name;const r=c.current[n];let i,o;if(r){const a=e===On,u=(({isOnBlur:e,isOnChange:t,isOnTouch:n,isTouched:r,isReValidateOnBlur:i,isReValidateOnChange:o,isBlurEvent:a,isSubmitted:s,isOnAll:u})=>!u&&(!s&&n?!(r||a):(s?i:e)?!a:!(s?o:t)||a))(Object.assign({isBlurEvent:a,isReValidateOnChange:M,isReValidateOnBlur:L,isTouched:!!Yn(D.current.touched,n),isSubmitted:D.current.isSubmitted},k.current));let l=B(n,!1),h=!lr(l)||!a&&Q(n);if(a&&!Yn(D.current.touched,n)&&R.current.touched&&(Qn(D.current.touched,n,!0),l=Object.assign(Object.assign({},l),{touched:D.current.touched})),!s&&rr(t)&&Qn(_.current,n,ur(c,n)),u)return!a&&J(n),(!lr(l)||h&&lr(l))&&F(l);if(j(),T.current){const{errors:e}=await T.current(Y(),I.current,N),r=D.current.isValid;if(i=Yn(e,n),rr(t)&&!i&&T.current){const t=Nr(n),r=Yn(e,t,{});r.type&&r.message&&(i=r),t&&(r||Yn(D.current.errors,t))&&(n=t)}o=lr(e),r!==o&&(h=!0)}else i=(await kr(c,N,r,_))[n];!a&&J(n),U(n,i,h,l,o)}};const X=(0,r.useCallback)((async(e={})=>{const t=lr(c.current)?g.current:{},{errors:n}=await T.current(Object.assign(Object.assign(Object.assign({},t),Y()),e),I.current,N)||{},r=lr(n);D.current.isValid!==r&&F({isValid:r})}),[N]),Z=(0,r.useCallback)(((e,t)=>{!function(e,t,n,r,i,o){const{ref:a,ref:{name:s}}=n,u=e.current[s];if(!i){const t=ur(e,s,r);!$n(t)&&Qn(r.current,s,t)}a.type&&u?tr(a)||rr(a)?Array.isArray(u.options)&&u.options.length?(Wn(u.options).forEach(((e={},n)=>{(cr(e.ref)&&dr(e,e.ref)||o)&&(Xn(e.ref,t),fr(u.options,`[${n}]`))})),u.options&&!Wn(u.options).length&&delete e.current[s]):delete e.current[s]:(cr(a)&&dr(u,a)||o)&&(Xn(a,t),delete e.current[s]):delete e.current[s]}(c,w.current,e,_,s,t),s&&(fr(m.current,e.ref.name),fr(v.current,e.ref.name))}),[s]),ee=(0,r.useCallback)((e=>{if(b.current)F();else{for(const t of f.current)if(t.startsWith(e)){F();break}J(e)}}),[]),te=(0,r.useCallback)(((e,t)=>{e&&(Z(e,t),s&&!Wn(e.options||[]).length&&(fr(D.current.errors,e.ref.name),Qn(D.current.dirtyFields,e.ref.name,!0),F({isDirty:q()}),R.current.isValid&&T.current&&X(),ee(e.ref.name)))}),[X,Z]),ne=(0,r.useCallback)(((e,t,n)=>{const r=n?d.current[n]:f.current;let i=br(c,Rr(_.current),s,!1,e);if(yr(e)){const n=Nr(e)||e;return S.current.has(n)&&(i=Object.assign(Object.assign({},h.current),i)),Ar(i,e,r,$n(Yn(g.current,e))?t:Yn(g.current,e),!0)}const o=$n(t)?g.current:t;return Array.isArray(e)?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:Ar(i,t,r,o)})),{}):(b.current=$n(n),Jn(!lr(i)&&i||o))}),[]);function re(e,t={}){const{name:n,type:r,value:i}=e,o=Object.assign({ref:e},t),a=c.current,u=Or(e),l=xr(S.current,n),h=t=>Pr&&(!Dn(e)||t===e);let f,d=a[n],p=!0;if(d&&(u?Array.isArray(d.options)&&Wn(d.options).find((e=>i===e.ref.value&&h(e.ref))):h(d.ref)))return void(a[n]=Object.assign(Object.assign({},d),t));d=r?u?Object.assign({options:[...Wn(d&&d.options||[]),{ref:e}],ref:{type:r,name:n}},t):Object.assign({},o):o,a[n]=d;const y=$n(Yn(_.current,n));lr(g.current)&&y||(f=Yn(y?g.current:_.current,n),p=$n(f),p||l||V(n,f)),lr(t)||(Qn(v.current,n,!0),!C&&R.current.isValid&&kr(c,N,d,_).then((e=>{const t=D.current.isValid;lr(e)?Qn(m.current,n,!0):fr(m.current,n),t!==lr(e)&&F()}))),!s||l&&p||!l&&fr(D.current.dirtyFields,n),r&&function({ref:e},t,n){Dn(e)&&n&&(e.addEventListener(t?Ln:Mn,n),e.addEventListener(On,n))}(u&&d.options?d.options[d.options.length-1]:d,u||"select-one"===e.type,w.current)}const ie=(0,r.useCallback)(((e,t)=>async n=>{n&&n.preventDefault&&(n.preventDefault(),n.persist());let r={},i=$(br(c,Rr(_.current),s,!0));R.current.isSubmitting&&F({isSubmitting:!0});try{if(T.current){const{errors:e,values:t}=await T.current(i,I.current,N);D.current.errors=r=e,i=t}else for(const e of Object.values(c.current))if(e){const{name:t}=e.ref,n=await kr(c,N,e,_);n[t]?(Qn(r,t,n[t]),fr(m.current,t)):Yn(v.current,t)&&(fr(D.current.errors,t),Qn(m.current,t,!0))}lr(r)&&Object.keys(D.current.errors).every((e=>e in c.current))?(F({errors:{},isSubmitting:!0}),await e(i,n)):(D.current.errors=Object.assign(Object.assign({},D.current.errors),r),t&&await t(D.current.errors,n),a&&((e,t)=>{for(const n in e)if(Yn(t,n)){const t=e[n];if(t){if(t.ref.focus&&$n(t.ref.focus()))break;if(t.options){t.options[0].ref.focus();break}}}})(c.current,D.current.errors))}finally{D.current.isSubmitting=!1,F({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lr(D.current.errors),submitCount:D.current.submitCount+1})}}),[a,N]);(0,r.useEffect)((()=>{n&&R.current.isValid&&X(),O.current=O.current||!Pr?O.current:function(e,t){const n=new MutationObserver((()=>{for(const n of Object.values(e.current))if(n&&n.options)for(const e of n.options)e&&e.ref&&cr(e.ref)&&t(n);else n&&cr(n.ref)&&t(n)}));return n.observe(window.document,{childList:!0,subtree:!0}),n}(c,te)}),[te,g.current]),(0,r.useEffect)((()=>()=>{O.current&&O.current.disconnect(),y.current=!0,Object.values(c.current).forEach((e=>te(e,!0)))}),[]),!n&&R.current.isValid&&(x.isValid=mr(m.current,v.current)&&lr(D.current.errors));const oe={trigger:K,setValue:(0,r.useCallback)((function(e,t,n){H(e,t,n||{}),Q(e)&&F(),J(e)}),[H,K]),getValues:(0,r.useCallback)(Y,[]),register:(0,r.useCallback)((function(e,t){if(!Lr)if(yr(e))re({name:e},t);else{if(!Gn(e)||!("name"in e))return t=>t&&re(t,e);re(e,t)}}),[g.current]),unregister:(0,r.useCallback)((function(e){for(const t of Array.isArray(e)?e:[e])te(c.current[t],!0)}),[]),formState:Mr?new Proxy(x,{get:(e,t)=>{if(t in e)return R.current[t]=!0,e[t]}}):x},ae=(0,r.useMemo)((()=>Object.assign({isFormDirty:q,updateWatchedValue:ee,shouldUnregister:s,updateFormState:F,removeFieldEventListener:Z,watchInternal:ne,mode:k.current,reValidateMode:{isReValidateOnBlur:L,isReValidateOnChange:M},validateResolver:n?X:void 0,fieldsRef:c,resetFieldArrayFunctionRef:E,useWatchFieldsRef:d,useWatchRenderFunctionsRef:p,fieldArrayDefaultValuesRef:l,validFieldsRef:m,fieldsWithValidationRef:v,fieldArrayNamesRef:S,readFormStateRef:R,formStateRef:D,defaultValuesRef:g,shallowFieldsStateRef:_,fieldArrayValuesRef:h},oe)),[g.current,ee,s,Z,ne]);return Object.assign({watch:function(e,t){return ne(e,t)},control:ae,handleSubmit:ie,reset:(0,r.useCallback)(((e,t={})=>{if(Pr)for(const e of Object.values(c.current))if(e){const{ref:t,options:n}=e,r=Or(t)&&Array.isArray(n)?n[0].ref:t;if(Dn(r))try{r.closest("form").reset();break}catch(e){}}c.current={},g.current=Object.assign({},e||g.current),e&&J(""),Object.values(E.current).forEach((e=>Er(e)&&e())),_.current=s?{}:Rr(e||g.current),(({errors:e,isDirty:t,isSubmitted:n,touched:r,isValid:i,submitCount:o,dirtyFields:a})=>{i||(m.current={},v.current={}),l.current={},f.current=new Set,b.current=!1,F({submitCount:o?D.current.submitCount:0,isDirty:!!t&&D.current.isDirty,isSubmitted:!!n&&D.current.isSubmitted,isValid:!!i&&D.current.isValid,dirtyFields:a?D.current.dirtyFields:{},touched:r?D.current.touched:{},errors:e?D.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(t)}),[]),clearErrors:(0,r.useCallback)((function(e){e&&(Array.isArray(e)?e:[e]).forEach((e=>c.current[e]&&Kn(e)?delete D.current.errors[e]:fr(D.current.errors,e))),F({errors:e?D.current.errors:{}})}),[]),setError:(0,r.useCallback)((function(e,t){const n=(c.current[e]||{}).ref;Qn(D.current.errors,e,Object.assign(Object.assign({},t),{ref:n})),F({isValid:!1}),t.shouldFocus&&n&&n.focus&&n.focus()}),[]),errors:x.errors},oe)}(0,r.createContext)(null).displayName="RHFContext";var jr=n(99);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Qa(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function k(e,t,n){this.code=N+e,this.message=t||x[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new k(t.substring(N.length),e.message,e.serverResponse):null}T(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var A,N="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");O.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}A=R("__EID__")?"__EID__":void 0,T(O,Error),O.prototype.name="CustomError",T(L,O),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new F((function(){return new B}),(function(e){e.reset()}));function q(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},H=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function J(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function Y(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){Z=he;break e}}Z=""}function fe(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ie&&t||"",this.b=Ee}function we(e){return e instanceof be&&e.constructor===be&&e.b===Ee?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.sa=!0,be.prototype.ra=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,Ee={},Ie={};function Te(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(e){s.console&&s.console.error(e.message)}_e=e}else _e=e}return _e}function Se(e,t){this.a=t===xe?e:""}function ke(e){return e instanceof Se&&e.constructor===Se?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=we(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new Se(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Ae,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})))}Se.prototype.sa=!0,Se.prototype.ra=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function Pe(e,t){this.a=t===je?e:""}function Re(e){return e instanceof Pe&&e.constructor===Pe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Pe.prototype.sa=!0,Pe.prototype.ra=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Oe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e))e=new Pe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Oe);e=t&&De.test(t[1])?new Pe(e,je):null}return e}function Fe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Pe(e,je))}var je={},Ue=new Pe("about:invalid#zClosurez",je);function Ve(e,t,n){this.a=n===qe?e:""}Ve.prototype.sa=!0,Ve.prototype.ra=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Be(e,t,n,r){return e=e instanceof Pe?e:Fe(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Re(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var We,He,Qe=fe("Opera"),Je=fe("Trident")||fe("MSIE"),$e=fe("Edge"),Ye=$e||Je,Xe=fe("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Ze=ue(Z.toLowerCase(),"webkit")&&!fe("Edge");function et(){var e=s.document;return e?e.documentMode:void 0}e:{var tt="",nt=(He=Z,Xe?/rv:([^\);]+)(\)|;)/.exec(He):$e?/Edge\/([\d\.]+)/.exec(He):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(He):Ze?/WebKit\/(\S+)/.exec(He):Qe?/(?:Version)[ \/]?(\S+)/.exec(He):void 0);if(nt&&(tt=nt?nt[1]:""),Je){var rt=et();if(null!=rt&&rt>parseFloat(tt)){We=String(rt);break e}}We=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=ee(String(We)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}s.document&&Je?it=et()||parseInt(We,10)||void 0:it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(He){}var ut=!Je||9<=Number(st);function ct(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}G(a?X(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function mt(e){s.setTimeout((function(){throw e}),0)}function gt(e,t){ft||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new U;function wt(){for(var e;e=q();){try{e.a.call(e.b)}catch(e){mt(e)}j(V,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Lt(n,It,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Lt(n,Tt,e)}))}catch(e){Lt(this,Tt,e)}}var Et=0,It=2,Tt=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new F((function(){return new St}),(function(e){e.reset()}));function Ct(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function At(e){if(e instanceof _t)return e;var t=new _t(h);return Lt(t,It,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function xt(e,t,n){Mt(e,t,n,null)||gt(E(t,e))}function Pt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)xt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,Tt,t)))}e.c=null}else Lt(e,Tt,t)}function Dt(e,t){e.b||e.a!=It&&e.a!=Tt||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ot(e,t,n,r){var i=Ct(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Dt(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=Tt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=Tt||n instanceof Bt||function(e,t){e.g=!0,gt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Mt(e,t,n,r){if(e instanceof _t)return Dt(e,Ct(t||h,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Ft(e){e.h||(e.h=!0,gt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Tt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(e){qt.call(null,e)}j(kt,t)}function Vt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Ot(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Dt(this,e),this},e.o=function(e,t){return Ot(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Bt(e);gt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,It,e)},e.ad=function(e){this.a=Et,Lt(this,Tt,e)},e.gc=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=mt;function Bt(e){O.call(this,e)}function zt(){0!=Gt&&(Kt[m(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Bt,O),Bt.prototype.name="cancel";var Gt=0,Kt={};function Wt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Gt)){var t=m(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}zt.prototype.xa=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ht=Object.freeze||function(e){return e},Qt=!Je||9<=Number(st),Jt=Je&&!at("9"),$t=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(e){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Xt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Xt,Yt);var Zt=Ht({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Jt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Xt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&J(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,v(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?Tn(e,t,n,v(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function mn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=mn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=mn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Xt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){zt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Tn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new _t((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function An(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function xn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(En,zt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;ge(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Sn(a,r,!0,e)&&i}if(i=Sn(a=e.b=n,r,!0,e)&&i,i=Sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=xn.prototype).W=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof On?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,Fn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Qn)),e.b=new $n(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof On?new On(e):new On(e,void 0)}function qn(e,t,n,r){var i=new On(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}On.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Hn:Wn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,Jn)),e.join("")},On.prototype.resolve=function(e){var t=new On(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Wn=/[#\?:]/g,Hn=/[#\?]/g,Qn=/[#\?@]/g,Jn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new xn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xn(e){var t=Nn(e);if(void 0===t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=An(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Yn(e),t=rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function er(e,t){return Yn(e),t=rr(e,t),Rn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),X(n)),e.b+=n.length)}function nr(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new xn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){Yn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){G(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Yn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Yn(this);var t=[];if("string"==typeof e)er(this,e)&&(t=Y(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=xr();return Je&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||s.window;var n="about:blank";e&&(n=Re(Me(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||xr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(e){}}function mr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(xr())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:Me(void 0!==n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Fe(t),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Re(t),a&&(Ye&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new Ve(e=(r=Te())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==s.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||xr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=s.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ir(){return jr.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":jr.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Tr(){var e=Ir();return"ReactNative"===e||"Node"===e}var Sr="Firefox",kr="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Sr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":kr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Cr(i=xr()):"Worker"===r&&(r=Cr(i=xr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function xr(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=s.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(e){return Er()&&!!s.indexedDB}return!1}function Dr(){return(Or()||"chrome-extension:"===Lr()||wr())&&!Tr()&&Rr()&&!Er()}function Or(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return s.location&&s.location.protocol||null}function Mr(e){return!pr(e=e||xr())&&Cr(e)!=Sr}function Fr(e){return void 0===e?null:ir(e)}function Ur(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Vr(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=Cr(e=e||xr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Gr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=xr(),t=Ir(),this.b=pr(e)||"ReactNative"===t}function Kr(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Hr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}Gr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Or()&&"chrome-extension:"!==Lr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Jr={};function $r(e){Jr[e]||(Jr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Yr.abcd}catch(He){Qr=!1}function Xr(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Xr(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Xr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",e[ai]),Xr(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(e){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Xr(this,"phoneNumber",e[si])}function ci(e){var t={},n=e[di],r=e[vi],i=e[mi];if(e=ri(e[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[yi]=n||null,t[wi]=n||null,t[gi]=r):(t[yi]=r||null,t[wi]=r||null,t[gi]=n||null),t[bi]=e||null,Xr(this,Ei,i),Xr(this,_i,ti(t))}T(ui,ni),ui.prototype.w=function(){var e=ui.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",mi="requestType",gi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ii(e){var t=Un(e=Vn(e),Ti)||null,n=Un(e,Si)||null,r=Un(e,Ai)||null;if(r=r&&xi[r]||null,!t||!n||!r)throw new k("argument-error",Ti+", "+Si+"and "+Ai+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,ki)||null,languageCode:Un(e,Ci)||null,tenantId:Un(e,Ni)||null})}var Ti="apiKey",Si="oobCode",ki="continueUrl",Ci="languageCode",Ai="mode",Ni="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Pi(e){try{return new Ii(e)}catch(e){return null}}function Ri(e){var t=e[Fi];if(void 0===t)throw new k("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Di];if(n&&"object"==typeof n){t=n[Vi];var r=n[ji];if(n=n[Ui],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new k("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(t=e[Mi])&&"object"==typeof t){if("string"==typeof(t=t[qi])&&t.length)this.f=t;else if(void 0!==t)throw new k("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new k("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(t=e[Li])&&"boolean"!=typeof t)throw new k("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Oi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",Oi+" property must be a non empty string when specified.");this.i=e||null}var Di="android",Oi="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Fi="url",ji="installApp",Ui="minimumVersion",Vi="packageName",qi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var zi=null;function Gi(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ki(e){try{return new Gi(e)}catch(e){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!zi){zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Ji={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Qi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Qi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Qi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function $i(e){for(var t in Ji)if(Ji[t].fa==e)return Ji[t];return null}function Yi(e){var t={};t["facebook.com"]=no,t["google.com"]=io,t["github.com"]=ro,t["twitter.com"]=oo;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new to(e);if(void 0!==e[Xi])return new eo(e)}catch(e){}return null}var Xi="idToken",Zi="providerId";function eo(e){var t=e[Zi];if(!t&&e[Xi]){var n=Ki(e[Xi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Xr(this,"providerId",t),Xr(this,"isNewUser",n)}function to(e){eo.call(this,e),Xr(this,"profile",ti((e=Vr(e.rawUserInfo||"{}"))||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function io(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",e.screenName||null)}function ao(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function so(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?uo:co}T(to,eo),T(no,to),T(ro,to),T(io,to),T(oo,to);var uo="enroll",co="signin";function lo(){}function ho(e,t){return e.then((function(e){if(e[Za]){var n=Ki(e[Za]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new k("user-mismatch"):e}))}function fo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Xr(this,"providerId",e),Xr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function vo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Xr(this,"idToken",t.idToken),t.accessToken&&Xr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Xr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Xr(this,"accessToken",t.oauthToken),Xr(this,"secret",t.oauthTokenSecret)}Xr(this,"providerId",e),Xr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Xn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function yo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function bo(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=($i(e)||{}).Ja||null,this.ob=null}function wo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,e,[])}function _o(e){bo.call(this,e,Qi),this.a=[]}function Eo(){_o.call(this,"facebook.com")}function Io(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function To(){_o.call(this,"github.com")}function So(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function ko(){_o.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new ko).credential({idToken:n,accessToken:t})}function Ao(){bo.call(this,"twitter.com",Hi)}function No(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function xo(e,t,n){this.a=e,this.f=t,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new xo(e.email,e.password,e.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Do(e,t){if(!(t=Oo(t)))throw new k("argument-error","Invalid email link!");return new xo(e,t.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(e){return(e=Pi(e=ao(e)))&&e.operation===hi?e:null}function Lo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new k("internal-error");this.a=e,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Lo(t)}return null}function Fo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function jo(e){try{this.a=e||jr.Z.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Lo({eb:e,cb:t})}function Vo(e){if(e.temporaryProof&&e.phoneNumber)return new Lo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return Io(n);case"github.com":return So(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new _o(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function qo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function zo(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Go(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?At(this.a):At(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ka=function(e){return ws(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,_s(e,n)},fo.prototype.c=function(e,t){return ho(Es(e,po(this)),t)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return ws(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,_s(e,n)},mo.prototype.c=function(e,t){return ho(Es(e,go(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},bo.prototype.Ka=function(e){return this.Ib=ve(e),this},T(wo,bo),T(_o,bo),_o.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},_o.prototype.Qb=function(){return X(this.a)},_o.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},T(Eo,_o),Xr(Eo,"PROVIDER_ID","facebook.com"),Xr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,_o),Xr(To,"PROVIDER_ID","github.com"),Xr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(ko,_o),Xr(ko,"PROVIDER_ID","google.com"),Xr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Ao,bo),Xr(Ao,"PROVIDER_ID","twitter.com"),Xr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(e,xs,{email:this.a,oobCode:this.f}):ru(e,Xs,{email:this.a,password:this.f})},xo.prototype.b=function(e,t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Ps,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Gs,{idToken:t,email:this.a,password:this.f})},xo.prototype.c=function(e,t){return ho(this.ka(e),t)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(e){return e.fb(Fo(this))},Lo.prototype.b=function(e,t){var n=Fo(this);return n.idToken=t,ru(e,eu,n)},Lo.prototype.c=function(e,t){var n=Fo(this);return n.operation="REAUTH",ho(e=ru(e,tu,n),t)},Lo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},jo.prototype.fb=function(e,t){var n=this.a.a;return At(t.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=v(e)?e.session:null,o=v(e)?e.phoneNumber:e;return(i&&i.type==uo?i.Ha().then((function(e){return function(e,t){return ru(e,Ws,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(t){return function(e,t){return ru(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ru(e,Bs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(jo,{PROVIDER_ID:"phone"}),Zr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Wo=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Qo(e,t,n){k.call(this,e,n),(e=t||{}).Jb&&Xr(this,"email",e.Jb),e.ea&&Xr(this,"phoneNumber",e.ea),e.credential&&Xr(this,"credential",e.credential),e.Zb&&Xr(this,"tenantId",e.Zb)}function Jo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Vo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function $o(){}function Yo(e){return e.c||(e.c=e.b())}function Xo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ea(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function na(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ra(e,t,n){this.reset(e,t,n,void 0,void 0)}function ia(e){this.f=e,this.b=this.c=this.a=null}function oa(e,t){this.name=e,this.value=t}T(Ho,k),T(Qo,k),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Qo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,T(Xo,$o),Xo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Xo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Ko=new Xo,T(ea,$o),ea.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(e=ta.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",na(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,na(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(e,t,n,r,i){r||I(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(e){return e.c?e.c:e.a?la(e.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=la(this).value)for(p(t)&&(t=t()),e=new ra(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ha={},fa=null;function da(e){var t;if(fa||(fa=new ia(""),ha[""]=fa,fa.c=ua),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=da(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function pa(e,t){e&&e.log(ca,t,void 0)}function va(e){this.f=e}function ma(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(va,$o),va.prototype.a=function(){return new ma(this.f)},va.prototype.b=function(e){return function(){return e}}({}),T(ma,En);var ga=0;function ya(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ba(e){e.readyState=4,e.g=null,e.c=null,e.m=null,wa(e)}function wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function _a(e){En.call(this),this.headers=new xn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ea,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,wa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ga},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ya(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ba(this):wa(this),3==this.readyState&&ya(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ba(this))},e.sc=function(e){this.a&&(this.response=e,ba(this))},e.Ua=function(e){var t=this.i;t&&t.log(sa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ba(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(_a,En);var Ea="";_a.prototype.b=da("goog.net.XhrIo");var Ia=/^https?$/i,Ta=["POST","PUT"];function Sa(e){return"content-type"==e.toLowerCase()}function ka(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),Na(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Aa(e){if(e.c&&void 0!==a)if(e.C[1]&&4==Pa(e)&&2==Ra(e))pa(e.b,Da(e,"Local request error detected and ignored"));else if(e.i&&4==Pa(e))kn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Pa(e)){pa(e.b,Da(e,"Request complete")),e.c=!1;try{var t,n=Ra(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ia.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Pa(e)?e.a.statusText:""}catch(t){pa(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ra(e)+"]",Ca(e)}}finally{Na(e)}}}function Na(e,t){if(e.a){xa(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(aa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function xa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Pa(e){return e.a?e.a.readyState:0}function Ra(e){try{return 2<Pa(e)?e.a.status:-1}catch(e){return-1}}function Da(e,t){return t+" ["+e.R+" "+e.l+" "+Ra(e)+"]"}function Oa(e){var t=Ka;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,Ua(e)}function Ma(e){if(e.a){if(!e.v)throw new Va(e);e.v=!1}}function Fa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ua(e)}function ja(e){return H(e.g,(function(e){return p(e[1])}))}function Ua(e){if(e.h&&e.a&&ja(e)){var t=e.h,n=za[t];n&&(s.clearTimeout(n.a),delete za[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(D(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ja(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof Oa?(Fa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ba(t),za[t.a]=t,e.h=t.a)}function Va(){O.call(this)}function qa(){O.call(this)}function Ba(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=_a.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),_a.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Aa(this):this.Jc())},e.Jc=function(){Aa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return pa(this.b,"Can not get response: "+e.message),null}},Oa.prototype.cancel=function(e){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new qa(this),Ma(this),La(this,!1,e))}},Oa.prototype.m=function(e,t){this.i=!1,La(this,e,t)},Oa.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Fa(this,r,(function(e){e instanceof qa?o.cancel():i(e)})),o.then(e,t,n)},Oa.prototype.$goog_Thenable=!0,T(Va,O),Va.prototype.message="Deferred has already fired",Va.prototype.name="AlreadyCalledError",T(qa,O),qa.prototype.message="Deferred was canceled",qa.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Ga(e){var t={},n=t.document||document,r=ke(e).toString(),i=vt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Oa(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Wa(i,!0);var e=new Ja(Qa,"Timeout reached for loading script "+r);Ma(a),La(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Wa(i,t.xd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){Wa(i,!0,u);var e=new Ja(Ha,"Error while loading script "+r);Ma(a),La(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ka(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Wa(e,!0,this.Ma)}}function Wa(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ha=0,Qa=1;function Ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function $a(e){this.f=e}function Ya(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||es,this.g=ve(e.secureTokenHeaders||ts),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ns,this.a=ve(e.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&jr.Z.INTERNAL.node&&jr.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new va(self):Tr()?this.f=new $a(n):this.f=new ea,this.b=null}T(Ja,O),T($a,$o),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Xa,Za="idToken",es=new Gr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},ns=new Gr(3e4,6e4),rs={"Content-Type":"application/json"};function is(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function os(e,t){t&&(e.l=as("https://securetoken.googleapis.com/v1/token",t),e.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=as("https://identitytoolkit.googleapis.com/v2/",t))}function as(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function ss(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function us(e,t,n,r,i,o,a){(function(){var e=xr();return!((e=Cr(e)!=kr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Je&&st&&!(9<st))})()||Er()?e=_(e.u,e):(Xa||(Xa=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[ls]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Fa(e,null,t,void 0)}(Ga(Ce(cs,{onload:ls})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,a)}Ya.prototype.T=function(){return this.b},Ya.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new _a(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),Tn(a,"ready",(function(){u&&clearTimeout(u),Wt(this)})),Tn(a,"timeout",(function(){u&&clearTimeout(u),Wt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Ko.a(),e.C=e.D?Yo(e.D):Yo(Ko),e.a.onreadystatechange=_(e.Vb,e);try{pa(e.b,Da(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return pa(e.b,Da(e,"Error opening Xhr: "+t.message)),void ka(e,t)}t=r||"";var o=new xn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)G(e,t,void 0);else for(var n=Nn(e),r=An(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Sa,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{xa(e),0<e.g&&(e.u=function(e){return Je&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,Da(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),pa(e.b,Da(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){pa(e.b,Da(e,"Send error: "+t.message)),ka(e,t)}}(a,e,n,r,i)};var cs=new be(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new k("invalid-email")}function fs(e){"email"in e&&hs(e)}function ds(e){if(!e[Za]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ve(e));throw new k("internal-error")}}function ps(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Ya.prototype.s=function(e,t,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ya.prototype.zb=function(){return ru(this,Ks,{})},Ya.prototype.Bb=function(e,t){return ru(this,zs,{idToken:e,email:t})},Ya.prototype.Cb=function(e,t){return ru(this,Gs,{idToken:e,password:t})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ys(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&er(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function bs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Jo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Jo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Jo(e)):e.errorMessage&&(t=iu(e.errorMessage)),t)throw t;ds(e)}function ws(e,t){return t.returnIdpCredential=!0,ru(e,Qs,t)}function _s(e,t){return t.returnIdpCredential=!0,ru(e,$s,t)}function Es(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,Js,t)}function Is(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=Ya.prototype).Db=function(e,t){var n={idToken:e},r=[];return de(vs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,zs,n)},e.vb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,js,e)},e.wb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,Ls,e)},e.ub=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,Ms,e)},e.Eb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,Fs,e)},e.fb=function(e){return ru(this,Zs,e)},e.nb=function(e,t){return ru(this,qs,{oobCode:e,newPassword:t})},e.Ra=function(e){return ru(this,Ss,{oobCode:e})},e.jb=function(e){return ru(this,Ts,{oobCode:e})};var Ts={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Ss={endpoint:"resetPassword",A:Is,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(e){if(hs(e),!e.password)throw new k("weak-password")},G:ds,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},As={endpoint:"deleteAccount",N:["idToken"]},Ns={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},xs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Rs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Ds={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},Us={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Vs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},qs={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Bs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",N:["idToken"],A:fs,V:!0},Gs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(fs(e),!e.password)throw new k("weak-password")},G:ds,V:!0},Ks={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:gs,Ya:ys,G:bs,V:!0,B:!0},Js={endpoint:"verifyAssertion",A:gs,Ya:ys,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw iu(e.errorMessage);ds(e)},V:!0,B:!0},$s={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new k("internal-error")},Ya:ys,G:bs,V:!0},Ys={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(e){if(hs(e),!e.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ps(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Jo(e);ds(e)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Za]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return Nt(new k("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return At(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Vn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new _t((function(t,n){us(e,s.toString(),(function(e){e?e.error?n(ou(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:ir(Ur(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function iu(e){return ou({error:{errors:[{message:e}],code:400,message:e}})}function ou(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Fr(e)),new k("internal-error",t)}function au(e){this.b=e,this.a=null,this.rb=function(e){return(lu||(lu=new _t((function(e,t){function n(){zr(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){zr(),t(Error("Network Error"))},timeout:uu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},At(Ga(r=Ce(su,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw lu=null,e})))).then((function(){return new _t((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new be(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Gr(3e4,6e4),cu=new Gr(5e3,15e3),lu=null;function hu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?qn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(e){try{return jr.Z.app(e).auth().Ga()}catch(e){return[]}}function pu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(e){var t=hr();return function(e){return ru(e,Us,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(hr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=du(e.b),i=new hu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new au(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",At(n)}return n.status="ERROR",At(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Nr(e.c,du(e.b)):null,e.l=new Ya(e.g,R(e.i),e.C),e.f&&os(e.l,e.f)),e.l}function yu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new fu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.yb(l).toString()}function bu(e){if(this.a=e||jr.Z.INTERNAL.reactNative&&jr.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(e){this.b=e,this.a={},this.f=_(this.c,this)}hu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=jr.Z.app(this.c).auth().la()}catch(e){n=null}for(var r in t.ob=n,jn(e,"providerId",this.a.providerId),t=Ur((n=this.a).Ib))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),pe(t)||jn(e,"customParameters",Fr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&jn(e,"scopes",n.join(",")),this.l?jn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?jn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&jn(e,a,this.b[a]);return this.h?jn(e,"tid",this.h):Zn(e.b,"tid"),this.f?jn(e,"eid",this.f):Zn(e.b,"eid"),(a=du(this.c)).length&&jn(e,"fw",a.join(",")),e.toString()},(e=pu.prototype).Ob=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=xr();return!Mr(e)&&!Br(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new k("popup-blocked"));if(a&&!Mr())return this.ma().o((function(t){vr(e),i(t)})),r(),At();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){qo(n),a||fr(yu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=vu(gu(this)));var i=this;return this.a.then((function(){qo(t),fr(yu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){$(this.h,(function(t){return t==e}))},(e=bu.prototype).get=function(e){return At(this.a.getItem(e)).then((function(e){return e&&Vr(e)}))},e.set=function(e,t){return At(this.a.setItem(e,Fr(t)))},e.U=function(e){return At(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var _u,Eu=[];function Iu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Tu(e){this.a=e}function Su(e){this.c=e,this.b=!1,this.a=[]}function ku(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Cu(e,c),t})).o((function(t){throw Cu(e,c),t}))}function Cu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function Au(){if(!Ru())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(G(Eu,(function(n){n.b==e&&(t=n)})),!t){var t=new wu(e);Eu.push(t)}return t}(),Iu(this.v,"keyChanged",(function(t,n){return Fu(e).then((function(t){return 0<t.length&&G(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Iu(this.v,"ping",(function(){return At(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?At().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):At(null)}().then((function(t){(e.h=t)&&(e.g=new Su(new Tu(t)),ku(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Nu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Nu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function xu(e){return e.i||(e.i=Nu(e)),e.i}function Pu(e,t){var n=0;return new _t((function r(i,o){xu(e).then(t).then(i).o((function(t){if(!(3<++n))return xu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ru(){try{return!!s.indexedDB}catch(e){return!1}}function Du(e){return e.objectStore("firebaseLocalStorage")}function Ou(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Mu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ku(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):At()}function Fu(e){return xu(e).then((function(e){var t=Du(Ou(e,!1));return t.getAll?Lu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function ju(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Uu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=At().then((function(){if(Ru()){var e=qr(),r="__sak"+e;return _u||(_u=new Au),(n=_u).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){G(t.a,(function(t){t(e)}))})),e}))}function Vu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var e="Node"==Ir();if(!(e=Bu()||e&&jr.Z.INTERNAL.node&&jr.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Bu()||jr.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var e=s.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function zu(){this.type="nullStorage"}function Gu(){if(!function(){var e="Node"==Ir();if(!(e=Ku()||e&&jr.Z.INTERNAL.node&&jr.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ku()||jr.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var e=s.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Wu(){var e={};e.Browser=Ju,e.Node=$u,e.ReactNative=Yu,e.Worker=Xu,this.a=e[Ir()]}wu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,(function(t){i.push(At().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];G(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),G(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Tu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Su.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=Au.prototype).set=function(e,t){var n=this,r=!1;return Pu(this,(function(t){return Lu((t=Du(Ou(t,!0))).get(e))})).then((function(i){return Pu(n,(function(o){if(o=Du(Ou(o,!0)),i)return i.value=t,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Lu(o.add(a))}))})).then((function(){return n.c[e]=t,Mu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Pu(this,(function(t){return Lu(Du(Ou(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Pu(this,(function(r){return n=!0,t.b++,Lu(Du(Ou(r,!0)).delete(e))})).then((function(){return delete t.c[e],Mu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){ju(e),function t(){e.f=setTimeout((function(){e.l=Fu(e).then((function(t){0<t.length&&G(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&ju(this)},(e=Uu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e}))},(e=Vu.prototype).get=function(e){return At(this.a[e])},e.set=function(e,t){return this.a[e]=t,At()},e.U=function(e){return delete this.a[e],At()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return At().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return At().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=zu.prototype).get=function(){return At(null)},e.set=function(){return At()},e.U=function(){return At()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return At().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return At().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Qu,Ju={F:qu,bb:Gu},$u={F:qu,bb:Gu},Yu={F:bu,bb:zu},Xu={F:qu,bb:zu},Zu={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(Br(xr())||!_r()),t=Mr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Wu),e=Hu;try{this.g=!lr()&&Hr()||!s.indexedDB?new e.a.F:new Uu(Er()?new Vu:new e.a.F)}catch(e){this.g=new Vu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Vu}this.v=new Vu,this.f=_(this.Yb,this),this.b={}}function tc(){return Qu||(Qu=new ec),Qu}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(e=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},e.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(nc(this,"local").ca(this.f),this.h||(lr()||!Hr())&&s.indexedDB||!this.l||function(e){oc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Xt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(nc(this,"local").ia(this.f),oc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.mb(t))},Je&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,_(this.mb,this))},e.mb=function(e){this.a[e]&&G(this.a[e],(function(e){e()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(yc):yc),this.reset()}T(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=Y(128,dc);function mc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(mc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(mc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}T(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(e){return new k("invalid-cordova-configuration",e)}function Ic(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Tc(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Sc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ao(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Un(o=Vn(i),"firebaseError")||null))?C(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(e,i)}))}var n=new Bo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Cn(500).then((function(){return Sc(e).then((function(){r||Ic(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Wo||(Wo=new Go),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Sc(e){var t=null;return function(e){return e.b.get(uc,e.a).then((function(e){return zo(e)}))}(e.g).then((function(n){return t=n,ic((n=e.g).b,uc,n.a)})).then((function(){return t}))}function kc(e){this.a=e,this.b=tc()}(e=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Pr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Pr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Pr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Ob=function(e,t){return t(new k("operation-not-supported-in-this-environment")),At()},e.Mb=function(){return Nt(new k("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Nt(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=At().then((function(){return qo(t),Tc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Bo(t,r,null,o,new k("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Nt(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new bc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,vc,56-t.c):gc(t,vc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(mc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=yu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(uc,a.w(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=xr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Kr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Sc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Tc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Sa=function(e){$(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function Ac(e){return ic(e.b,Cc,e.a)}function Nc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Gc,this.C=new Jc,this.g=new kc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,A,this.J)}function xc(e,t,n,r,i){var o=jr.Z.SDK_VERSION||null;return wr()?new _c(e,t,n,o,r,i):new pu(e,t,n,o,r,i)}function Pc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rc(e){e.a.Xb()&&Pc(e).o((function(t){var n=new Bo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)})),e.a.Tb()||Kc(e.b)}function Dc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Ac(e.g).then((function(){Pc(e).o((function(t){var n=new Bo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)}))})):Rc(e)})).o((function(){Rc(e)}))}function Oc(e,t){$(e.h,(function(e){return e==t}))}Nc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=I())),t=!0;break}}return Kc(this.b),t};var Lc=new Gr(2e3,1e4),Mc=new Gr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function jc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Uc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(jc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Ac(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):Ac(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Nc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function zc(e,t,n,r){var i=Bc(t,n,r);return qc[i]||(qc[i]=new Nc(e,t,n,r)),qc[i]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Wc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Hc(e,t){if(e.b=function(){return At(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Hc(e,n):Hc(e,{user:null}),e.f=[],e.c=[]}function Jc(){}function $c(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function Yc(e,t){this.a=t,Xr(this,"verificationId",e)}function Xc(e,t,n,r){return new jo(e).fb(t,n).then((function(e){return new Yc(e,r)}))}function Zc(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function el(e,t,n){var r=t&&t[nl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new so(null,r),this.b=[];var i=this;G(t[tl]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),At()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):Nt(new k("invalid-auth-event")):(Qc(this,!1,null,null),At())}else Nt(new k("invalid-auth-event"))},Gc.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=Cn(Mc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},Jc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),At()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new k("invalid-auth-event"))}else Nt(new k("invalid-auth-event"))},Yc.prototype.confirm=function(e){return e=Uo(this.verificationId,e),this.a(e)};var tl="mfaInfo",nl="mfaPendingCredential";function rl(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new el(e,t,n),Xr(this,"resolver",this.b)}function il(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new rl(t,e.serverResponse,n,e.message)}catch(e){}return null}function ol(){}function al(e){Xr(this,"factorId",e.fa),this.a=e}function sl(e){if(al.call(this,e),this.a.fa!=jo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function cl(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),ll(this,n)}function ll(e,t){e.b=t,Xr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Kr()||!e?At():new _t((function(n){t=function(){Kr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){fl(e,!0)})).o((function(t){e.i(t)&&fl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function vl(e,t){e.b=Ki(t[Za]||""),e.a=t.refreshToken,pl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function gl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function yl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=jr.Z.SDK_VERSION?Nr(jr.Z.SDK_VERSION):null;this.a=new Ya(this.l,R(A),r),e.emulatorConfig&&os(this.a,e.emulatorConfig),this.b=new dl(this.a),kl(this,t[Za]),vl(this.b,t),Xr(this,"refreshToken",this.b.a),Nl(this,n||{}),En.call(this),this.R=!1,this.s&&Dr()&&(this.i=zc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=_(this.hb,this);var i=this;this.ya=null,this.Oa=function(e){i.wa(e.h)},this.ja=null,this.Aa=function(e){os(i.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){_l(i,e.f)},this.ba=null,this.O=new cl(this,n),Xr(this,"multiFactor",this.O)}function bl(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function wl(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function _l(e,t){e.$=t,ss(e.a,jr.Z.SDK_VERSION?Nr(jr.Z.SDK_VERSION,e.$):null)}function El(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function Il(e){try{return jr.Z.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Tl(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function Sl(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function kl(e,t){e.za=t,Xr(e,"_lat",t)}function Cl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Pt(t).then((function(){return e}))}function Al(e){e.i&&!e.R&&(e.R=!0,Dc(e.i,e))}function Nl(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function xl(){}function Pl(e){return At().then((function(){if(e.D)throw new k("app-deleted")}))}function Rl(e){return W(e.providerData,(function(e){return e.providerId}))}function Dl(e,t){t&&(Ol(e,t.providerId),e.providerData.push(t))}function Ol(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function Ll(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Xr(e,t,n)}function Ml(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Xr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Xr(e,"metadata",new ml),G(t.providerData,(function(t){Dl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Xr(e,"refreshToken",e.b.a),ll(e.O,t.O.b))}function Fl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,Os,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Ll(e,"isAnonymous",!1),t}))}))}function jl(e,t){t[Za]&&e.za!=t[Za]&&(vl(e.b,t),e.dispatchEvent(new ul("tokenChanged")),kl(e,t[Za]),Ll(e,"refreshToken",e.b.a))}function Ul(e,t){return Fl(e).then((function(){if(Q(Rl(e),t))return Cl(e).then((function(){throw new k("provider-already-linked")}))}))}function Vl(e,t,n){return ei({user:e,credential:Vo(t),additionalUserInfo:t=Yi(t),operationType:n})}function ql(e,t){return jl(e,t),e.reload().then((function(){return e}))}function Bl(e,t,n,r,i){if(!Dr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.h&&!i)return Nt(e.h);var o=$i(n.providerId),a=qr(e.uid+":::"),s=null;(!Mr()||_r())&&e.s&&n.isOAuthProvider&&(s=yu(e.s,e.l,e.m,t,n,null,a,jr.Z.SDK_VERSION||null,null,null,e.tenantId));var u=mr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return Fc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Vc(e.i,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ei(e):null})).o((function(e){throw u&&vr(u),e})),Kl(e,r,i)}function zl(e,t,n,r,i){if(!Dr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.h&&!i)return Nt(e.h);var o=null,a=qr(e.uid+":::");return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Cl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Ql,e.w(),t.a)),t})).then((function(){return Uc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Jl(e.ha);throw o})).then((function(){if(o)throw o})),Kl(e,r,i)}function Gl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Kl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Nt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new ul("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){J(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),Il(e),_(e.jc,e))),n||t}))}function Wl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(t,n,e);return e.providerData&&G(e.providerData,(function(e){e&&Dl(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Hl(e){this.a=e,this.b=tc()}el.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[tl],delete n[nl],ge(n,e),t.g(n)}))},T(rl,k),ol.prototype.sb=function(e,t,n){return t.type==uo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Fo(e.a)}),ru(t,Rs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(e.a)}),ru(t,Ds,n)}))}(this,e,t)},T(al,ol),T(sl,al),T(ul,Yt),(e=cl.prototype).yc=function(e){ll(this,function(e){var t=[];return G(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new so(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return ll(t,r),jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?us(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(ou(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Xn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ki(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):At(null):At({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(yl,En),yl.prototype.wa=function(e){this.ya=e,is(this.a,e)},yl.prototype.la=function(){return this.ya},yl.prototype.Ga=function(){return X(this.$)},yl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Xr(yl.prototype,"providerId","firebase"),(e=yl.prototype).reload=function(){var e=this;return Kl(this,Pl(this).then((function(){return Fl(e).then((function(){return Cl(e)})).then(xl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Kl(this,Pl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.za&&(kl(t,e.accessToken),t.dispatchEvent(new ul("tokenChanged"))),Ll(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Nl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new gl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dl(this,t[n]);Ll(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:e}))},e.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Kl(this,e.c(this.a,this.uid).then((function(e){return jl(t,e),n=Vl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Kl(this,Ul(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vl(t,e,"link"),ql(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Kl(this,Ul(this,"phone").then((function(){return Xc(Il(n),e,t,_(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Kl(this,At().then((function(){return Xc(Il(n),e,t,_(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Kl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Kl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return jl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Kl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pl(this);var t=this;return Kl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return jl(t,e),Ll(t,"displayName",e.displayName||null),Ll(t,"photoURL",e.photoUrl||null),G(t.providerData,(function(e){"password"===e.providerId&&(Xr(e,"displayName",t.displayName),Xr(e,"photoURL",t.photoURL))})),Cl(t)})).then(xl))},e.cd=function(e){var t=this;return Kl(this,Fl(this).then((function(n){return Q(Rl(t),e)?function(e,t,n){return ru(e,Ns,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return G(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),G(Rl(t),(function(e){n[e]||Ol(t,e)})),n[jo.PROVIDER_ID]||Xr(t,"phoneNumber",null),Cl(t)})):Cl(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return Kl(this,this.I().then((function(t){return ru(e.a,As,{idToken:t})})).then((function(){e.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");bl(e,null),wl(e,null),El(e,null),e.J=[],e.D=!0,Sl(e),Xr(e,"refreshToken",null),e.i&&Oc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):null},e.Ec=function(e){var t=this;return Bl(this,"linkViaPopup",e,(function(){return Ul(t,e.providerId).then((function(){return Cl(t)}))}),!1)},e.Nc=function(e){return Bl(this,"reauthViaPopup",e,(function(){return At()}),!0)},e.Fc=function(e){var t=this;return zl(this,"linkViaRedirect",e,(function(){return Ul(t,e.providerId)}),!1)},e.Oc=function(e){return zl(this,"reauthViaRedirect",e,(function(){return At()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then((function(n){return _s(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Vl(i,e,"link"),ql(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,At().then((function(){return ho(Es(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Vl(i,e,"reauthenticate"),jl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Kl(this,this.I().then((function(t){return n=t,void 0===e||pe(e)?{}:Bi(new Ri(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Kl(this,this.I().then((function(e){return r=e,void 0===t||pe(t)?{}:Bi(new Ri(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Kl(this,e=ho(At(e),n.uid).then((function(e){return t=Vl(n,e,"reauthenticate"),jl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),G(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.O.w()),e};var Ql={name:"redirectUser",F:"session"};function Jl(e){return ic(e.b,Ql,e.a)}function $l(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=Zl("local"),n=Zl("session"),r=Zl("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Vr(s.localStorage.getItem(r))}catch(e){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Xl,e.a).then((function(e){return e?Zl(e):t}))}))}))})).then((function(t){return e.c=t,Yl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Zl("local"),this.a,_(this.g,this))}function Yl(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(ic(e.b,Zl(Zu[n]),e.a));return r.push(ic(e.b,Xl,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)xt(e[s],E(o,s),a);else t(i)}))}(r)}$l.prototype.g=function(){var e=this,t=Zl("local");rh(this,(function(){return At().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Yl(e,"local").then((function(){e.c=t}))}))}))};var Xl={name:"persistence",F:"session"};function Zl(e){return{name:"authUser",F:e}}function eh(e,t){return rh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function th(e){return rh(e,(function(){return ic(e.b,e.c,e.a)}))}function nh(e,t,n){return rh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Wl(e||{})}))}))}function rh(e,t){return e.f=e.f.then(t,t),e.f}function ih(e){if(this.l=!1,Xr(this,"settings",new $c),Xr(this,"app",e),!fh(this).options||!fh(this).options.apiKey)throw new k("invalid-api-key");e=jr.Z.SDK_VERSION?Nr(jr.Z.SDK_VERSION):null,this.a=new Ya(fh(this).options&&fh(this).options.apiKey,R(A),e),this.R=[],this.s=[],this.O=[],this.hb=jr.Z.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=jr.Z.INTERNAL.createSubscribe(_(this.Ac,this)),lh(this,null),this.i=new $l(fh(this).options.apiKey+":"+fh(this).name),this.D=new Hl(fh(this).options.apiKey+":"+fh(this).name),this.$=mh(this,function(e){var t=fh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ql,e.a).then((function(e){return e&&t&&(e.authDomain=t),Wl(e||{})}))}(e.D,fh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Jl(e.D)}));return mh(e,t)}(e).then((function(){return nh(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return eh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:th(e.i)}))):null})).then((function(t){lh(e,t||null)}));return mh(e,n)}(this)),this.h=mh(this,function(e){return e.$.then((function(){return ch(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Zl("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=fh(e).options.authDomain,n=fh(e).options.apiKey;t&&Dr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=zc(t,n,fh(e).name,e.P),Dc(e.b,e),dh(e)&&Al(dh(e)),e.m){Al(e.m);var r=e.m;r.wa(e.la()),bl(r,e),_l(r=e.m,e.J),El(r,e),os((r=e.m).a,e.P),wl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=Vn(this.P.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function oh(e){Yt.call(this,"languageCodeChanged"),this.h=e}function ah(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function sh(e){Yt.call(this,"frameworkChanged"),this.f=e}function uh(e){return e.Oa||Nt(new k("auth-domain-config-required"))}function ch(e){if(!Dr())return Nt(new k("operation-not-supported-in-this-environment"));var t=uh(e).then((function(){return e.b.qa()})).then((function(e){return e?ei(e):null}));return mh(e,t)}function lh(e,t){dh(e)&&(function(e,t){$(e.S,(function(e){return e==t}))}(dh(e),e.Ba),dn(dh(e),"tokenChanged",e.ya),dn(dh(e),"userDeleted",e.za),dn(dh(e),"userInvalidated",e.Aa),Sl(dh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Tl(t)),Xr(e,"currentUser",t),t&&(t.wa(e.la()),bl(t,e),_l(t,e.J),El(t,e),os(t.a,e.P),wl(t,e))}function hh(e,t){var n=null,r=null;return mh(e,t.then((function(t){return n=Vo(t),r=Yi(t),function(e,t){var n={};return n.apiKey=fh(e).options.apiKey,n.authDomain=fh(e).options.authDomain,n.appName=fh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new yl(e,t);return n&&(i.ha=n),r&&_l(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return dh(e)&&t.uid==dh(e).uid?(Ml(dh(e),t),e.da(t)):(lh(e,t),Al(t),e.da(t))})).then((function(){vh(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),e,_(e.kc,e))),n||t})).then((function(){return ei({user:dh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fh(e){return e.app}function dh(e){return e.currentUser}function ph(e){return dh(e)&&dh(e)._lat||null}function vh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](ph(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](ph(e))}}function mh(e,t){return e.R.push(t),t.oa((function(){J(e.R,t)})),t}function gh(){}function yh(){this.a={},this.b=1e12}$l.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Ir()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ru()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),rh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Yl(n,e)})).then((function(){if(n.c=Zl(e),t)return n.b.set(n.c,t,n.a)})):At()}))},T(ih,En),T(oh,Yt),T(ah,Yt),T(sh,Yt),(e=ih.prototype).xb=function(e){return mh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,is(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,os(this.a,this.P),this.dispatchEvent(new ah(this.P))}},e.Gc=function(e){this.J.push(e),ss(this.a,jr.Z.SDK_VERSION?Nr(jr.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new sh(this.J))},e.Ga=function(){return X(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:dh(this)&&dh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hh(i,ws(i.a,o))}))},e.Xc=function(e){if(!Dr())return Nt(new k("operation-not-supported-in-this-environment"));var t=this,n=$i(e.providerId),r=qr(),i=null;(!Mr()||_r())&&fh(this).options.authDomain&&e.isOAuthProvider&&(i=yu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",e,null,r,jr.Z.SDK_VERSION||null,null,null,this.T(),this.P));var o=mr(i,n&&n.ua,n&&n.ta);return mh(this,n=uh(this).then((function(n){return Fc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Vc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ei(e):null})).o((function(e){throw o&&vr(o),e})))},e.Yc=function(e){if(!Dr())return Nt(new k("operation-not-supported-in-this-environment"));var t=this;return mh(this,uh(this).then((function(){return function(e){return rh(e,(function(){return e.b.set(Xl,e.c.F,e.a)}))}(t.i)})).then((function(){return Uc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return ch(this).then((function(t){return e.b&&Wc(e.b.b),t})).o((function(t){throw e.b&&Wc(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new k("null-user"));if(this.S!=e.tenantId)return Nt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=fh(this).options.apiKey,n.authDomain=fh(this).options.authDomain,n.appName=fh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new yl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&_l(t,r),Ml(t,e),t}(e,n,t.D,t.Ga());return mh(this,this.h.then((function(){if(fh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return dh(t)&&e.uid==dh(t).uid?(Ml(dh(t),e),t.da(e)):(lh(t,r),Al(r),t.da(r))})).then((function(){vh(t)})))},e.Ab=function(){var e=this;return mh(this,this.h.then((function(){return e.b&&Wc(e.b.b),dh(e)?(lh(e,null),th(e.i).then((function(){vh(e)}))):At()})))},e.Zc=function(){var e=this;return nh(this.i,fh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=dh(e)&&t){n=dh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ml(dh(e),t),dh(e).I();(dh(e)||t)&&(lh(e,t),t&&(Al(t),t.ha=e.D),e.b&&Dc(e.b,e),vh(e))}}))},e.da=function(e){return eh(this.i,e)},e.mc=function(){vh(this),this.da(dh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return hh(t,At(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(dh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),mh(e,e.h.then((function(){!e.l&&Q(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(ph(e)))})))}(this,(function(){e.next(dh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(dh(r)):"function"==typeof e.next&&e.next(dh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(dh(r)):"function"==typeof e.next&&e.next(dh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return mh(this,this.h.then((function(){return dh(t)?dh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return hh(t,ru(t.a,Ys,{token:e}))})).then((function(e){var n=e.user;return Ll(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return hh(n,ru(n.a,Xs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return hh(n,ru(n.a,ks,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return hh(t,e.ka(t.a))}))},e.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=dh(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hh(e,e.a.zb()).then((function(t){var n=t.user;return Ll(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return dh(this)&&dh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&dh(this)&&Tl(dh(this))},e.Pc=function(e){var t=this;G(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&dh(this)&&Sl(dh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),mh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(ph(t))})))},e.removeAuthTokenListener=function(e){$(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Zl("local"),e.a,this.ja),this.b&&(Oc(this.b,this),Wc(this.b.b)),Promise.resolve()},e.hc=function(e){return mh(this,function(e,t){return ru(e,Cs,{identifier:t,continueUri:Or()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Oo(e)},e.wb=function(e,t){var n=this;return mh(this,At().then((function(){var e=new Ri(t);if(!e.c)throw new k("argument-error",Li+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return mh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return mh(this,this.a.Ra(e).then((function(e){return new ci(e)})))},e.jb=function(e){return mh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return mh(this,At().then((function(){return void 0===t||pe(t)?{}:Bi(new Ri(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return mh(this,Xc(this,e,t,_(this.$a,this)))},e.Vc=function(e,t){var n=this;return mh(this,At().then((function(){var r=t||hr(),i=Do(e,r);if(!(r=Oo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var bh=null;function wh(e,t){return(t=_h(t))&&e.a[t]||null}function _h(e){return(e=void 0===e?1e12:e)?e.toString():null}function Eh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Ih(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function Sh(){}yh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Eh(e,t),this.b++},yh.prototype.reset=function(e){var t=wh(this,e);e=_h(e),t&&e&&(t.delete(),delete this.a[e])},yh.prototype.getResponse=function(e){return(e=wh(this,e))?e.getResponse():null},yh.prototype.execute=function(e){(e=wh(this,e))&&e.execute()},Eh.prototype.getResponse=function(){return Ih(this),this.b},Eh.prototype.execute=function(){Ih(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Ih(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Xr(Th,"FACTOR_ID","phone"),Sh.prototype.g=function(){return bh||(bh=new yh),At(bh)},Sh.prototype.c=function(){};var kh=null;function Ch(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ah=new be(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nh=new Gr(3e4,6e4);Ch.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Nh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},At(Ga(Ce(Ah,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Ch.prototype.c=function(){this.b--};var xh=null;function Ph(e,t,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(kh||(kh=new Sh),a=kh):(xh||(xh=new Ch),a=xh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rh];this.a[Rh]=function(e){if(Mh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Pr(c,s);"function"==typeof t&&t(e)}};var l=this.a[Dh];this.a[Dh]=function(){if(Mh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Pr(l,s);"function"==typeof e&&e()}}}var Rh="callback",Dh="expired-callback",Oh="sitekey",Lh="size";function Mh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Fh(e,t){return e.h.push(t),t.oa((function(){J(e.h,t)})),t}function jh(e){if(e.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Uh(e,t,n){var r=!1;try{this.b=n||jr.Z.app()}catch(e){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=jr.Z.SDK_VERSION?Nr(jr.Z.SDK_VERSION,o):null,Ph.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,R(A),r)}function Vh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=qh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=qh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Ph.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Fh(this,At().then((function(){if(Or()&&!Er())return br();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ru(e.s,Vs,{})})).then((function(t){e.a[Oh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){jh(this);var e=this;return Fh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ge(a.name),'"'),a.type){o.push(' type="',Ge(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){jh(this);var e=this;return Fh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Uh,Ph);var qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function Kh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Wh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Hh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Qh(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Jh(e){return v(e)&&"string"==typeof e.uid}function $h(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Yh(e,t){for(var n in t){var r=t[n].name;e[r]=ef(r,e[n],t[n].j)}}function Xh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Vh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function Zh(e,t,n,r){e[t]=ef(t,n,r)}function ef(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Vh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Yh(ih.prototype,{jb:{name:"applyActionCode",j:[Bh("code")]},Ra:{name:"checkActionCode",j:[Bh("code")]},nb:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(Gh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(Gh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Bh("email"),$h(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Bh("email"),Gh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Bh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Bh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Vc:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof yl)}},Wh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Xh(ih.prototype,{lc:{name:"languageCode",kb:$h(Bh(),Wh(),"languageCode")},ti:{name:"tenantId",kb:$h(Bh(),Wh(),"tenantId")}}),ih.Persistence=Zu,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Yh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[$h(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},cd:{name:"unlink",j:[Bh("provider")]},Bb:{name:"updateEmail",j:[Bh("email")]},Cb:{name:"updatePassword",j:[Bh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Gh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Bh("email"),$h(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh($c.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:zh("appVerificationDisabledForTesting")}}),Yh(Yc.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),Zh(lo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[yo,Po,Mo,vo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[$h(Bh(),Gh(),"json")]),Zh(Ro,"credential",(function(e,t){return new xo(e,t)}),[Bh("email"),Bh("password")]),Yh(xo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Eo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(Eo,"credential",Io,[$h(Bh(),Gh(),"token")]),Zh(Ro,"credentialWithLink",Do,[Bh("email"),Bh("emailLink")]),Yh(To.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(To,"credential",So,[$h(Bh(),Gh(),"token")]),Yh(ko.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(ko,"credential",Co,[$h(Bh(),$h(Gh(),Wh()),"idToken"),$h(Bh(),Wh(),"accessToken",!0)]),Yh(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Zh(Ao,"credential",No,[$h(Bh(),Gh(),"token"),Bh("secret",!0)]),Yh(_o.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[$h(Bh(),$h(Gh(),Wh()),"optionsOrIdToken"),$h(Bh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Yh(mo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(fo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(jo,"credential",Uo,[Bh("verificationId"),Bh("verificationCode")]),Yh(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[$h(Bh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Qh(e.session,uo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Qh(e.session,co)&&Jh(e.multiFactorHint):e.session&&e.multiFactorUid?Qh(e.session,co)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Yh(Lo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(k.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Qo.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Ho.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(rl.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Yh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Bh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Bh(),"multiFactorInfoIdentifier")]}}),Yh(Uh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(Ii,"parseLink",Pi,[Bh("link")]),Zh(Th,"assertion",(function(e){return new sl(e)}),[Hh("phone")]),function(){if(void 0===jr.Z||!jr.Z.INTERNAL||!jr.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:lo,Error:k};Zh(e,"EmailAuthProvider",Ro,[]),Zh(e,"FacebookAuthProvider",Eo,[]),Zh(e,"GithubAuthProvider",To,[]),Zh(e,"GoogleAuthProvider",ko,[]),Zh(e,"TwitterAuthProvider",Ao,[]),Zh(e,"OAuthProvider",_o,[Bh("providerId")]),Zh(e,"SAMLAuthProvider",wo,[Bh("providerId")]),Zh(e,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ih)}}]),Zh(e,"RecaptchaVerifier",Uh,[$h(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof jr.Z.app.App)}}]),Zh(e,"ActionCodeURL",Ii,[]),Zh(e,"PhoneMultiFactorGenerator",Th,[]),jr.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ih(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),jr.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),jr.Z.registerVersion("@firebase/auth","0.16.4"),jr.Z.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(446);var Ur=n(594),Vr=n(589),qr=function(e,t){return(qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Br(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zr,Gr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Kr=Kr||{},Wr=Gr||self;function Hr(){}function Qr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $r="closure_uid_"+(1e9*Math.random()>>>0),Yr=0;function Xr(e,t,n){return e.call.apply(e.bind,arguments)}function Zr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ei(e,t,n){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xr:Zr).apply(null,arguments)}function ti(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ni(){return Date.now()}function ri(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ii(){this.j=this.j,this.i=this.i}ii.prototype.j=!1,ii.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,$r)&&e[$r]||(e[$r]=++Yr)}(this)},ii.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var oi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ai=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function si(e){return Array.prototype.concat.apply([],arguments)}function ui(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ci(e){return/^[\s\xa0]*$/.test(e)}var li,hi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fi(e,t){return-1!=e.indexOf(t)}function di(e,t){return e<t?-1:e>t?1:0}e:{var pi=Wr.navigator;if(pi){var vi=pi.userAgent;if(vi){li=vi;break e}}li=""}function mi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gi(e){var t={};for(var n in e)t[n]=e[n];return t}var yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<yi.length;o++)n=yi[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wi(e){return wi[" "](e),e}wi[" "]=Hr;var _i,Ei,Ii=fi(li,"Opera"),Ti=fi(li,"Trident")||fi(li,"MSIE"),Si=fi(li,"Edge"),ki=Si||Ti,Ci=fi(li,"Gecko")&&!(fi(li.toLowerCase(),"webkit")&&!fi(li,"Edge"))&&!(fi(li,"Trident")||fi(li,"MSIE"))&&!fi(li,"Edge"),Ai=fi(li.toLowerCase(),"webkit")&&!fi(li,"Edge");function Ni(){var e=Wr.document;return e?e.documentMode:void 0}e:{var xi="",Pi=(Ei=li,Ci?/rv:([^\);]+)(\)|;)/.exec(Ei):Si?/Edge\/([\d\.]+)/.exec(Ei):Ti?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ei):Ai?/WebKit\/(\S+)/.exec(Ei):Ii?/(?:Version)[ \/]?(\S+)/.exec(Ei):void 0);if(Pi&&(xi=Pi?Pi[1]:""),Ti){var Ri=Ni();if(null!=Ri&&Ri>parseFloat(xi)){_i=String(Ri);break e}}_i=xi}var Di,Oi={};function Li(e){return function(e,t){var n=Oi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=hi(String(_i)).split("."),r=hi(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=di(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||di(0==a[2].length,0==s[2].length)||di(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}Wr.document&&Ti?Di=Ni()||parseInt(_i,10)||void 0:Di=void 0;var Mi=Di,Fi=!Ti||9<=Number(Mi),ji=Ti&&!Li("9"),Ui=function(){if(!Wr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wr.addEventListener("test",Hr,t),Wr.removeEventListener("test",Hr,t)}catch(e){}return e}();function Vi(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function qi(e,t){if(Vi.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Ci){e:{try{wi(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Bi[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Vi.prototype.b=function(){this.defaultPrevented=!0},ri(qi,Vi);var Bi={2:"touch",3:"pen",4:"mouse"};qi.prototype.b=function(){qi.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ji)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var zi="closure_listenable_"+(1e6*Math.random()|0),Gi=0;function Ki(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Gi,this.Y=this.Z=!1}function Wi(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Hi(e){this.src=e,this.a={},this.b=0}function Qi(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=oi(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Wi(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Ji(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}Hi.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Ji(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Ki(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var $i="closure_lm_"+(1e6*Math.random()|0),Yi={};function Xi(e,t,n,r,i){if(r&&r.once)return eo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xi(e,t[o],n,r,i);return null}return n=uo(n),e&&e[zi]?e.va(t,n,Jr(r)?!!r.capture:!!r,i):Zi(e,t,n,!1,r,i)}function Zi(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Jr(i)?!!i.capture:!!i;if(a&&!Fi)return null;var s=ao(e);if(s||(e[$i]=s=new Hi(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=oo,t=Fi?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ui||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function eo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)eo(e,t[o],n,r,i);return null}return n=uo(n),e&&e[zi]?e.wa(t,n,Jr(r)?!!r.capture:!!r,i):Zi(e,t,n,!0,r,i)}function to(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)to(e,t[o],n,r,i);else r=Jr(r)?!!r.capture:!!r,n=uo(n),e&&e[zi]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=Ji(o=e.a[t],n,r,i))&&(Wi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=ao(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ji(t,n,r,i)),(n=-1<e?t[e]:null)&&no(n))}function no(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[zi])Qi(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ao(t))?(Qi(n,e),0==n.b&&(n.src=null,t[$i]=null)):Wi(e)}}}function ro(e){return e in Yi?Yi[e]:Yi[e]="on"+e}function io(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&no(e),n.call(r,t)}function oo(e,t){if(e.Y)return!0;if(!Fi){if(!t)e:{t=["window","event"];for(var n=Wr,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return io(e,t=new qi(t,this))}return io(e,new qi(t,this))}function ao(e){return(e=e[$i])instanceof Hi?e:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(e){return"function"==typeof e?e:(e[so]||(e[so]=function(t){return e.handleEvent(t)}),e[so])}function co(){ii.call(this),this.c=new Hi(this),this.J=this,this.C=null}function lo(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Vi(t,e);else if(t instanceof Vi)t.target=t.target||e;else{var i=t;bi(t=new Vi(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=ho(a,r,!0,t)&&i}if(i=ho(a=t.a=e,r,!0,t)&&i,i=ho(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ho(a=t.a=n[o],r,!1,t)&&i}function ho(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Qi(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ri(co,ii),co.prototype[zi]=!0,(zr=co.prototype).addEventListener=function(e,t,n,r){Xi(this,e,t,n,r)},zr.removeEventListener=function(e,t,n,r){to(this,e,t,n,r)},zr.G=function(){if(co.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Wi(n[r]);delete t.a[e],t.b--}}this.C=null},zr.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},zr.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var fo=Wr.JSON.stringify;function po(){this.b=this.a=null}var vo,mo=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new yo}),(function(e){e.reset()}));function go(){var e=Eo,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function yo(){this.next=this.b=this.a=null}function bo(e){Wr.setTimeout((function(){throw e}),0)}function wo(e,t){vo||function(){var e=Wr.Promise.resolve(void 0);vo=function(){e.then(Io)}}(),_o||(vo(),_o=!0),Eo.add(e,t)}po.prototype.add=function(e,t){var n=mo.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},yo.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},yo.prototype.reset=function(){this.next=this.b=this.a=null};var _o=!1,Eo=new po;function Io(){for(var e;e=go();){try{e.a.call(e.b)}catch(e){bo(e)}var t=mo;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}_o=!1}function To(e,t){co.call(this),this.b=e||1,this.a=t||Wr,this.f=ei(this.Za,this),this.g=ni()}function So(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ko(e,t,n){if("function"==typeof e)n&&(e=ei(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ei(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wr.setTimeout(e,t||0)}function Co(e){e.a=ko((function(){e.a=null,e.c&&(e.c=!1,Co(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}ri(To,co),(zr=To.prototype).aa=!1,zr.M=null,zr.Za=function(){if(this.aa){var e=ni()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),lo(this,"tick"),this.aa&&(So(this),this.start()))}},zr.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ni())},zr.G=function(){To.X.G.call(this),So(this),delete this.a};var Ao=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}qr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Co(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Wr.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ii);function No(e){ii.call(this),this.b=e,this.a={}}ri(No,ii);var xo=[];function Po(e,t,n,r){Array.isArray(n)||(n&&(xo[0]=n.toString()),n=xo);for(var i=0;i<n.length;i++){var o=Xi(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ro(e){mi(e.a,(function(e,t){this.a.hasOwnProperty(t)&&no(e)}),e),e.a={}}function Do(){this.a=!0}function Oo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return fo(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}No.prototype.G=function(){No.X.G.call(this),Ro(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Do.prototype.info=function(){};var Lo={},Mo=null;function Fo(){return Mo=Mo||new co}function jo(e){Vi.call(this,Lo.Fa,e)}function Uo(e){var t=Fo();lo(t,new jo(t,e))}function Vo(e,t){Vi.call(this,Lo.STAT_EVENT,e),this.stat=t}function qo(e){var t=Fo();lo(t,new Vo(t,e))}function Bo(e){Vi.call(this,Lo.Ga,e)}function zo(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Wr.setTimeout((function(){e()}),t)}Lo.Fa="serverreachability",ri(jo,Vi),Lo.STAT_EVENT="statevent",ri(Vo,Vi),Lo.Ga="timingevent",ri(Bo,Vi);var Go={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ko={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Wo(){}function Ho(e){var t;return(t=e.a)||(t=e.a={}),t}function Qo(){}Wo.prototype.a=null;var Jo,$o={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yo(){Vi.call(this,"d")}function Xo(){Vi.call(this,"c")}function Zo(){}function ea(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new No(this),this.P=ta,e=ki?125:void 0,this.R=new To(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ri(Yo,Vi),ri(Xo,Vi),ri(Zo,Wo),Jo=new Zo;var ta=45e3,na={},ra={};function ia(e,t,n){e.H=1,e.i=ka(wa(t)),e.j=n,e.I=!0,oa(e,null)}function oa(e,t){e.u=ni(),ua(e),e.l=wa(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Ua(n.b,"t",r),e.D=0,e.a=Ds(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ao(ei(e.Ca,e,e.a),e.O)),Po(e.J,e.a,"readystatechange",e.Xa),t=e.B?gi(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Uo(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function aa(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=sa(e,n);if(i==ra){4==t&&(e.h=4,qo(14),r=!1),Oo(e.c,e.f,null,"[Incomplete Response]");break}if(i==na){e.h=4,qo(15),Oo(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Oo(e.c,e.f,i,null),da(e,i)}4==t&&0==n.length&&(e.h=1,qo(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ss(t),t.F=!0,qo(11))):(Oo(e.c,e.f,n,"[Invalid Chunked Response]"),fa(e),ha(e))}function sa(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?ra:(n=Number(t.substring(n,r)),isNaN(n)?na:(r+=1)+n>t.length?ra:(t=t.substr(r,n),e.D=r+n,t))}function ua(e){e.T=ni()+e.P,ca(e,e.P)}function ca(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=zo(ei(e.Va,e),t)}function la(e){e.o&&(Wr.clearTimeout(e.o),e.o=null)}function ha(e){0==e.g.v||e.A||As(e.g,e)}function fa(e){la(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,So(e.R),Ro(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function da(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Wa(n.b,e)))if(n.I=e.N,!e.C&&Wa(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Cs(n),ms(n)}Ts(n),qo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=zo(ei(n.Sa,n),6e3));if(1>=Ka(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else xs(n,11)}else if((e.C||n.a==e)&&Cs(n),!ci(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(fi(l,"spdy")||fi(l,"quic")||fi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ha(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Sa(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ni()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Rs(u,u.C?u.ga:null,u.fa),d.C){Qa(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(la(p),ua(p)),u.a=d}else Is(u);0<n.g.length&&bs(n)}else"stop"!=i[0]&&"close"!=i[0]||xs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?xs(n,7):vs(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Uo(4)}catch(e){}}function pa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qr(e)||"string"==typeof e)ai(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Qr(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(Qr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function va(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof va)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ma(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ga(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)ga(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ga(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zr=ea.prototype).setTimeout=function(e){this.P=e},zr.Xa=function(e){e=e.target;var t=this.F;t&&3==hs(e)?t.f():this.Ca(e)},zr.Ca=function(e){try{if(e==this.a)e:{var t=hs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!ki&&!this.a.$())){this.A||4!=t||7==n||Uo(8==n||0>=r?3:2),la(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ci(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,qo(12),fa(this),ha(this);break e}Oo(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,da(this,u)}this.I?(aa(this,t,o),ki&&this.b&&3==t&&(Po(this.J,this.R,"tick",this.Wa),this.R.start())):(Oo(this.c,this.f,o,null),da(this,o)),4==t&&fa(this),this.b&&!this.A&&(4==t?As(this.g,this):(this.b=!1,ua(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,qo(12)):(this.h=0,qo(13)),fa(this),ha(this)}}}catch(e){}},zr.Wa=function(){if(this.a){var e=hs(this.a),t=this.a.$();this.D<t.length&&(la(this),aa(this,e,t),this.b&&4!=e&&ua(this))}},zr.cancel=function(){this.A=!0,fa(this)},zr.Va=function(){this.o=null;var e=ni();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Uo(3),qo(17)),fa(this),this.h=2,ha(this)):ca(this,this.T-e)},(zr=va.prototype).K=function(){ma(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},zr.L=function(){return ma(this),this.a.concat()},zr.get=function(e,t){return ga(this.b,e)?this.b[e]:t},zr.set=function(e,t){ga(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},zr.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ya=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ba(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof ba){this.a=void 0!==t?t:e.a,_a(this,e.f),this.j=e.j,Ea(this,e.c),Ia(this,e.h),this.g=e.g,t=e.b;var n=new La;n.c=t.c,t.a&&(n.a=new va(t.a),n.b=t.b),Ta(this,n),this.i=e.i}else e&&(n=String(e).match(ya))?(this.a=!!t,_a(this,n[1]||"",!0),this.j=Ca(n[2]||""),Ea(this,n[3]||"",!0),Ia(this,n[4]),this.g=Ca(n[5]||"",!0),Ta(this,n[6]||"",!0),this.i=Ca(n[7]||"")):(this.a=!!t,this.b=new La(null,this.a))}function wa(e){return new ba(e)}function _a(e,t,n){e.f=n?Ca(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ea(e,t,n){e.c=n?Ca(t,!0):t}function Ia(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Ta(e,t,n){t instanceof La?(e.b=t,function(e,t){t&&!e.f&&(Ma(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fa(this,t),Ua(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Aa(t,Da)),e.b=new La(t,e.a))}function Sa(e,t,n){e.b.set(t,n)}function ka(e){return Sa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ni()).toString(36)),e}function Ca(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Aa(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Na),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Na(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ba.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Aa(t,xa,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Aa(t,xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Aa(n,"/"==n.charAt(0)?Ra:Pa,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Aa(n,Oa)),e.join("")};var xa=/[#\/\?@]/g,Pa=/[#\?:]/g,Ra=/[#\?]/g,Da=/[#\?@]/g,Oa=/#/g;function La(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ma(e){e.a||(e.a=new va,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fa(e,t){Ma(e),t=Va(e,t),ga(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,ga((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ma(e)))}function ja(e,t){return Ma(e),t=Va(e,t),ga(e.a.b,t)}function Ua(e,t,n){Fa(e,t),0<n.length&&(e.c=null,e.a.set(Va(e,t),ui(n)),e.b+=n.length)}function Va(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(zr=La.prototype).add=function(e,t){Ma(this),this.c=null,e=Va(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},zr.forEach=function(e,t){Ma(this),this.a.forEach((function(n,r){ai(n,(function(n){e.call(t,n,r,this)}),this)}),this)},zr.L=function(){Ma(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},zr.K=function(e){Ma(this);var t=[];if("string"==typeof e)ja(this,e)&&(t=si(t,this.a.get(Va(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=si(t,e[n])}return t},zr.set=function(e,t){return Ma(this),this.c=null,ja(this,e=Va(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},zr.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},zr.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var qa=function(e,t){this.b=e,this.a=t};function Ba(e){this.g=e||za,e=Wr.PerformanceNavigationTiming?0<(e=Wr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Wr.ia&&Wr.ia.ya&&Wr.ia.ya()&&Wr.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var za=10;function Ga(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Ka(e){return e.b?1:e.a?e.a.size:0}function Wa(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Ha(e,t){e.a?e.a.add(t):e.b=t}function Qa(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Ja(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Br(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ui(e.c)}function $a(){}function Ya(){this.a=new $a}function Xa(e,t,n){var r=n||"";try{pa(e,(function(e,n){var i=e;Jr(e)&&(i=fo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Za(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}Ba.prototype.cancel=function(){var e,t;if(this.c=Ja(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Br(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},$a.prototype.stringify=function(e){return Wr.JSON.stringify(e,void 0)},$a.prototype.parse=function(e){return Wr.JSON.parse(e,void 0)};var es=Wr.JSON.parse;function ts(e){co.call(this),this.headers=new va,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ns,this.D=this.F=!1}ri(ts,co);var ns="",rs=/^https?$/i,is=["POST","PUT"];function os(e){return"content-type"==e.toLowerCase()}function as(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,ss(e),cs(e)}function ss(e){e.u||(e.u=!0,lo(e,"complete"),lo(e,"error"))}function us(e){if(e.b&&void 0!==Kr&&(!e.s[1]||4!=hs(e)||2!=e.W()))if(e.l&&4==hs(e))ko(e.za,0,e);else if(lo(e,"readystatechange"),4==hs(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(ya)[1]||null;if(!o&&Wr.self&&Wr.self.location){var a=Wr.self.location.protocol;o=a.substr(0,a.length-1)}i=!rs.test(o?o.toLowerCase():"")}t=i}if(t)lo(e,"complete"),lo(e,"success");else{e.h=6;try{var s=2<hs(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",ss(e)}}finally{cs(e)}}}function cs(e,t){if(e.a){ls(e);var n=e.a,r=e.s[0]?Hr:null;e.a=null,e.s=null,t||lo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ls(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Wr.clearTimeout(e.m),e.m=null)}function hs(e){return e.a?e.a.readyState:0}function fs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Sa(e,t,n))}function ds(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ps(e){this.pa=0,this.g=[],this.c=new Do,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ds("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ds("baseRetryDelayMs",5e3,e),this.Ra=ds("retryDelaySeedMs",1e4,e),this.Ma=ds("forwardChannelMaxRetries",2,e),this.ma=ds("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Ba(e&&e.concurrentRequestLimit),this.ka=new Ya,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function vs(e){if(gs(e),3==e.v){var t=e.R++,n=wa(e.B);Sa(n,"SID",e.J),Sa(n,"RID",t),Sa(n,"TYPE","terminate"),_s(e,n),(t=new ea(e,e.c,t,void 0)).H=2,t.i=ka(wa(n)),n=!1,Wr.navigator&&Wr.navigator.sendBeacon&&(n=Wr.navigator.sendBeacon(t.i.toString(),"")),!n&&Wr.Image&&((new Image).src=t.i,n=!0),n||(t.a=Ds(t.g,null),t.a.ba(t.i)),t.u=ni(),ua(t)}Ps(e)}function ms(e){e.a&&(Ss(e),e.a.cancel(),e.a=null)}function gs(e){ms(e),e.j&&(Wr.clearTimeout(e.j),e.j=null),Cs(e),e.b.cancel(),e.h&&("number"==typeof e.h&&Wr.clearTimeout(e.h),e.h=null)}function ys(e,t){e.g.push(new qa(e.Oa++,t)),3==e.v&&bs(e)}function bs(e){Ga(e.b)||e.h||(e.h=!0,wo(e.Ba,e),e.u=0)}function ws(e,t){var n;n=t?t.f:e.R++;var r=wa(e.B);Sa(r,"SID",e.J),Sa(r,"RID",n),Sa(r,"AID",e.P),_s(e,r),e.i&&e.l&&fs(r,e.i,e.l),n=new ea(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Es(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Ha(e.b,n),ia(n,r,t)}function _s(e,t){e.f&&pa({},(function(e,n){Sa(t,n,e)}))}function Es(e,t,n){n=Math.min(e.g.length,n);var r=e.f?ei(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Xa(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Is(e){e.a||e.j||(e.T=1,wo(e.Aa,e),e.o=0)}function Ts(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=zo(ei(e.Aa,e),Ns(e,e.o)),e.o++,0))}function Ss(e){null!=e.s&&(Wr.clearTimeout(e.s),e.s=null)}function ks(e){e.a=new ea(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=wa(e.la);Sa(t,"RID","rpc"),Sa(t,"SID",e.J),Sa(t,"CI",e.H?"0":"1"),Sa(t,"AID",e.P),_s(e,t),Sa(t,"TYPE","xmlhttp"),e.i&&e.l&&fs(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=ka(wa(t)),n.j=null,n.I=!0,oa(n,e)}function Cs(e){null!=e.m&&(Wr.clearTimeout(e.m),e.m=null)}function As(e,t){var n=null;if(e.a==t){Cs(e),Ss(e),e.a=null;var r=2}else{if(!Wa(e.b,t))return;n=t.s,Qa(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=ni()-t.u;var i=e.u;lo(r=Fo(),new Bo(r,n,t,i)),bs(e)}else Is(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ka(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=zo(ei(e.Ba,e,t),Ns(e,e.u)),e.u++,0)))}(e,t)||2==r&&Ts(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:xs(e,5);break;case 4:xs(e,10);break;case 3:xs(e,6);break;default:xs(e,2)}}function Ns(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function xs(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=ei(e.Ya,e);n||(n=new ba("//www.google.com/images/cleardot.gif"),Wr.location&&"http"==Wr.location.protocol||_a(n,"https"),ka(n)),function(e,t){var n=new Do;if(Wr.Image){var r=new Image;r.onload=ti(Za,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ti(Za,n,r,"TestLoadImage: error",!1,t),r.onabort=ti(Za,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ti(Za,n,r,"TestLoadImage: timeout",!1,t),Wr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qo(2);e.v=0,e.f&&e.f.ra(t),Ps(e),gs(e)}function Ps(e){e.v=0,e.I=-1,e.f&&(0==Ja(e.b).length&&0==e.g.length||(e.b.c.length=0,ui(e.g),e.g.length=0),e.f.qa())}function Rs(e,t,n){var r=function(e){return e instanceof ba?wa(e):new ba(e,void 0)}(n);if(""!=r.c)t&&Ea(r,t+"."+r.c),Ia(r,r.h);else{var i=Wr.location;r=function(e,t,n,r){var i=new ba(null,void 0);return e&&_a(i,e),t&&Ea(i,t),n&&Ia(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&mi(e.V,(function(e,t){Sa(r,t,e)})),t=e.A,n=e.na,t&&n&&Sa(r,t,n),Sa(r,"VER",e.ha),_s(e,r),r}function Ds(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ts(e.Na)).F=e.C,t}function Os(){}function Ls(){if(Ti&&!(10<=Number(Mi)))throw Error("Environmental error: no available transport.")}function Ms(e,t){co.call(this),this.a=new ps(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!ci(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ci(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Us(this)}function Fs(e){Yo.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function js(){Xo.call(this),this.status=1}function Us(e){this.a=e}(zr=ts.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ho(this.H):Ho(Jo),this.a.onreadystatechange=ei(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void as(this,e)}e=n||"";var i=new va(this.headers);r&&pa(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=os,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=Wr.FormData&&e instanceof Wr.FormData,!(0<=oi(is,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ls(this),0<this.o&&((this.D=function(e){return Ti&&Li(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ei(this.xa,this)):this.m=ko(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){as(this,e)}},zr.xa=function(){void 0!==Kr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,lo(this,"timeout"),this.abort(8))},zr.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,lo(this,"complete"),lo(this,"abort"),cs(this))},zr.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),cs(this,!0)),ts.X.G.call(this)},zr.za=function(){this.j||(this.A||this.l||this.g?us(this):this.Ua())},zr.Ua=function(){us(this)},zr.W=function(){try{return 2<hs(this)?this.a.status:-1}catch(e){return-1}},zr.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},zr.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),es(t)}},zr.ua=function(){return this.h},zr.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(zr=ps.prototype).ha=8,zr.v=1,zr.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new ea(this,this.c,e,void 0),r=this.l;if(this.O&&(r?bi(r=gi(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Es(this,n,t),Sa(i=wa(this.B),"RID",e),Sa(i,"CVER",22),this.A&&Sa(i,"X-HTTP-Session-Id",this.A),_s(this,i),this.i&&r&&fs(i,this.i,r),Ha(this.b,n),this.Ia&&Sa(i,"TYPE","init"),this.da?(Sa(i,"$req",t),Sa(i,"SID","null"),n.U=!0,ia(n,i,null)):ia(n,i,t),this.v=2}}else 3==this.v&&(e?ws(this,e):0==this.g.length||Ga(this.b)||ws(this))},zr.Aa=function(){if(this.j=null,ks(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=zo(ei(this.Ta,this),e)}},zr.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,qo(10),ms(this),ks(this))},zr.Sa=function(){null!=this.m&&(this.m=null,ms(this),Ts(this),qo(19))},zr.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),qo(2)):(this.c.info("Failed to ping google.com"),qo(1))},(zr=Os.prototype).ta=function(){},zr.sa=function(){},zr.ra=function(){},zr.qa=function(){},zr.Ja=function(){},Ls.prototype.a=function(e,t){return new Ms(e,t)},ri(Ms,co),Ms.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;qo(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Rs(e,null,e.fa),bs(e)},Ms.prototype.close=function(){vs(this.a)},Ms.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,ys(this.a,t)}else this.l?((t={}).__data__=fo(e),ys(this.a,t)):ys(this.a,e)},Ms.prototype.G=function(){this.a.f=null,delete this.f,vs(this.a),delete this.a,Ms.X.G.call(this)},ri(Fs,Yo),ri(js,Xo),ri(Us,Os),Us.prototype.ta=function(){lo(this.a,"a")},Us.prototype.sa=function(e){lo(this.a,new Fs(e))},Us.prototype.ra=function(e){lo(this.a,new js(e))},Us.prototype.qa=function(){lo(this.a,"b")},Ls.prototype.createWebChannel=Ls.prototype.a,Ms.prototype.send=Ms.prototype.h,Ms.prototype.open=Ms.prototype.g,Ms.prototype.close=Ms.prototype.close,Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,Ko.COMPLETE="complete",Qo.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",co.prototype.listen=co.prototype.va,ts.prototype.listenOnce=ts.prototype.wa,ts.prototype.getLastError=ts.prototype.Qa,ts.prototype.getLastErrorCode=ts.prototype.ua,ts.prototype.getStatus=ts.prototype.W,ts.prototype.getResponseJson=ts.prototype.Pa,ts.prototype.getResponseText=ts.prototype.$,ts.prototype.send=ts.prototype.ba;var Vs=Go,qs=Ko,Bs=Lo,zs=10,Gs=11,Ks=Qo,Ws=ts,Hs=n(655),Qs=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Qs.o=-1;var Js=new Ur.Yd("@firebase/firestore");function $s(){return Js.logLevel}function Ys(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Js.logLevel<=Ur.in.DEBUG){var r=t.map(eu);Js.debug.apply(Js,(0,Hs.ev)(["Firestore (8.3.1): "+e],r))}}function Xs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Js.logLevel<=Ur.in.ERROR){var r=t.map(eu);Js.error.apply(Js,(0,Hs.ev)(["Firestore (8.3.1): "+e],r))}}function Zs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Js.logLevel<=Ur.in.WARN){var r=t.map(eu);Js.warn.apply(Js,(0,Hs.ev)(["Firestore (8.3.1): "+e],r))}}function eu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function tu(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw Xs(t),new Error(t)}function nu(e,t){e||tu()}function ru(e,t){return e}function iu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ou=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=iu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function au(e,t){return e<t?-1:e>t?1:0}function su(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function uu(e){return e+"\0"}function cu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fu(e){return null==e}function du(e){return 0===e&&1/e==-1/0}function pu(e){return"number"==typeof e&&Number.isInteger(e)&&!du(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var vu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mu=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Hs.ZT)(t,e),t}(Error),gu=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&tu(),void 0===n?n=e.length-t:n>e.length-t&&tu(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new mu(vu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(gu),bu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return bu.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new mu(vu.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mu(vu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mu(vu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new mu(vu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(gu),_u=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(yu.fromString(t))},e.fromName=function(t){return new e(yu.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===yu.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return yu.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new yu(t.slice()))},e}(),Eu=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return au(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Eu.EMPTY_BYTE_STRING=new Eu("");var Iu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tu(e){if(nu(!!e),"string"==typeof e){var t=0,n=Iu.exec(e);if(nu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Su(e.seconds),nanos:Su(e.nanos)}}function Su(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ku(e){return"string"==typeof e?Eu.fromBase64String(e):Eu.fromUint8Array(e)}var Cu=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mu(vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mu(vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mu(vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mu(vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?au(this.nanoseconds,e.nanoseconds):au(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();function Au(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nu(e){var t=e.mapValue.fields.__previous_value__;return Au(t)?Nu(t):t}function xu(e){var t=Tu(e.mapValue.fields.__local_write_time__.timestampValue);return new Cu(t.seconds,t.nanos)}function Pu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Au(e)?4:10:tu()}function Ru(e,t){var n=Pu(e);if(n!==Pu(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xu(e).isEqual(xu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Tu(e.timestampValue),r=Tu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ku(e.bytesValue).isEqual(ku(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Su(e.geoPointValue.latitude)===Su(t.geoPointValue.latitude)&&Su(e.geoPointValue.longitude)===Su(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Su(e.integerValue)===Su(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Su(e.doubleValue),r=Su(t.doubleValue);return n===r?du(n)===du(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return su(e.arrayValue.values||[],t.arrayValue.values||[],Ru);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cu(n)!==cu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ru(n[i],r[i])))return!1;return!0}(e,t);default:return tu()}}function Du(e,t){return void 0!==(e.values||[]).find((function(e){return Ru(e,t)}))}function Ou(e,t){var n=Pu(e),r=Pu(t);if(n!==r)return au(n,r);switch(n){case 0:return 0;case 1:return au(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Su(e.integerValue||e.doubleValue),r=Su(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lu(e.timestampValue,t.timestampValue);case 4:return Lu(xu(e),xu(t));case 5:return au(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ku(e),r=ku(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=au(n[i],r[i]);if(0!==o)return o}return au(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=au(Su(e.latitude),Su(t.latitude));return 0!==n?n:au(Su(e.longitude),Su(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ou(n[i],r[i]);if(o)return o}return au(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=au(r[a],o[a]);if(0!==s)return s;var u=Ou(n[r[a]],i[o[a]]);if(0!==u)return u}return au(r.length,o.length)}(e.mapValue,t.mapValue);default:throw tu()}}function Lu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return au(e,t);var n=Tu(e),r=Tu(t),i=au(n.seconds,r.seconds);return 0!==i?i:au(n.nanos,r.nanos)}function Mu(e){return Fu(e)}function Fu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Tu(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ku(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_u.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Fu(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Fu(e.fields[o])}return t+"}"}(e.mapValue):tu();var t,n}function ju(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Uu(e){return!!e&&"integerValue"in e}function Vu(e){return!!e&&"arrayValue"in e}function qu(e){return!!e&&"nullValue"in e}function Bu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zu(e){return!!e&&"mapValue"in e}var Gu=function(e,t){this.key=e,this.version=t},Ku=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,Hs.ZT)(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(Gu),Wu=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,Hs.ZT)(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Gu),Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Gu),Qu=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ju(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Qu(e,t,n,r,i,o,a)}function $u(e){var t=ru(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Mu(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=cc(t.startAt)),t.endAt&&(n+="|ub:",n+=cc(t.endAt)),t.h=n}return t.h}function Yu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ru(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dc(e.startAt,t.startAt)&&dc(e.endAt,t.endAt)}function Xu(e){return _u.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Zu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,Hs.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ec(e,n,r):"array-contains"===n?new ic(e,r):"in"===n?new oc(e,r):"not-in"===n?new ac(e,r):"array-contains-any"===n?new sc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new tc(e,n):new nc(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(Ou(t,this.value)):null!==t&&Pu(this.value)===Pu(t)&&this.m(Ou(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tu()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ec=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=_u.fromName(r.referenceValue),i}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){var t=_u.comparator(e.key,this.key);return this.m(t)},t}(Zu),tc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=rc(0,n),r}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zu),nc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=rc(0,n),r}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zu);function rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _u.fromName(e.referenceValue)}))}var ic=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Vu(t)&&Du(t.arrayValue,this.value)},t}(Zu),oc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Du(this.value.arrayValue,t)},t}(Zu),ac=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Du(this.value.arrayValue,t)},t}(Zu),sc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,Hs.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Vu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Du(t.value.arrayValue,e)}))},t}(Zu),uc=function(e,t){this.position=e,this.before=t};function cc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Mu(e)})).join(",")}var lc=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function hc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function fc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?_u.comparator(_u.fromName(a.referenceValue),n.key):Ou(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function dc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ru(e.position[n],t.position[n]))return!1;return!0}var pc=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function vc(e,t,n,r,i,o,a,s){return new pc(e,t,n,r,i,o,a,s)}function mc(e){return new pc(e)}function gc(e){return!fu(e.limit)&&"F"===e.limitType}function yc(e){return!fu(e.limit)&&"L"===e.limitType}function bc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wc(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function _c(e){return null!==e.collectionGroup}function Ec(e){var t=ru(e);if(null===t.p){t.p=[];var n=wc(t),r=bc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new lc(n)),t.p.push(new lc(wu.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new lc(wu.keyField(),u))}}}return t.p}function Ic(e){var t=ru(e);if(!t.T)if("F"===t.limitType)t.T=Ju(t.path,t.collectionGroup,Ec(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ec(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new lc(o.field,a))}var s=t.endAt?new uc(t.endAt.position,!t.endAt.before):null,u=t.startAt?new uc(t.startAt.position,!t.startAt.before):null;t.T=Ju(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Tc(e,t,n){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return Yu(Ic(e),Ic(t))&&e.limitType===t.limitType}function kc(e){return $u(Ic(e))+"|lt:"+e.limitType}function Cc(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Mu(t.value);var t})).join(", ")+"]"),fu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+cc(e.startAt)),e.endAt&&(t+=", endAt: "+cc(e.endAt)),"Target("+t+")"}(Ic(e))+"; limitType="+e.limitType+")"}function Ac(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_u.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!fc(e.startAt,Ec(e),t)||e.endAt&&fc(e.endAt,Ec(e),t))}(e,t)}function Nc(e){return function(t,n){for(var r=!1,i=0,o=Ec(e);i<o.length;i++){var a=o[i],s=xc(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function xc(e,t,n){var r=e.field.isKeyField()?_u.comparator(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Ou(r,i):tu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tu()}}var Pc=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Cu(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),Rc=function(){function e(e){this.fields=e,e.sort(wu.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return su(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Dc=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!zu(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return Ru(this.proto,e.proto)},e}(),Oc=function(){function e(e){void 0===e&&(e=Dc.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Pu(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(wu.emptyPath(),this.A);return null!=e?new Dc(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=zu(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Lc(e){var t=[];return lu(e.fields||{},(function(e,n){var r=new wu([e]);if(zu(n)){var i=Lc(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Rc(t)}function Mc(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(t)?"-0":t}}function Fc(e){return{integerValue:""+e}}function jc(e,t){return pu(t)?Fc(t):Mc(e,t)}var Uc=function(){this._=void 0};function Vc(e,t,n){return e instanceof zc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gc?Kc(e,t):e instanceof Wc?Hc(e,t):function(e,t){var n=Bc(e,t),r=Jc(n)+Jc(e.S);return Uu(n)&&Uu(e.S)?Fc(r):Mc(e.D,r)}(e,t)}function qc(e,t,n){return e instanceof Gc?Kc(e,t):e instanceof Wc?Hc(e,t):n}function Bc(e,t){return e instanceof Qc?Uu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t}(Uc),Gc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Hs.ZT)(t,e),t}(Uc);function Kc(e,t){for(var n=$c(t),r=function(e){n.some((function(t){return Ru(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Wc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Hs.ZT)(t,e),t}(Uc);function Hc(e,t){for(var n=$c(t),r=function(e){n=n.filter((function(t){return!Ru(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return(0,Hs.ZT)(t,e),t}(Uc);function Jc(e){return Su(e.integerValue||e.doubleValue)}function $c(e){return Vu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Yc=function(e,t){this.field=e,this.transform=t},Xc=function(e,t){this.version=e,this.transformResults=t},Zc=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function el(e,t){return void 0!==e.updateTime?t instanceof Ku&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Ku}var tl=function(){};function nl(e,t,n){return e instanceof sl?function(e,t,n){var r=e.value,i=ll(e.fieldTransforms,t,n.transformResults);return r=fl(e.fieldTransforms,r,i),new Ku(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof ul?function(e,t,n){if(!el(e.precondition,t))return new Hu(e.key,n.version);var r=cl(e,t,ll(e.fieldTransforms,t,n.transformResults));return new Ku(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Wu(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function rl(e,t,n){return e instanceof sl?function(e,t,n){if(!el(e.precondition,t))return t;var r=e.value,i=hl(e.fieldTransforms,n,t);r=fl(e.fieldTransforms,r,i);var o=al(t);return new Ku(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof ul?function(e,t,n){if(!el(e.precondition,t))return t;var r=al(t),i=cl(e,t,hl(e.fieldTransforms,n,t));return new Ku(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):function(e,t){return el(e.precondition,t)?new Wu(e.key,Pc.min()):t}(e,t)}function il(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof Ku?t.field(o.field):void 0,s=Bc(o.transform,a||null);null!=s&&(n=null==n?(new Oc).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function ol(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&su(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gc&&t instanceof Gc||e instanceof Wc&&t instanceof Wc?su(e.elements,t.elements,Ru):e instanceof Qc&&t instanceof Qc?Ru(e.S,t.S):e instanceof zc&&t instanceof zc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function al(e){return e instanceof Ku?e.version:Pc.min()}var sl=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Hs.ZT)(t,e),t}(tl),ul=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Hs.ZT)(t,e),t}(tl);function cl(e,t,n){var r;return r=function(e,t){var n=new Oc(t);return e.fieldMask.fields.forEach((function(t){if(!t.isEmpty()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.v()}(e,r=t instanceof Ku?t.data():Dc.empty()),fl(e.fieldTransforms,r,n)}function ll(e,t,n){var r=[];nu(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Ku&&(s=t.field(o.field)),r.push(qc(a,s,n[i]))}return r}function hl(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof Ku&&(u=n.field(a.field)),r.push(Vc(s,u,t))}return r}function fl(e,t,n){for(var r=new Oc(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}var dl,pl,vl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Hs.ZT)(t,e),t}(tl),ml=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Hs.ZT)(t,e),t}(tl),gl=function(e){this.count=e};function yl(e){switch(e){case vu.OK:return tu();case vu.CANCELLED:case vu.UNKNOWN:case vu.DEADLINE_EXCEEDED:case vu.RESOURCE_EXHAUSTED:case vu.INTERNAL:case vu.UNAVAILABLE:case vu.UNAUTHENTICATED:return!1;case vu.INVALID_ARGUMENT:case vu.NOT_FOUND:case vu.ALREADY_EXISTS:case vu.PERMISSION_DENIED:case vu.FAILED_PRECONDITION:case vu.ABORTED:case vu.OUT_OF_RANGE:case vu.UNIMPLEMENTED:case vu.DATA_LOSS:return!0;default:return tu()}}function bl(e){if(void 0===e)return Xs("GRPC error has no .code"),vu.UNKNOWN;switch(e){case dl.OK:return vu.OK;case dl.CANCELLED:return vu.CANCELLED;case dl.UNKNOWN:return vu.UNKNOWN;case dl.DEADLINE_EXCEEDED:return vu.DEADLINE_EXCEEDED;case dl.RESOURCE_EXHAUSTED:return vu.RESOURCE_EXHAUSTED;case dl.INTERNAL:return vu.INTERNAL;case dl.UNAVAILABLE:return vu.UNAVAILABLE;case dl.UNAUTHENTICATED:return vu.UNAUTHENTICATED;case dl.INVALID_ARGUMENT:return vu.INVALID_ARGUMENT;case dl.NOT_FOUND:return vu.NOT_FOUND;case dl.ALREADY_EXISTS:return vu.ALREADY_EXISTS;case dl.PERMISSION_DENIED:return vu.PERMISSION_DENIED;case dl.FAILED_PRECONDITION:return vu.FAILED_PRECONDITION;case dl.ABORTED:return vu.ABORTED;case dl.OUT_OF_RANGE:return vu.OUT_OF_RANGE;case dl.UNIMPLEMENTED:return vu.UNIMPLEMENTED;case dl.DATA_LOSS:return vu.DATA_LOSS;default:return tu()}}(pl=dl||(dl={}))[pl.OK=0]="OK",pl[pl.CANCELLED=1]="CANCELLED",pl[pl.UNKNOWN=2]="UNKNOWN",pl[pl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pl[pl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pl[pl.NOT_FOUND=5]="NOT_FOUND",pl[pl.ALREADY_EXISTS=6]="ALREADY_EXISTS",pl[pl.PERMISSION_DENIED=7]="PERMISSION_DENIED",pl[pl.UNAUTHENTICATED=16]="UNAUTHENTICATED",pl[pl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pl[pl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pl[pl.ABORTED=10]="ABORTED",pl[pl.OUT_OF_RANGE=11]="OUT_OF_RANGE",pl[pl.UNIMPLEMENTED=12]="UNIMPLEMENTED",pl[pl.INTERNAL=13]="INTERNAL",pl[pl.UNAVAILABLE=14]="UNAVAILABLE",pl[pl.DATA_LOSS=15]="DATA_LOSS";var wl=function(){function e(e,t){this.comparator=e,this.root=t||El.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,El.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,El.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new _l(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new _l(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new _l(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new _l(this.root,e,this.comparator,!0)},e}(),_l=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),El=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw tu();if(this.right.isRed())throw tu();var e=this.left.check();if(e!==this.right.check())throw tu();return e+(this.isRed()?0:1)},e}();El.EMPTY=null,El.RED=!0,El.BLACK=!1,El.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw tu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw tu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw tu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw tu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw tu()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new El(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Il=function(){function e(e){this.comparator=e,this.data=new wl(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Tl(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Tl(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Tl=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Sl=new wl(_u.comparator);function kl(){return Sl}function Cl(){return kl()}var Al=new wl(_u.comparator);function Nl(){return Al}var xl=new wl(_u.comparator);function Pl(){return xl}var Rl=new Il(_u.comparator);function Dl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Rl,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ol=new Il(au);function Ll(){return Ol}var Ml=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Pc.min(),r,Ll(),kl(),Dl())},e}(),Fl=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Eu.EMPTY_BYTE_STRING,n,Dl(),Dl(),Dl())},e}(),jl=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},Ul=function(e,t){this.targetId=e,this.$=t},Vl=function(e,t,n,r){void 0===n&&(n=Eu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ql=function(){function e(){this.F=0,this.O=Gl(),this.k=Eu.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=Dl(),t=Dl(),n=Dl();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tu()}})),new Fl(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=Gl()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),Bl=function(){function e(e){this.X=e,this.Z=new Map,this.tt=kl(),this.et=zl(),this.nt=new Il(au)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof Ku?this.it(r,e.N):e.N instanceof Wu&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:tu()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(Xu(i))if(0===n){var o=new _u(i.path);this.rt(t,o,new Wu(o,Pc.min()))}else nu(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&Xu(o.target)){var a=new _u(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new Wu(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=Dl();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ml(e,n,this.nt,this.tt,r);return this.tt=kl(),this.et=zl(),this.nt=new Il(au),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new ql,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new Il(au),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||Ys("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new ql),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function zl(){return new wl(_u.comparator)}function Gl(){return new wl(_u.comparator)}var Kl={asc:"ASCENDING",desc:"DESCENDING"},Wl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hl=function(e,t){this.databaseId=e,this.V=t};function Ql(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jl(e,t){return e.V?t.toBase64():t.toUint8Array()}function $l(e,t){return Ql(e,t.toTimestamp())}function Yl(e){return nu(!!e),Pc.fromTimestamp(function(e){var t=Tu(e);return new Cu(t.seconds,t.nanos)}(e))}function Xl(e,t){return function(e){return new yu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zl(e){var t=yu.fromString(e);return nu(Ih(t)),t}function eh(e,t){return Xl(e.databaseId,t.path)}function th(e,t){var n=Zl(t);if(n.get(1)!==e.databaseId.projectId)throw new mu(vu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mu(vu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _u(oh(n))}function nh(e,t){return Xl(e.databaseId,t)}function rh(e){var t=Zl(e);return 4===t.length?yu.emptyPath():oh(t)}function ih(e){return new yu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oh(e){return nu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ah(e,t,n){return{name:eh(e,t),fields:n.proto.mapValue.fields}}function sh(e,t,n){var r=th(e,t.name),i=Yl(t.updateTime),o=new Dc({mapValue:{fields:t.fields}});return new Ku(r,i,o,{hasCommittedMutations:!!n})}function uh(e,t){var n;if(t instanceof sl)n={update:ah(e,t.key,t.value)};else if(t instanceof vl)n={delete:eh(e,t.key)};else if(t instanceof ul)n={update:ah(e,t.key,t.data),updateMask:Eh(t.fieldMask)};else{if(!(t instanceof ml))return tu();n={verify:eh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qc)return{fieldPath:t.field.canonicalString(),increment:n.S};throw tu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$l(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tu()}(e,t.precondition)),n}function ch(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Zc.updateTime(Yl(e.updateTime)):void 0!==e.exists?Zc.exists(e.exists):Zc.none()}(t.currentDocument):Zc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)nu("REQUEST_TIME"===t.setToServerValue),n=new zc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Wc(i)}else"increment"in t?n=new Qc(e,t.increment):tu();var o=wu.fromServerFormat(t.fieldPath);return new Yc(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=th(e,t.update.name),o=new Dc({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Rc(t.map((function(e){return wu.fromServerFormat(e)})))}(t.updateMask);return new ul(i,o,a,n,r)}return new sl(i,o,n,r)}if(t.delete){var s=th(e,t.delete);return new vl(s,n)}if(t.verify){var u=th(e,t.verify);return new ml(u,n)}return tu()}function lh(e,t){return{documents:[nh(e,t.path)]}}function hh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Bu(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NAN"}};if(qu(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bu(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NOT_NAN"}};if(qu(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yh(e.field),op:gh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yh(e.field),direction:mh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.V||fu(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ph(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ph(t.endAt)),n}function fh(e){var t=rh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=dh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new lc(bh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return fu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=vh(n.startAt));var l=null;return n.endAt&&(l=vh(n.endAt)),vc(t,i,s,a,u,"F",c,l)}function dh(e){return e?void 0!==e.unaryFilter?[_h(e)]:void 0!==e.fieldFilter?[wh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return dh(e)})).reduce((function(e,t){return e.concat(t)})):tu():[]}function ph(e){return{before:e.before,values:e.position}}function vh(e){var t=!!e.before,n=e.values||[];return new uc(n,t)}function mh(e){return Kl[e]}function gh(e){return Wl[e]}function yh(e){return{fieldPath:e.canonicalString()}}function bh(e){return wu.fromServerFormat(e.fieldPath)}function wh(e){return Zu.create(bh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return tu()}}(e.fieldFilter.op),e.fieldFilter.value)}function _h(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bh(e.unaryFilter.field);return Zu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bh(e.unaryFilter.field);return Zu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bh(e.unaryFilter.field);return Zu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bh(e.unaryFilter.field);return Zu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return tu()}}function Eh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ih(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Th(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kh(t)),t=Sh(e.get(n),t);return kh(t)}function Sh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function kh(e){return e+""}function Ch(e){var t=e.length;if(nu(t>=2),2===t)return nu(""===e.charAt(0)&&""===e.charAt(1)),yu.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&tu(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:tu()}o=a+2}return new yu(r)}var Ah=function(e,t){this.seconds=e,this.nanoseconds=t},Nh=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Nh.store="owner",Nh.key="owner";var xh=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};xh.store="mutationQueues",xh.keyPath="userId";var Ph=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ph.store="mutations",Ph.keyPath="batchId",Ph.userMutationsIndex="userMutationsIndex",Ph.userMutationsKeyPath=["userId","batchId"];var Rh=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Th(t)]},e.key=function(e,t,n){return[e,Th(t),n]},e}();Rh.store="documentMutations",Rh.PLACEHOLDER=new Rh;var Dh=function(e,t){this.path=e,this.readTime=t},Oh=function(e,t){this.path=e,this.version=t},Lh=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Lh.store="remoteDocuments",Lh.readTimeIndex="readTimeIndex",Lh.readTimeIndexPath="readTime",Lh.collectionReadTimeIndex="collectionReadTimeIndex",Lh.collectionReadTimeIndexPath=["parentPath","readTime"];var Mh=function(e){this.byteSize=e};Mh.store="remoteDocumentGlobal",Mh.key="remoteDocumentGlobalKey";var Fh=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Fh.store="targets",Fh.keyPath="targetId",Fh.queryTargetsIndexName="queryTargetsIndex",Fh.queryTargetsKeyPath=["canonicalId","targetId"];var jh=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};jh.store="targetDocuments",jh.keyPath=["targetId","path"],jh.documentTargetsIndex="documentTargetsIndex",jh.documentTargetsKeyPath=["path","targetId"];var Uh=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Uh.key="targetGlobalKey",Uh.store="targetGlobal";var Vh=function(e,t){this.collectionId=e,this.parent=t};Vh.store="collectionParents",Vh.keyPath=["collectionId","parent"];var qh=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};qh.store="clientMetadata",qh.keyPath="clientId";var Bh=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Bh.store="bundles",Bh.keyPath="bundleId";var zh=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};zh.store="namedQueries",zh.keyPath="name";var Gh=(0,Hs.ev)((0,Hs.ev)([],(0,Hs.ev)((0,Hs.ev)([],(0,Hs.ev)((0,Hs.ev)([],(0,Hs.ev)((0,Hs.ev)([],[xh.store,Ph.store,Rh.store,Lh.store,Fh.store,Nh.store,Uh.store,jh.store]),[qh.store])),[Mh.store])),[Vh.store])),[Bh.store,zh.store]),Kh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wh=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Hh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Qh=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&tu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Jh=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new Hh,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new Xh(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=rf(t.target.error);n.gt.reject(new Xh(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Xh(n,t)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(Ys("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ef(t)},e}(),$h=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It((0,Vr.z$)())&&Xs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ys("SimpleDb","Removing database:",e),tf(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=(0,Vr.z$)(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Rt=function(){return"undefined"!=typeof process&&"YES"===(null==="MISSING_ENV_VAR"?void 0:"MISSING_ENV_VAR".vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ys("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Xh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new mu(vu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Xh(e,n))},i.onupgradeneeded=function(e){Ys("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){Ys("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,Hs.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=h.sent(),t=Jh.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Qh.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Ys("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Yh=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return tf(this.xt.delete())},e}(),Xh=function(e){function t(t,n){var r=this;return(r=e.call(this,vu.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Hs.ZT)(t,e),t}(mu);function Zh(e){return"IndexedDbTransactionError"===e.name}var ef=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ys("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ys("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tf(n)},e.prototype.add=function(e){return Ys("SimpleDb","ADD",this.store.name,e,e),tf(this.store.add(e))},e.prototype.get=function(e){var t=this;return tf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ys("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Ys("SimpleDb","DELETE",this.store.name,e),tf(this.store.delete(e))},e.prototype.count=function(){return Ys("SimpleDb","COUNT",this.store.name),tf(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){Ys("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new Qh((function(n,r){t.onerror=function(e){var t=rf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new Qh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Yh(i),a=t(i.primaryKey,i.value,o);if(a instanceof Qh){var s=a.catch((function(e){return o.done(),Qh.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return Qh.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function tf(e){return new Qh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rf(e.target.error);n(t)}}))}var nf=!1;function rf(e){var t=$h.It((0,Vr.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nf||(nf=!0,setTimeout((function(){throw r}),0)),r}}return e}var of=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return(0,Hs.ZT)(t,e),t}(Wh);function af(e,t){var n=ru(e);return $h.Pt(n.Qt,t)}var sf=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=nl(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=rl(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=rl(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Dl())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(function(e,t){return ol(e,t)}))&&su(this.baseMutations,e.baseMutations,(function(e,t){return ol(e,t)}))},e}(),uf=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){nu(t.mutations.length===r.length);for(var i=Pl(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),cf=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Pc.min()),void 0===o&&(o=Pc.min()),void 0===a&&(a=Eu.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),lf=function(e){this.Kt=e};function hf(e,t){if(t.document)return sh(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_u.fromSegments(t.noDocument.path),r=mf(t.noDocument.readTime);return new Wu(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=_u.fromSegments(t.unknownDocument.path);return r=mf(t.unknownDocument.version),new Hu(i,r)}return tu()}function ff(e,t,n){var r=df(n),i=t.key.path.popLast().toArray();if(t instanceof Ku){var o=function(e,t){return{name:eh(e,t.key),fields:t.toProto().mapValue.fields,updateTime:Ql(e,t.version.toTimestamp())}}(e.Kt,t),a=t.hasCommittedMutations;return new Lh(null,null,o,a,r,i)}if(t instanceof Wu){var s=t.key.path.toArray(),u=vf(t.version);return a=t.hasCommittedMutations,new Lh(null,new Dh(s,u),null,a,r,i)}if(t instanceof Hu){var c=t.key.path.toArray(),l=vf(t.version);return new Lh(new Oh(c,l),null,null,!0,r,i)}return tu()}function df(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pf(e){var t=new Cu(e[0],e[1]);return Pc.fromTimestamp(t)}function vf(e){var t=e.toTimestamp();return new Ah(t.seconds,t.nanoseconds)}function mf(e){var t=new Cu(e.seconds,e.nanoseconds);return Pc.fromTimestamp(t)}function gf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ch(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ch(e.Kt,t)})),s=Cu.fromMillis(t.localWriteTimeMs);return new sf(t.batchId,s,n,a)}function yf(e){var t,n,r=mf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mf(e.lastLimboFreeSnapshotVersion):Pc.min();return void 0!==e.query.documents?(nu(1===(n=e.query).documents.length),t=Ic(mc(rh(n.documents[0])))):t=function(e){return Ic(fh(e))}(e.query),new cf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Eu.fromBase64String(e.resumeToken))}function bf(e,t){var n,r=vf(t.snapshotVersion),i=vf(t.lastLimboFreeSnapshotVersion);n=Xu(t.target)?lh(e.Kt,t.target):hh(e.Kt,t.target);var o=t.resumeToken.toBase64();return new Fh(t.targetId,$u(t.target),r,o,t.sequenceNumber,i,n)}function wf(e){var t=fh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tc(t,t.limit,"L"):t}var _f=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ef(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:mf(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ef(e).put({bundleId:(n=t).id,createTime:vf(Yl(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return If(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:wf(t.bundledQuery),readTime:mf(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return If(e).put(function(e){return{name:e.name,readTime:vf(Yl(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ef(e){return af(e,Bh.store)}function If(e){return af(e,zh.store)}var Tf=function(){function e(){this.Wt=new Sf}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),Qh.resolve()},e.prototype.getCollectionParents=function(e,t){return Qh.resolve(this.Wt.getEntries(t))},e}(),Sf=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Il(yu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Il(yu.comparator)).toArray()},e}(),kf=function(){function e(){this.jt=new Sf}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:Th(i)};return Cf(e).put(o)}return Qh.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[uu(t),""],!1,!0);return Cf(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ch(o.parent))}return n}))},e}();function Cf(e){return af(e,Vh.store)}var Af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nf=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function xf(e,t,n){var r=e.store(Ph.store),i=e.store(Rh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){nu(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Rh.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Qh.waitFor(o).next((function(){return c}))}function Pf(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tu();t=e.noDocument}return JSON.stringify(t).length}Nf.DEFAULT_COLLECTION_PERCENTILE=10,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nf.DEFAULT=new Nf(41943040,Nf.DEFAULT_COLLECTION_PERCENTILE,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nf.DISABLED=new Nf(-1,0,0);var Rf=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return nu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Of(e).qt({index:Ph.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Lf(e),a=Of(e);return a.add({}).next((function(s){nu("number"==typeof s);for(var u=new sf(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return uh(e.Kt,t)})),i=n.mutations.map((function(t){return uh(e.Kt,t)}));return new Ph(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Il((function(e,t){return au(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Rh.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Rh.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),Qh.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Of(e).get(t).next((function(e){return e?(nu(e.userId===n.userId),gf(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?Qh.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Of(e).qt({index:Ph.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(nu(t.batchId>=r),o=gf(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Of(e).qt({index:Ph.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Of(e).kt(Ph.userMutationsIndex,n).next((function(e){return e.map((function(e){return gf(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Rh.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Lf(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ch(u);if(s===n.userId&&t.path.isEqual(l))return Of(e).get(c).next((function(e){if(!e)throw tu();nu(e.userId===n.userId),o.push(gf(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Il(au),i=[];return t.forEach((function(t){var o=Rh.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Lf(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ch(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Qh.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Rh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Il(au);return Lf(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ch(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Of(e).get(t).next((function(e){if(null===e)throw tu();nu(e.userId===n.userId),r.push(gf(n.D,e))})))})),Qh.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return xf(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),Qh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Qh.resolve();var r=IDBKeyRange.lowerBound(Rh.prefixForUser(t.userId)),i=[];return Lf(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ch(e[1]);i.push(o)}else r.done()})).next((function(){nu(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Df(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return Mf(e).get(this.userId).next((function(e){return e||new xh(t.userId,-1,"")}))},e}();function Df(e,t,n){var r=Rh.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Lf(e).qt({range:o,Bt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Of(e){return af(e,Ph.store)}function Lf(e){return af(e,Rh.store)}function Mf(e){return af(e,xh.store)}var Ff=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),jf=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new Ff(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return Pc.fromTimestamp(new Cu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Uf(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return nu(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Uf(e).qt((function(a,s){var u=yf(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Qh.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Uf(e).qt((function(e,n){var r=yf(n);t(r)}))},e.prototype.se=function(e){return Vf(e).get(Uh.key).next((function(e){return nu(null!==e),e}))},e.prototype.ie=function(e,t){return Vf(e).put(Uh.key,t)},e.prototype.re=function(e,t){return Uf(e).put(bf(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=$u(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Uf(e).qt({range:r,index:Fh.queryTargetsIndexName},(function(e,n,r){var o=yf(n);Yu(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=qf(e);return t.forEach((function(t){var a=Th(t.path);i.push(o.put(new jh(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Qh.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=qf(e);return Qh.forEach(t,(function(t){var o=Th(t.path);return Qh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=qf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qf(e),i=Dl();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=Ch(e[1]),o=new _u(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Th(t.path),r=IDBKeyRange.bound([n],[uu(n)],!1,!0),i=0;return qf(e).qt({index:jh.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return Uf(e).get(t).next((function(e){return e?yf(e):null}))},e}();function Uf(e){return af(e,Fh.store)}function Vf(e){return af(e,Uh.store)}function qf(e){return af(e,jh.store)}function Bf(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){if(e.code!==vu.FAILED_PRECONDITION||e.message!==Kh)throw e;return Ys("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function zf(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=au(n,i);return 0===a?au(r,o):a}var Gf=function(){function e(e){this.ce=e,this.buffer=new Il(zf),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Kf=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;Ys("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Zh(t=n.sent())?(Ys("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Bf(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Wf=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Qh.resolve(Qs.o);var r=new Gf(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ys("LruGarbageCollector","Garbage collection skipped; disabled"),Qh.resolve(Af)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ys("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Af):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ys("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),$s()<=Ur.in.DEBUG&&Ys("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Qh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Hf=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Wf(e,t)}(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Qf(e,n)},e.prototype.removeReference=function(e,t,n){return Qf(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Qf(e,t)},e.prototype.Ee=function(e,t){return function(e,t){var n=!1;return Mf(e).Ut((function(r){return Df(e,r,t).next((function(e){return e&&(n=!0),Qh.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),qf(e).delete([0,Th(a.path)])}))}));i.push(u)}})).next((function(){return Qh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Qf(e,t)},e.prototype.pe=function(e,t){var n,r=qf(e),i=Qs.o;return r.qt({index:jh.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Qs.o&&t(new _u(Ch(n)),i),i=s,n=a):i=Qs.o})).next((function(){i!==Qs.o&&t(new _u(Ch(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Qf(e,t){return qf(e).put(function(e,t){return new jh(0,Th(e.path),t)}(t,e.currentSequenceNumber))}var Jf=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){lu(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return hu(this.inner)},e}(),$f=function(){function e(){this.changes=new Jf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Pc.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qh.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Yf=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return ed(e).put(td(t),n)},e.prototype.removeEntry=function(e,t){var n=ed(e),r=td(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return ed(e).get(td(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return ed(e).get(td(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:Pf(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Cl();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=Cl(),i=new wl(_u.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,Pf(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return Qh.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ed(e).qt({range:r},(function(e,t,r){for(var a=_u.fromSegments(e);o&&_u.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Nl(),o=t.path.length+1,a={};if(n.isEqual(Pc.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=df(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Lh.collectionReadTimeIndex}return ed(e).qt(a,(function(e,n,a){if(e.length===o){var s=hf(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof Ku&&Ac(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Xf(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Zf(e).get(Mh.key).next((function(e){return nu(!!e),e}))},e.prototype.Te=function(e,t){return Zf(e).put(Mh.key,t)},e.prototype.Ie=function(e){if(e){var t=hf(this.D,e);return t instanceof Wu&&t.version.isEqual(Pc.min())?null:t}return null},e}(),Xf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new Jf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,Hs.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Il((function(e,t){return au(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=ff(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=Pf(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=ff(t.Ve.D,new Wu(o,Pc.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),Qh.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}($f);function Zf(e){return af(e,Mh.store)}function ed(e){return af(e,Lh.store)}function td(e){return e.path.toArray()}var nd=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;nu(n<r&&n>=0&&r<=11);var o=new Jh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Nh.store)}(e),function(e){e.createObjectStore(xh.store,{keyPath:xh.keyPath}),e.createObjectStore(Ph.store,{keyPath:Ph.keyPath,autoIncrement:!0}).createIndex(Ph.userMutationsIndex,Ph.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Rh.store)}(e),rd(e),function(e){e.createObjectStore(Lh.store)}(e));var a=Qh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(jh.store),e.deleteObjectStore(Fh.store),e.deleteObjectStore(Uh.store)}(e),rd(e)),a=a.next((function(){return function(e){var t=e.store(Uh.store),n=new Uh(0,0,Pc.min().toTimestamp(),0);return t.put(Uh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ph.store).kt().next((function(n){e.deleteObjectStore(Ph.store),e.createObjectStore(Ph.store,{keyPath:Ph.keyPath,autoIncrement:!0}).createIndex(Ph.userMutationsIndex,Ph.userMutationsKeyPath,{unique:!0});var r=t.store(Ph.store),i=n.map((function(e){return r.put(e)}));return Qh.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(qh.store,{keyPath:qh.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Mh.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Lh.store);t.createIndex(Lh.readTimeIndex,Lh.readTimeIndexPath,{unique:!1}),t.createIndex(Lh.collectionReadTimeIndex,Lh.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Bh.store,{keyPath:Bh.keyPath})}(e),function(e){e.createObjectStore(zh.store,{keyPath:zh.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(Lh.store).qt((function(e,n){t+=Pf(n)})).next((function(){var n=new Mh(t);return e.store(Mh.store).put(Mh.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store(xh.store),r=e.store(Ph.store);return n.kt().next((function(n){return Qh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Ph.userMutationsIndex,i).next((function(r){return Qh.forEach(r,(function(r){nu(r.userId===n.userId);var i=gf(t.D,r);return xf(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(jh.store),n=e.store(Lh.store);return e.store(Uh.store).get(Uh.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new yu(n),a=function(e){return[0,Th(e)]}(o);r.push(t.get(a).next((function(n){return n?Qh.resolve():function(n){return t.put(new jh(0,Th(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Qh.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(Vh.store,{keyPath:Vh.keyPath});var n=t.store(Vh.store),r=new Sf,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Th(i)})}};return t.store(Lh.store).qt({Bt:!0},(function(e,t){var n=new yu(e);return i(n.popLast())})).next((function(){return t.store(Rh.store).qt({Bt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ch(n));return i(r.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(Fh.store);return n.qt((function(e,r){var i=yf(r),o=bf(t.D,i);return n.put(o)}))},e}();function rd(e){e.createObjectStore(jh.store,{keyPath:jh.keyPath}).createIndex(jh.documentTargetsIndex,jh.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fh.store,{keyPath:Fh.keyPath}).createIndex(Fh.queryTargetsIndexName,Fh.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Uh.store)}var id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",od=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new mu(vu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hf(this,i),this.We=n+"main",this.D=new lf(u),this.je=new $h(this.We,11,new nd(this.D)),this.Ge=new jf(this.referenceDelegate,this.D),this.Gt=new kf,this.ze=function(e,t){return new Yf(e,t)}(this.D,this.Gt),this.He=new _f,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Xs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mu(vu.FAILED_PRECONDITION,id);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new Qs(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return(0,Hs.mG)(t,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return(0,Hs.mG)(t,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return sd(t).put(new qh(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(Zh(t))return Ys("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ys("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return ad(e).get(Nh.key).next((function(e){return Qh.resolve(t.cn(e))}))},e.prototype.an=function(e){return sd(e).delete(this.clientId)},e.prototype.un=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=af(e,qh.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Qh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?Qh.resolve(!0):ad(e).get(Nh.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new mu(vu.FAILED_PRECONDITION,id);return!1}}return!(!t.networkEnabled||!t.inForeground)||sd(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ys("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e=this;return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Nh.store,qh.store],(function(t){var n=new of(t,Qs.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return sd(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Rf.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;Ys("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,Gh,(function(o){return i=new of(o,r.Me?r.Me.next():Qs.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw Xs("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new mu(vu.FAILED_PRECONDITION,Kh);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return ad(e).get(Nh.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mu(vu.FAILED_PRECONDITION,id)}))},e.prototype.on=function(e){var t=new Nh(this.clientId,this.allowTabSynchronization,Date.now());return ad(e).put(Nh.key,t)},e.At=function(){return $h.At()},e.prototype.rn=function(e){var t=this,n=ad(e);return n.get(Nh.key).next((function(e){return t.cn(e)?(Ys("IndexedDbPersistence","Releasing primary lease."),n.delete(Nh.key)):Qh.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Xs("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return Ys("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Xs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){Xs("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ad(e){return af(e,Nh.store)}function sd(e){return af(e,qh.store)}function ud(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cd=function(e,t){this.progress=e,this.En=t},ld=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=Cl();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=kl();return i.forEach((function(e,t){t||(t=new Wu(e,Pc.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return _u.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Pn(e,t.path):_c(t)?this.Vn(e,t,n):this.Sn(e,t,n)},e.prototype.Pn=function(e,t){return this.In(e,new _u(t)).next((function(e){var t=Nl();return e instanceof Ku&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=Nl();return this.Gt.getCollectionParents(e,i).next((function(a){return Qh.forEach(a,(function(a){var s=function(e,t){return new pc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Sn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=rl(u,r.get(c),o.localWriteTime);r=l instanceof Ku?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){Ac(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=Dl(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ul&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Ku&&(c=c.insert(e,t))})),c}))},e}(),hd=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=Dl(),i=Dl(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),fd=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Pc.min())?this.On(e,t):this.Fn.bn(e,r).next((function(o){var a=i.kn(t,o);return(gc(t)||yc(t))&&i.Mn(t.limitType,a,r,n)?i.On(e,t):($s()<=Ur.in.DEBUG&&Ys("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cc(t)),i.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new Il(Nc(e));return t.forEach((function(t,r){r instanceof Ku&&Ac(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return $s()<=Ur.in.DEBUG&&Ys("QueryEngine","Using full collection scan to execute query:",Cc(t)),this.Fn.getDocumentsMatchingQuery(e,t,Pc.min())},e}(),dd=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new wl(au),this.qn=new Jf((function(e){return $u(e)}),Yu),this.Un=Pc.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new ld(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();function pd(e,t,n,r){return new dd(e,t,n,r)}function vd(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return n=ru(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new ld(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Dl(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function md(e,t){var n=ru(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Qh.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=t,a=n.docVersions.get(e);nu(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(e,o,n))&&r.addEntry(o,n.commitVersion)}))})),a.next((function(){return e.Tn.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}function gd(e){var t=ru(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function yd(e,t){var n=ru(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return nu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.Ge.updateTargetData(e,c))}}}));var s=kl();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(bd(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Pc.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Qh.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function bd(e,t,n,r,i){var o=Dl();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=kl();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Wu&&a.version.isEqual(Pc.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ys("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function wd(e,t){var n=ru(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function _d(e,t){var n=ru(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,Qh.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new cf(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function Ed(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:r=ru(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Zh(a=s.sent()))throw a;return Ys("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function Id(e,t,n){var r=ru(e),i=Pc.min(),o=Dl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ru(e),i=r.qn.get(n);return void 0!==i?Qh.resolve(r.Bn.get(i)):r.Ge.getTargetData(t,n)}(r,e,Ic(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:Pc.min(),n?o:Dl())})).next((function(e){return{documents:e,jn:o}}))}))}function Td(e,t){var n=ru(e),r=ru(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function Sd(e){var t=ru(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ru(e),i=kl(),o=df(n),a=ed(t),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:Lh.readTimeIndex,range:s},(function(e,t){var n=hf(r.D,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{En:i,readTime:pf(o)}}))}(t.Qn,e,t.Un)})).then((function(e){var n=e.En,r=e.readTime;return t.Un=r,n}))}function kd(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){return[2,(t=ru(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ed(e),n=Pc.min();return t.qt({index:Lh.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=pf(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Un=e}))]}))}))}function Cd(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,Hs.Jh)(this,(function(p){switch(p.label){case 0:for(i=ru(e),o=Dl(),a=kl(),s=Pl(),u=0,c=n;u<c.length;u++)l=c[u],h=t.Gn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.zn(l)),s=s.insert(h,t.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,_d(i,function(e){return Ic(mc(yu.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bd(e,f,a,Pc.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}}))}))}function Ad(e,t,n){return void 0===n&&(n=Dl()),(0,Hs.mG)(this,void 0,void 0,(function(){var r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return[4,_d(e,Ic(wf(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ru(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Yl(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(e,t);var a=r.withResumeToken(Eu.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(e,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)}))}))]}}))}))}var Nd=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Qh.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Yl(n.createTime)}),Qh.resolve()},e.prototype.getNamedQuery=function(e,t){return Qh.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:wf(e.bundledQuery),readTime:Yl(e.readTime)}}(t)),Qh.resolve()},e}(),xd=function(){function e(){this.Xn=new Il(Pd.Zn),this.ts=new Il(Pd.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Pd(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new Pd(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new _u(new yu([])),r=new Pd(n,e),i=new Pd(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new _u(new yu([])),n=new Pd(t,e),r=new Pd(t,e+1),i=Dl();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Pd(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Pd=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return _u.comparator(e.key,t.key)||au(e.hs,t.hs)},e.es=function(e,t){return au(e.hs,t.hs)||_u.comparator(e.key,t.key)},e}(),Rd=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new Il(Pd.Zn)}return e.prototype.checkEmpty=function(e){return Qh.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new sf(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new Pd(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return Qh.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Qh.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Qh.resolve(this.Tn.length>i?this.Tn[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Qh.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return Qh.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Pd(t,0),i=new Pd(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),Qh.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Il(au);return t.forEach((function(e){var t=new Pd(e,0),i=new Pd(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),Qh.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;_u.isDocumentKey(i)||(i=i.child(""));var o=new Pd(new _u(i),0),a=new Il(au);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),Qh.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;nu(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return Qh.forEach(t.mutations,(function(i){var o=new Pd(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new Pd(t,0),r=this.fs.firstAfterOrEqual(n);return Qh.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this.Tn.length,Qh.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),Dd=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new wl(_u.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Qh.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Cl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Qh.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Nl(),i=new _u(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Ku&&Ac(t,c)&&(r=r.insert(c.key,c))}return Qh.resolve(r)},e.prototype.ps=function(e,t){return Qh.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Od(this)},e.prototype.getSize=function(e){return Qh.resolve(this.size)},e}(),Od=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return(0,Hs.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),Qh.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}($f),Ld=function(){function e(e){this.persistence=e,this.Es=new Jf((function(e){return $u(e)}),Yu),this.lastRemoteSnapshotVersion=Pc.min(),this.highestTargetId=0,this.Ts=0,this.Is=new xd,this.targetCount=0,this.As=Ff.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),Qh.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Qh.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Qh.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),Qh.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),Qh.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new Ff(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,Qh.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),Qh.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,Qh.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Qh.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Qh.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return Qh.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),Qh.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qh.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),Qh.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return Qh.resolve(n)},e.prototype.containsKey=function(e,t){return Qh.resolve(this.Is.containsKey(t))},e}(),Md=function(){function e(e,t){var n=this;this.Rs={},this.Me=new Qs(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new Ld(this),this.Gt=new Tf,this.ze=function(e,t){return new Dd(e,(function(e){return n.referenceDelegate.bs(e)}))}(this.Gt),this.D=new lf(t),this.He=new Nd(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new Rd(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;Ys("MemoryPersistence","Starting transaction:",e);var i=new Fd(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return Qh.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Fd=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,Hs.ZT)(t,e),t}(Wh),jd=function(){function e(e){this.persistence=e,this.Ss=new xd,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw tu()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),Qh.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),Qh.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),Qh.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qh.forEach(this.xs,(function(r){var i=_u.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return Qh.or([function(){return Qh.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),Ud=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Vd(e,t){return"firestore_clients_"+e+"_"+t}function qd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Bd(e,t){return"firestore_targets_"+e+"_"+t}Ud.UNAUTHENTICATED=new Ud(null),Ud.GOOGLE_CREDENTIALS=new Ud("google-credentials-uid"),Ud.FIRST_PARTY=new Ud("first-party-uid");var zd=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new mu(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Xs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gd=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mu(i.error.code,i.error.message)),o?new e(t,i.state,r):(Xs("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Kd=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ll(),a=0;i&&a<r.activeTargetIds.length;++a)i=pu(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Xs("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Wd=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Xs("SharedClientState","Failed to parse online state: "+t),null)},e}(),Hd=function(){function e(){this.activeTargetIds=Ll()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Qd=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new wl(au),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Vd(this.persistenceKey,this.Ms),this.Ks=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Hd),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,Hs.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem(Vd(this.persistenceKey,r)))&&(o=Kd.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Bd(this.persistenceKey,e));if(n){var r=Gd.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Bd(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ys("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ys("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ys("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ys("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Xs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,Hs.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=Qs.o;if(null!=e)try{var n=JSON.parse(e);nu("number"==typeof n),t=n}catch(e){Xs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Qs.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new zd(this.currentUser,e,t,n),i=qd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=qd(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){var t={clientId:this.Ms,onlineState:e};this.storage.setItem(this.zs,JSON.stringify(t))},e.prototype.si=function(e,t,n){var r=Bd(this.persistenceKey,e),i=new Gd(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return Kd.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zd.$s(new Ud(i),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return Gd.$s(r,t)},e.prototype.Ys=function(e){return Wd.$s(e)},e.prototype.hi=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(Ys("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=Ll();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Jd=function(){function e(){this.yi=new Hd,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new Hd,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),$d=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),Yd=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){Ys("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){Ys("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Xd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zd=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),ep=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,Hs.ZT)(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new Ws;a.listenOnce(qs.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Vs.NO_ERROR:var t=a.getResponseJson();Ys("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Vs.TIMEOUT:Ys("Connection",'RPC "'+e+'" timed out'),o(new mu(vu.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:var n=a.getStatus();if(Ys("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(vu).indexOf(t)>=0?t:vu.UNKNOWN}(r.status);o(new mu(s,r.message))}else o(new mu(vu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mu(vu.UNAVAILABLE,"Connection failed."));break;default:tu()}}finally{Ys("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Ls,i=Fo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,t),(0,Vr.uI)()||(0,Vr.b$)()||(0,Vr.d)()||(0,Vr.w1)()||(0,Vr.Mn)()||(0,Vr.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ys("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Zd({vi:function(e){c?Ys("Connection","Not sending because WebChannel is closed:",e):(u||(Ys("Connection","Opening WebChannel transport."),s.open(),u=!0),Ys("Connection","WebChannel sending:",e),s.send(e))},Pi:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ks.EventType.OPEN,(function(){c||Ys("Connection","WebChannel transport opened.")})),h(s,Ks.EventType.CLOSE,(function(){c||(c=!0,Ys("Connection","WebChannel transport closed"),l.$i())})),h(s,Ks.EventType.ERROR,(function(e){c||(c=!0,Zs("Connection","WebChannel transport errored:",e),l.$i(new mu(vu.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ks.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];nu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ys("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=dl[e];if(void 0!==t)return bl(t)}(o),u=i.message;void 0===a&&(a=vu.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.$i(new mu(a,u)),s.close()}else Ys("Connection","WebChannel received:",n),l.Fi(n)}})),h(i,Bs.STAT_EVENT,(function(e){e.stat===zs?Ys("Connection","Detected buffering proxy"):e.stat===Gs&&Ys("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ni()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);Ys("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return Ys("RestConnection","Received: ",e),e}),(function(t){throw Zs("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){var n=Xd[e];return this.Oi+"/v1/"+t+":"+n},e}());function tp(){return"undefined"!=typeof window?window:null}function np(){return"undefined"!=typeof document?document:null}function rp(e){return new Hl(e,!0)}var ip=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Ys("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),op=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ip(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===vu.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===vu.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new mu(vu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return(0,Hs.mG)(e,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return Ys("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(Ys("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),ap=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return(0,Hs.ZT)(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.V?(nu(void 0===t||"string"==typeof t),Eu.fromBase64String(t||"")):(nu(void 0===t||t instanceof Uint8Array),Eu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?vu.UNKNOWN:bl(e.code);return new mu(t,e.message||"")}(s);n=new Vl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=th(e,r.document.name),o=Yl(r.document.updateTime);var s=new Dc({mapValue:{fields:r.document.fields}}),u=(a=new Ku(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new jl(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=th(e,r.document),o=r.readTime?Yl(r.readTime):Pc.min(),s=new Wu(i,o),a=r.removedTargetIds||[],n=new jl([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=th(e,r.document),o=r.removedTargetIds||[],n=new jl([],o,i,null);else{if(!("filter"in t))return tu();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new gl(r),o=l.targetId,n=new Ul(o,i)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return Pc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Pc.min():t.readTime?Yl(t.readTime):Pc.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t={};t.database=ih(this.D),t.addTarget=function(e,t){var n,r=t.target;return(n=Xu(r)?{documents:lh(e,r)}:{query:hh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Jl(e,t.resumeToken):t.snapshotVersion.compareTo(Pc.min())>0&&(n.readTime=Ql(e,t.snapshotVersion.toTimestamp())),n}(this.D,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,e);n&&(t.labels=n),this.wr(t)},t.prototype.Ar=function(e){var t={};t.database=ih(this.D),t.removeTarget=e,this.wr(t)},t}(op),sp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(nu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(nu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Yl(e.updateTime):Yl(t);return n.isEqual(Pc.min())&&(n=Yl(t)),new Xc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yl(e.commitTime);return this.listener.Pr(n,t)}return nu(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=ih(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uh(t.D,e)}))};this.wr(n)},t}(op),up=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return(0,Hs.ZT)(t,e),t.prototype.Cr=function(){if(this.Dr)throw new mu(vu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===vu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===vu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),cp=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Xs(t),this.Fr=!1):Ys("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),lp=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return(0,Hs.mG)(o,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return bp(this)?(Ys("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return(t=ru(e)).Qr.add(4),[4,fp(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,hp(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new cp(n,r)};function hp(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:if(!bp(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function fp(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function dp(e,t){var n=ru(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),yp(n)?gp(n):Op(n).ar()&&vp(n,t))}function pp(e,t){var n=ru(e),r=Op(n);n.Ur.delete(t),r.ar()&&mp(n,t),0===n.Ur.size&&(r.ar()?r.lr():bp(n)&&n.jr.set("Unknown"))}function vp(e,t){e.Gr.H(t.targetId),Op(e).Ir(t)}function mp(e,t){e.Gr.H(t),Op(e).Ar(t)}function gp(e){e.Gr=new Bl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),Op(e).start(),e.jr.Or()}function yp(e){return bp(e)&&!Op(e).cr()&&e.Ur.size>0}function bp(e){return 0===ru(e).Qr.size}function wp(e){e.Gr=void 0}function _p(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return e.Ur.forEach((function(t,n){vp(e,t)})),[2]}))}))}function Ep(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(n){return wp(e),yp(e)?(e.jr.Lr(t),gp(e)):e.jr.set("Unknown"),[2]}))}))}function Ip(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof Vl&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ys("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Tp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof jl?e.Gr.st(t):t instanceof Ul?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(Pc.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gd(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.Gr.dt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Ur.get(r);i&&e.Ur.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Ur.get(t);if(n){e.Ur.set(t,n.withResumeToken(Eu.EMPTY_BYTE_STRING,n.snapshotVersion)),mp(e,t);var r=new cf(n.target,t,1,n.sequenceNumber);vp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ys("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Tp(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Tp(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r=this;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:if(!Zh(t))throw t;return e.Qr.add(1),[4,fp(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return gd(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,Hs.mG)(r,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return Ys("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,hp(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Sp(e,t){return t().catch((function(n){return Tp(e,n,t)}))}function kp(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:t=ru(e),n=Lp(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return bp(e)&&e.qr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,wd(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=Lp(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Tp(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Cp(t)&&Ap(t),[2]}}))}))}function Cp(e){return bp(e)&&!Lp(e).cr()&&e.qr.length>0}function Ap(e){Lp(e).start()}function Np(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return Lp(e).Sr(),[2]}))}))}function xp(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Hs.Jh)(this,(function(o){for(t=Lp(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}function Pp(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=uf.from(r,t,n),[4,Sp(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,kp(e)];case 2:return o.sent(),[2]}}))}))}function Rp(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t&&Lp(e).br?[4,function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return yl(r=t.code)&&r!==vu.ABORTED?(n=e.qr.shift(),Lp(e).hr(),[4,Sp(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,kp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cp(e)&&Ap(e),[2]}}))}))}function Dp(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return n=ru(e),t?(n.Qr.delete(2),[4,hp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,fp(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Op(e){var t=this;return e.zr||(e.zr=function(e,t,n){var r=ru(e);return r.Cr(),new ap(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:_p.bind(null,e),Di:Ep.bind(null,e),Tr:Ip.bind(null,e)}),e.Kr.push((function(n){return(0,Hs.mG)(t,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.zr.hr(),yp(e)?gp(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:t.sent(),wp(e),t.label=3;case 3:return[2]}}))}))}))),e.zr}function Lp(e){var t=this;return e.Hr||(e.Hr=function(e,t,n){var r=ru(e);return r.Cr(),new sp(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:Np.bind(null,e),Di:Rp.bind(null,e),Vr:xp.bind(null,e),Pr:Pp.bind(null,e)}),e.Kr.push((function(n){return(0,Hs.mG)(t,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Hr.hr(),[4,kp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:t.sent(),e.qr.length>0&&(Ys("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Hr}var Mp=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mu(vu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Fp(e,t){if(Xs("AsyncQueue",t+": "+e),Zh(e))return new mu(vu.UNAVAILABLE,t+": "+e);throw e}var jp=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||_u.comparator(t.key,n.key)}:function(e,t){return _u.comparator(e.key,t.key)},this.keyedMap=Nl(),this.sortedSet=new wl(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Up=function(){function e(){this.Jr=new wl(_u.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):tu():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Vp=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,jp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qp=function(){this.Xr=void 0,this.listeners=[]},Bp=function(){this.queries=new Jf((function(e){return kc(e)}),Sc),this.onlineState="Unknown",this.Zr=new Set};function zp(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:if(n=ru(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new qp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=Fp(s,"Initialization of query '"+Cc(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&Hp(n),[2]}}))}))}function Gp(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Hs.Jh)(this,(function(s){return n=ru(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Kp(e,t){for(var n=ru(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&Hp(n)}function Wp(e,t,n){var r=ru(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Hp(e){e.Zr.forEach((function(e){e.next()}))}var Qp=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Vp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=Vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),Jp=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),$p=function(){function e(e){this.D=e}return e.prototype.Gn=function(e){return th(this.D,e)},e.prototype.zn=function(e){return e.metadata.exists?sh(this.D,e.document,!1):new Wu(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},e.prototype.Hn=function(e){return Yl(e)},e}(),Yp=function(){function e(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=Xp(e)}return e.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.wo=function(e){for(var t=new Map,n=new $p(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Dl()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return[4,Cd(this.localStore,new $p(this.D),this.documents,this.lo.id)];case 1:e=o.sent(),t=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ad(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cd(Object.assign({},this.progress),e))]}}))}))},e}();function Xp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Zp=function(e){this.key=e},ev=function(e){this.key=e},tv=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Dl(),this.mutatedKeys=Dl(),this.po=Nc(e),this.Eo=new jp(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new Up,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=gc(this.query)&&i.size===this.query.limit?i.last():null,c=yc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=t instanceof Ku?t:null;h&&(h=Ac(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),gc(this.query)||yc(this.query))for(;a.size>this.query.limit;){var l=gc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tu()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new Vp(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Up,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=Dl(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new ev(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new Zp(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=Dl();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return Vp.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),nv=function(e,t,n){this.query=e,this.targetId=t,this.view=n},rv=function(e){this.key=e,this.Co=!1},iv=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Jf((function(e){return kc(e)}),Sc),this.$o=new Map,this.Fo=new Set,this.Oo=new wl(_u.comparator),this.ko=new Map,this.Mo=new xd,this.Lo={},this.Bo=new Map,this.qo=Ff.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();function ov(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return n=Ov(e),(o=n.No.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,_d(n.localStore,Ic(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,av(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&dp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function av(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,Hs.Jh)(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,Id(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(bv(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,Id(e.localStore,t,!0)];case 1:return i=l.sent(),o=new tv(t,i.jn),a=o.Io(i.documents),s=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),bv(e,n,u.Po),c=new nv(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function sv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return n=ru(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Sc(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ed(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),pp(n.remoteStore,r.targetId),gv(n,r.targetId)})).catch(Bf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gv(n,r.targetId),[4,Ed(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function uv(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:r=Lv(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=ru(e),i=Cu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Dl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Kn.bn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=il(c,n.get(c.key));null!=l&&a.push(new ul(c.key,l,Lc(l.proto.mapValue),Zc.exists(!0)))}return r.Tn.addMutationBatch(e,i,a,t)}))})).then((function(e){var t=e.applyToLocalDocumentSet(n);return{batchId:e.batchId,changes:t}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new wl(au)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ev(r,i.changes)];case 3:return s.sent(),[4,kp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Fp(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function cv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:n=ru(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,yd(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(nu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?nu(r.Co):e.removedDocuments.size>0&&(nu(r.Co),r.Co=!1))})),[4,Ev(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Bf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lv(e,t,n){var r=ru(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ru(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&Hp(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hv(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:return(r=ru(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new wl(_u.comparator)).insert(o,new Wu(o,Pc.min())),s=Dl().add(o),u=new Ml(Pc.min(),new Map,new Il(au),a,s),[4,cv(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),_v(r),[3,4];case 2:return[4,Ed(r.localStore,t,!1).then((function(){return gv(r,t,n)})).catch(Bf)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function fv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:n=ru(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,md(n.localStore,t)];case 2:return i=o.sent(),mv(n,r,null),vv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ev(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dv(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:r=ru(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=ru(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Tn.lookupMutationBatch(e,t).next((function(t){return nu(null!==t),r=t.keys(),n.Tn.removeMutationBatch(e,t)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),mv(r,t,n),vv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ev(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function pv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:bp((n=ru(e)).remoteStore)||Ys("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=ru(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Tn.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Fp(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function vv(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function mv(e,t,n){var r=ru(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function gv(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||yv(e,t)}))}function yv(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(pp(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),_v(e))}function bv(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Zp?(e.Mo.addReference(o.key,t),wv(e,o)):o instanceof ev?(Ys("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||yv(e,o.key)):tu()}}function wv(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(Ys("SyncEngine","New document in limbo: "+n),e.Fo.add(r),_v(e))}function _v(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new _u(yu.fromString(t)),r=e.qo.next();e.ko.set(r,new rv(n)),e.Oo=e.Oo.insert(n,r),dp(e.remoteStore,new cf(Ic(mc(n.path)),r,2,Qs.o))}}function Ev(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return r=ru(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=hd.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,Hs.Jh)(this,(function(h){switch(h.label){case 0:n=ru(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qh.forEach(t,(function(t){return Qh.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Qh.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Zh(r=h.sent()))throw r;return Ys("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Iv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return(n=ru(e)).currentUser.isEqual(t)?[3,3]:(Ys("SyncEngine","User change. New user:",t.toKey()),[4,vd(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new mu(vu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ev(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Tv(e,t){var n=ru(e),r=n.ko.get(t);if(r&&r.Co)return Dl().add(r.key);var i=Dl(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function Sv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return[4,Id((n=ru(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&bv(n,t.targetId,i.Po),i)]}}))}))}function kv(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){return[2,Sd((t=ru(e)).localStore).then((function(e){return Ev(t,e)}))]}))}))}function Cv(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=ru(e),r=ru(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Jt(e,t).next((function(t){return t?n.Kn.bn(e,t):Qh.resolve(null)}))}))}((i=ru(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,kp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mv(i,t,r||null),vv(i,t),function(e,t){ru(ru(e).Tn).Xt(t)}(i.localStore,t)):tu(),a.label=4;case 4:return[4,Ev(i,o)];case 5:return a.sent(),[3,7];case 6:Ys("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Av(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,Hs.Jh)(this,(function(l){switch(l.label){case 0:return Ov(n=ru(e)),Lv(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Nv(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,Dp(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],dp(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return gv(n,t),Ed(n.localStore,t,!0)})),pp(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Nv(n,u)];case 5:return l.sent(),function(e){var t=ru(e);t.ko.forEach((function(e,n){pp(t.remoteStore,n)})),t.Mo.cs(),t.ko=new Map,t.Oo=new wl(_u.comparator)}(n),n.Uo=!1,[4,Dp(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Nv(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return(0,Hs.Jh)(this,(function(m){switch(m.label){case 0:n=ru(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,_d(n.localStore,Ic(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.No.get(f),[4,Sv(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Td(n.localStore,s)];case 8:return v=m.sent(),[4,_d(n.localStore,v)];case 9:return u=m.sent(),[4,av(n,xv(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function xv(e){return vc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Pv(e){var t=ru(e);return ru(ru(t.localStore).persistence).gn()}function Rv(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return(i=ru(e)).Uo?(Ys("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sd(i.localStore)];case 3:return o=s.sent(),a=Ml.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ev(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ed(i.localStore,t,!0)];case 6:return s.sent(),gv(i,t,r),[3,8];case 7:tu(),s.label=8;case 8:return[2]}}))}))}function Dv(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,Hs.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=Ov(e)).Uo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(Ys("SyncEngine","Adding an already active target "+a),[3,5]):[4,Td(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,_d(r.localStore,s)];case 3:return u=d.sent(),[4,av(r,xv(s),u.targetId,!1)];case 4:d.sent(),dp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,Ed(r.localStore,e,!1).then((function(){pp(r.remoteStore,e),gv(r,e)})).catch(Bf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Ov(e){var t=ru(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hv.bind(null,t),t.xo.Tr=Kp.bind(null,t.eventManager),t.xo.Ko=Wp.bind(null,t.eventManager),t}function Lv(e){var t=ru(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dv.bind(null,t),t}function Mv(e,t,n){var r=ru(e);(function(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=ru(e),r=Yl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.He.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Xp(r)),i=new Yp(r,e.localStore,t.D),[4,t.Wo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.fo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Wo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Ev(e,s.En,void 0)];case 12:return c.sent(),[4,function(e,t){var n=ru(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.He.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Zs("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Fv=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return this.D=rp(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return pd(this.persistence,new fd,e.initialUser,this.D)},e.prototype.Go=function(e){return new Md(jd.Cs,this.D)},e.prototype.jo=function(e){return new Jd},e.prototype.terminate=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),jv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Hs.ZT)(t,e),t.prototype.initialize=function(t){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,kd(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,Lv(this.Jo.syncEngine)];case 4:return n.sent(),[4,kp(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return pd(this.persistence,new fd,e.initialUser,this.D)},t.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Kf(t,e.asyncQueue)},t.prototype.Go=function(e){var t=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nf.withCacheSize(this.cacheSizeBytes):Nf.DEFAULT;return new od(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,tp(),np(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new Jd},t}(Fv),Uv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Hs.ZT)(t,e),t.prototype.initialize=function(t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Qd?(this.sharedClientState.syncEngine={wi:Cv.bind(null,n),_i:Rv.bind(null,n),mi:Dv.bind(null,n),gn:Pv.bind(null,n),di:kv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return(0,Hs.mG)(r,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return[4,Av(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=tp();if(!Qd.At(t))throw new mu(vu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qd(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(jv),Vv=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lv(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Iv.bind(null,this.syncEngine),[4,Dp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Bp},e.prototype.createDatastore=function(e){var t,n=rp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ep(t));return function(e,t,n){return new up(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lv(a.syncEngine,e,0)},o=Yd.At()?new Yd:new $d,new lp(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new iv(e,t,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=ru(e),Ys("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,fp(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function qv(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var r;return(0,Hs.Jh)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Bv=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),zv=function(){function e(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new Hh,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Wo=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},e.prototype.ec=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(e=i.sent())?[2,null]:(t=this.tc.decode(e),n=Number(t),isNaN(n)&&this.sc("length string ("+t+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Jp(JSON.parse(r),e.length+n)]}}))}))},e.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.nc=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.ic=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.oc=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Gv=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new mu(vu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return n=ru(e),r=ih(n.D)+"/documents",i={documents:t.map((function(e){return eh(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){nu(!!t.found),t.found.name,t.found.updateTime;var n=th(e,t.found.name),r=Yl(t.found.updateTime),i=new Dc({mapValue:{fields:t.found.fields}});return new Ku(n,r,i,{})}(e,t):"missing"in t?function(e,t){nu(!!t.missing),nu(!!t.readTime);var n=th(e,t.missing),r=Yl(t.readTime);return new Wu(n,r)}(e,t):tu()}(n.D,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());nu(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Wu||e instanceof Ku?n.recordVersion(e):tu()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new vl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=_u.fromPath(n);t.mutations.push(new ml(r,t.precondition(r)))})),[4,function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return n=ru(e),r=ih(n.D)+"/documents",i={writes:t.map((function(e){return uh(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Ku)t=e.version;else{if(!(e instanceof Wu))throw tu();t=Pc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mu(vu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zc.updateTime(t):Zc.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pc.min()))throw new mu(vu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zc.updateTime(t)}return Zc.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Kv=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new ip(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return(0,Hs.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,Hs.Jh)(this,(function(r){return e=new Gv(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!fu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!yl(t)}return!1},e}(),Wv=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ud.UNAUTHENTICATED,this.clientId=ou.u(),this.credentialListener=function(){},this.receivedInitialUser=new Hh,this.credentials.setChangeListener((function(e){Ys("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new mu(vu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Hs.mG)(e,void 0,void 0,(function(){var e,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Fp(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Hv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ys("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,Hs.mG)(i,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return[4,vd(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Qv(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Jv(e)];case 1:return n=i.sent(),Ys("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return(n=ru(e)).asyncQueue.verifyOperationInProgress(),Ys("RemoteStore","RemoteStore received new credentials"),r=bp(n),n.Qr.add(3),[4,fp(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,hp(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function Jv(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ys("FirestoreClient","Using default OfflineComponentProvider"),[4,Hv(e,new Fv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function $v(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ys("FirestoreClient","Using default OnlineComponentProvider"),[4,Qv(e,new Vv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Yv(e){return Jv(e).then((function(e){return e.persistence}))}function Xv(e){return Jv(e).then((function(e){return e.localStore}))}function Zv(e){return $v(e).then((function(e){return e.remoteStore}))}function em(e){return $v(e).then((function(e){return e.syncEngine}))}function tm(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,$v(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ov.bind(null,t.syncEngine),n.onUnlisten=sv.bind(null,t.syncEngine),n)]}}))}))}function nm(e,t,n){var r=this;void 0===n&&(n={});var i=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(r,void 0,void 0,(function(){var r;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Bv({next:function(o){t.enqueueAndForget((function(){return Gp(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new mu(vu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new mu(vu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Qp(mc(n.path),o,{includeMetadataChanges:!0,uo:!0});return zp(e,a)},[4,tm(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function rm(e,t,n){var r=this;void 0===n&&(n={});var i=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(r,void 0,void 0,(function(){var r;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Bv({next:function(n){t.enqueueAndForget((function(){return Gp(e,a)})),n.fromCache&&"server"===r.source?i.reject(new mu(vu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Qp(n,o,{includeMetadataChanges:!0,uo:!0});return zp(e,a)},[4,tm(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var im=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},om=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),am=new Map,sm=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},um=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Ud.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cm=function(){function e(e){var t=this;this.fc=null,this.currentUser=Ud.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(Ys("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(nu("string"==typeof n.accessToken),new sm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return nu(null===e||"string"==typeof e),new Ud(e)},e}(),lm=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=Ud.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),hm=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new lm(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(Ud.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function fm(e,t,n){if(!n)throw new mu(vu.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function dm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mu(vu.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function pm(e,t,n,r){if(!0===t&&!0===r)throw new mu(vu.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function vm(e){if(!_u.isDocumentKey(e))throw new mu(vu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function mm(e){if(_u.isDocumentKey(e))throw new mu(vu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function gm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":tu()}function ym(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mu(vu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gm(e);throw new mu(vu.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function bm(e,t){if(t<=0)throw new mu(vu.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var wm=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mu(vu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mu(vu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,pm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),_m=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new wm({}),this._settingsFrozen=!1,e instanceof om?(this._databaseId=e,this._credentials=new um):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mu(vu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new om(e.options.projectId)}(e),this._credentials=new cm(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new mu(vu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new mu(vu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wm(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new um;switch(e.type){case"gapi":var t=e.client;return nu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new hm(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new mu(vu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=am.get(this))&&(Ys("ComponentProvider","Removing Datastore"),am.delete(this),e.terminate()),Promise.resolve();var e},e}(),Em=function(e){this._delegate=e},Im=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Sm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Tm=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Sm=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,mc(r))||this).firestore=t,i._path=r,i.type="collection",i}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Im(this.firestore,null,new _u(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Tm);function km(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Em&&(e=e._delegate),fm("collection","path",t),e instanceof _m)return mm(n=yu.fromString.apply(yu,(0,Hs.ev)([t],r))),new Sm(e,null,n);if(!(e instanceof Im||e instanceof Sm))throw new mu(vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mm(n=yu.fromString.apply(yu,(0,Hs.ev)([e.path],r)).child(yu.fromString(t))),new Sm(e.firestore,null,n)}function Cm(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Em&&(e=e._delegate),1===arguments.length&&(t=ou.u()),fm("doc","path",t),e instanceof _m)return vm(n=yu.fromString.apply(yu,(0,Hs.ev)([t],r))),new Im(e,null,new _u(n));if(!(e instanceof Im||e instanceof Sm))throw new mu(vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vm(n=e._path.child(yu.fromString.apply(yu,(0,Hs.ev)([t],r)))),new Im(e.firestore,e instanceof Sm?e._converter:null,new _u(n))}function Am(e,t){return e instanceof Em&&(e=e._delegate),t instanceof Em&&(t=t._delegate),(e instanceof Im||e instanceof Sm)&&(t instanceof Im||t instanceof Sm)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Nm(e,t){return e instanceof Em&&(e=e._delegate),t instanceof Em&&(t=t._delegate),e instanceof Tm&&t instanceof Tm&&e.firestore===t.firestore&&Sc(e._query,t._query)&&e._converter===t._converter}var xm=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new ip(this,"async_queue_retry"),this.bc=function(){var t=np();t&&Ys("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=np();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=np();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Zh(e=n.sent()))throw e;return Ys("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,Xs("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Mp.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&tu()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e;return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function Pm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Rm=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Hh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Dm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new xm,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,Hs.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Lm(this),this._firestoreClient.terminate()},t}(_m);function Om(e){return e._firestoreClient||Lm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lm(e){var t=e._freezeSettings(),n=function(e,t,n){return new im(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e._databaseId,e._persistenceKey,t);e._firestoreClient=new Wv(e._credentials,e._queue,n)}function Mm(e,t,n){var r=this,i=new Hh;return e.asyncQueue.enqueue((function(){return(0,Hs.mG)(r,void 0,void 0,(function(){var r;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Hv(e,n)];case 1:return o.sent(),[4,Qv(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===vu.FAILED_PRECONDITION||e.code===vu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Fm(e){if(e._initialized||e._terminated)throw new mu(vu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new mu(vu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wu(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Um=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Eu.fromBase64String(t))}catch(t){throw new mu(vu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Eu.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Vm=function(e){this._methodName=e},qm=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new mu(vu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mu(vu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return au(this._lat,e._lat)||au(this._long,e._long)},e}(),Bm=/^__.*__$/,zm=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)},e}(),Gm=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ul(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Km(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tu()}}var Wm=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return fg(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Km(this.Fc)&&Bm.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),Hm=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||rp(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new Wm({Fc:e,methodName:t,Kc:n,path:wu.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function Qm(e){var t=e._freezeSettings(),n=rp(e._databaseId);return new Hm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jm(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);ug("Data must be an object, but it was:",a,r);var s,u,c=ag(r,a);if(o.merge)s=new Rc(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=cg(t,f[h],n);if(!a.contains(d))throw new mu(vu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");dg(l,d)||l.push(d)}s=new Rc(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new zm(new Dc(c),s,u)}var $m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Vm);function Ym(e,t,n){return new Wm({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var Xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Yc(e.path,new zc)},t.prototype.isEqual=function(e){return e instanceof t},t}(Vm),Zm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return(0,Hs.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Ym(this,e,!0),n=this.jc.map((function(e){return og(e,t)})),r=new Gc(n);return new Yc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Vm),eg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return(0,Hs.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Ym(this,e,!0),n=this.jc.map((function(e){return og(e,t)})),r=new Wc(n);return new Yc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Vm),tg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return(0,Hs.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new Qc(e.D,jc(e.D,this.Gc));return new Yc(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Vm);function ng(e,t,n,r){var i=e.Wc(1,t,n);ug("Data must be an object, but it was:",i,r);var o=[],a=new Oc;lu(r,(function(e,r){var s=hg(t,e,n);r instanceof Em&&(r=r._delegate);var u=i.Bc(s);if(r instanceof $m)o.push(s);else{var c=og(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Rc(o);return new Gm(a.v(),s,i.fieldTransforms)}function rg(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[cg(t,r,n)],u=[i];if(o.length%2!=0)throw new mu(vu.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(cg(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Oc,f=s.length-1;f>=0;--f)if(!dg(l,s[f])){var d=s[f],p=u[f];p instanceof Em&&(p=p._delegate);var v=a.Bc(d);if(p instanceof $m)l.push(d);else{var m=og(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Rc(l);return new Gm(h.v(),g,a.fieldTransforms)}function ig(e,t,n,r){return void 0===r&&(r=!1),og(n,e.Wc(r?4:3,t))}function og(e,t){if(e instanceof Em&&(e=e._delegate),sg(e))return ug("Unsupported field value:",t,e),ag(e,t);if(e instanceof Vm)return function(e,t){if(!Km(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=og(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof Em&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jc(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cu.fromDate(e);return{timestampValue:Ql(t.D,n)}}if(e instanceof Cu)return n=new Cu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ql(t.D,n)};if(e instanceof qm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Um)return{bytesValue:Jl(t.D,e._byteString)};if(e instanceof Im){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Xl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+gm(e))}(e,t)}function ag(e,t){var n={};return hu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lu(e,(function(e,r){var i=og(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cu||e instanceof qm||e instanceof Um||e instanceof Im||e instanceof Vm)}function ug(e,t,n){if(!sg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gm(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function cg(e,t,n){if(t instanceof Em&&(t=t._delegate),t instanceof jm)return t._internalPath;if("string"==typeof t)return hg(e,t);throw fg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var lg=new RegExp("[~\\*/\\[\\]]");function hg(e,t,n){if(t.search(lg)>=0)throw fg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(jm.bind.apply(jm,(0,Hs.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw fg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function fg(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new mu(vu.INVALID_ARGUMENT,(s+=". ")+e+u)}function dg(e,t){return e.some((function(e){return e.isEqual(t)}))}var pg=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Im(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new vg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),vg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pg);function mg(e,t){return"string"==typeof t?hg(e,t):t instanceof Em?t._delegate._internalPath:t._internalPath}var gg=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),yg=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,Hs.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(mg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(pg),bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(yg),wg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bg(n._firestore,n._userDataWriter,r.key,r,new gg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mu(vu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new bg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_g(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function _g(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tu()}}function Eg(e,t){return e instanceof yg&&t instanceof yg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wg&&t instanceof wg&&e._firestore===t._firestore&&Nm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ig(e){if(yc(e)&&0===e.explicitOrderBy.length)throw new mu(vu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tg=function(){};function Sg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var kg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return(0,Hs.ZT)(t,e),t.prototype._apply=function(e){var t=Qm(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mu(vu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Dg(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Rg(r,e,h))}s={arrayValue:{values:u}}}else s=Rg(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dg(a,o),s=ig(n,"where",a,"in"===o||"not-in"===o);var f=Zu.create(i,o,s);return function(e,t){if(t.g()){var n=wc(e);if(null!==n&&!n.isEqual(t.field))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=bc(e);null!==r&&Og(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mu(vu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new mu(vu.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Tm(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Tg),Cg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return(0,Hs.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mu(vu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mu(vu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lc(t,n);return function(e,t){if(null===bc(e)){var n=wc(e);null!==n&&Og(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Tm(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new pc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Tg),Ag=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return(0,Hs.ZT)(t,e),t.prototype._apply=function(e){return new Tm(e.firestore,e._converter,Tc(e._query,this.Xc,this.Zc))},t}(Tg),Ng=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return(0,Hs.ZT)(t,e),t.prototype._apply=function(e){var t=Pg(e,this.type,this.ta,this.ea);return new Tm(e.firestore,e._converter,function(e,t){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Tg),xg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return(0,Hs.ZT)(t,e),t.prototype._apply=function(e){var t=Pg(e,this.type,this.ta,this.ea);return new Tm(e.firestore,e._converter,function(e,t){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Tg);function Pg(e,t,n,r){if(n[0]instanceof Em&&(n[0]=n[0]._delegate),n[0]instanceof pg)return function(e,t,n,r,i){if(!r)throw new mu(vu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ec(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ju(t,r.key));else{var c=r.field(u.field);if(Au(c))throw new mu(vu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mu(vu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new uc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Qm(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new mu(vu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new mu(vu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_c(e)&&-1!==c.indexOf("/"))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(yu.fromString(c));if(!_u.isDocumentKey(l))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new _u(l);s.push(ju(t,h))}else{var f=ig(n,r,c);s.push(f)}}return new uc(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Rg(e,t,n){if(n instanceof Em&&(n=n._delegate),"string"==typeof n){if(""===n)throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(t)&&-1!==n.indexOf("/"))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(yu.fromString(n));if(!_u.isDocumentKey(r))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ju(e,new _u(r))}if(n instanceof Im)return ju(e,n._key);throw new mu(vu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gm(n)+".")}function Dg(e,t){if(!Array.isArray(e)||0===e.length)throw new mu(vu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new mu(vu.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Og(e,t,n){if(!n.isEqual(t))throw new mu(vu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Lg=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Su(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tu()}},e.prototype.convertObject=function(e,t){var n=this,r={};return lu(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new qm(Su(e.latitude),Su(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Nu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Tu(e);return new Cu(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=yu.fromString(e);nu(Ih(n));var r=new om(n.get(1),n.get(3)),i=new _u(n.popFirst(5));return r.isEqual(t)||Xs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Mg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Hs.ZT)(t,e),t.prototype.convertBytes=function(e){return new Um(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Im(this.firestore,null,t)},t}(Lg),jg=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qm(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Ug(e,this._firestore),i=Mg(r._converter,t,n),o=Jm(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Zc.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Ug(e,this._firestore);return t instanceof Em&&(t=t._delegate),o="string"==typeof t||t instanceof jm?rg(this._dataReader,"WriteBatch.update",a._key,t,n,r):ng(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Zc.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Ug(e,this._firestore);return this._mutations=this._mutations.concat(new vl(t._key,Zc.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new mu(vu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Ug(e,t){if(e instanceof Em&&(e=e._delegate),e.firestore!==t)throw new mu(vu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Hs.ZT)(t,e),t.prototype.convertBytes=function(e){return new Um(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Im(this.firestore,null,t)},t}(Lg);function qg(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ym(e,Im);var o=ym(e.firestore,Dm),a=Qm(o);return t instanceof Em&&(t=t._delegate),zg(o,[("string"==typeof t||t instanceof jm?rg(a,"updateDoc",e._key,t,n,r):ng(a,"updateDoc",e._key,t)).toMutation(e._key,Zc.exists(!0))])}function Bg(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof Em&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Pm(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Pm(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Im)c=ym(e.firestore,Dm),l=mc(e._key.path),u={next:function(t){i[s]&&i[s](Gg(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=ym(e,Tm);c=ym(d.firestore,Dm),l=d._query;var p=new Vg(c);u={next:function(e){i[s]&&i[s](new wg(c,p,d,e))},error:i[s+1],complete:i[s+2]},Ig(e._query)}return function(e,t,n,r){var i=this,o=new Bv(r),a=new Qp(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(i,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=zp,[4,tm(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(i,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=Gp,[4,tm(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Om(c),l,h,u)}function zg(e,t){return function(e,t){var n=this,r=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return n=uv,[4,em(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Om(e),t)}function Gg(e,t,n){var r=n.docs.get(t._key),i=new Vg(e);return new yg(e,i,t._key,r,new gg(n.hasPendingWrites,n.fromCache),t._converter)}var Kg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,Hs.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Ug(t,this._firestore),i=new Vg(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new yg(n._firestore,i,r._key,e._document,new gg(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qm(e)}return e.prototype.get=function(e){var t=this,n=Ug(e,this._firestore),r=new Fg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return tu();var i=e[0];if(i instanceof Wu)return new pg(t._firestore,r,n._key,null,n._converter);if(i instanceof Ku)return new pg(t._firestore,r,i.key,i,n._converter);throw tu()}))},e.prototype.set=function(e,t,n){var r=Ug(e,this._firestore),i=Mg(r._converter,t,n),o=Jm(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Ug(e,this._firestore);return t instanceof Em&&(t=t._delegate),o="string"==typeof t||t instanceof jm?rg(this._dataReader,"Transaction.update",a._key,t,n,r):ng(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Ug(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Wg(){if("undefined"==typeof Uint8Array)throw new mu(vu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hg(){if("undefined"==typeof atob)throw new mu(vu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.fromBase64String=function(e){return Hg(),new t(Um.fromBase64String(e))},t.fromUint8Array=function(e){return Wg(),new t(Um.fromUint8Array(e))},t.prototype.toBase64=function(){return Hg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Wg(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Em),Jg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Fm(e=ym(e,Dm));var n=Om(e),r=e._freezeSettings(),i=new Vv;return Mm(n,i,new jv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Fm(e=ym(e,Dm));var t=Om(e),n=e._freezeSettings(),r=new Vv;return Mm(t,r,new Uv(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new mu(vu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hh;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return $h.At()?(t=e+"main",[4,$h.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ud(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),$g=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof om||(i.sa=t),i}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=ym(e,_m))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&Zs("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,Yv(e)];case 1:return t=r.sent(),[4,Zv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=ru(e);return t.Qr.delete(0),hp(t)}(n))]}}))}))}))}(Om(ym(this._delegate,Dm)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,Yv(e)];case 1:return t=r.sent(),[4,Zv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return(t=ru(e)).Qr.add(0),[4,fp(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Om(ym(this._delegate,Dm)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&pm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(t,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return t=pv,[4,em(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Om(ym(this._delegate,Dm)))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Bv(t);return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ru(e).Zr.add(t),t.next()},[4,tm(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ru(e).Zr.delete(t)},[4,tm(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Om(e=ym(e,Dm)),Pm(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new mu(vu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new ly(this,km(this._delegate,e))}catch(e){throw ny(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new ty(this,Cm(this._delegate,e))}catch(e){throw ny(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new sy(this,function(e,t){if(e=ym(e,_m),fm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mu(vu.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Tm(e,null,function(e){return new pc(yu.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw ny(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return $v(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Kv(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Om(e),(function(n){return t(new Kg(e,n))}))}(this._delegate,(function(n){return e(new Xg(t,n))}))},t.prototype.batch=function(){var e=this;return Om(this._delegate),new Zg(new jg(this._delegate,(function(t){return zg(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new mu(vu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new mu(vu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Em),Yg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Hs.ZT)(t,e),t.prototype.convertBytes=function(e){return new Qg(new Um(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ty.ia(t,this.firestore,null)},t}(Lg),Xg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new Yg(t),r}return(0,Hs.ZT)(t,e),t.prototype.get=function(e){var t=this,n=hy(e);return this._delegate.get(n).then((function(e){return new oy(t._firestore,new yg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=hy(e);return n?(dm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hy(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Hs.ev)([a,t,n],i)),this},t.prototype.delete=function(e){var t=hy(e);return this._delegate.delete(t),this},t}(Em),Zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.set=function(e,t,n){var r=hy(e);return n?(dm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hy(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Hs.ev)([a,t,n],i)),this},t.prototype.delete=function(e){var t=hy(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(Em),ey=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return(0,Hs.ZT)(t,e),t.prototype.fromFirestore=function(e,t){var n=new bg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ay(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Yg(e),n),i.set(n,o)),o},t}(Em);ey.oa=new WeakMap;var ty=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new Yg(t),r}return(0,Hs.ZT)(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new mu(vu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Im(n._delegate,r,new _u(e)))},t.ia=function(e,n,r){return new t(n,new Im(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ly(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new ly(this.firestore,km(this._delegate,e))}catch(e){throw ny(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof Em&&(e=e._delegate),e instanceof Im&&Am(this._delegate,e)},t.prototype.set=function(e,t){t=dm("DocumentReference.set",t);try{return function(e,t,n){e=ym(e,Im);var r=ym(e.firestore,Dm),i=Mg(e._converter,t,n);return zg(r,[Jm(Qm(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,Zc.none())])}(this._delegate,e,t)}catch(e){throw ny(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qg(this._delegate,e):qg.apply(void 0,(0,Hs.ev)([this._delegate,e,t],n))}catch(e){throw ny(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return zg(ym((e=this._delegate).firestore,Dm),[new vl(e._key,Zc.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ry(t),i=iy(t,(function(t){return new oy(e.firestore,new yg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Bg(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ym(e,Im);var t=ym(e.firestore,Dm),n=Om(t),r=new Vg(t);return function(e,t){var n=this,r=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=ru(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Kn.In(e,t)}))}(e,t)];case 1:return(i=o.sent())instanceof Ku?n.resolve(i):i instanceof Wu?n.resolve(null):n.reject(new mu(vu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Fp(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Xv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new yg(t,r,e._key,n,new gg(n instanceof Ku&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ym(e,Im);var t=ym(e.firestore,Dm);return nm(Om(t),e._key,{source:"server"}).then((function(n){return Gg(t,e,n)}))}(this._delegate):function(e){e=ym(e,Im);var t=ym(e.firestore,Dm);return nm(Om(t),e._key).then((function(n){return Gg(t,e,n)}))}(this._delegate)).then((function(e){return new oy(t.firestore,new yg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ey.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Em);function ny(e,t,n){return e.message=e.message.replace(t,n),e}function ry(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Pm(r))return r}return{}}function iy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Pm(e[0])?e[0]:Pm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var oy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new ty(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return Eg(this._delegate,e._delegate)},t}(Em),ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(oy),sy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new Yg(t),r}return(0,Hs.ZT)(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,Sg(this._delegate,function(e,t,n){var r=t,i=mg("where",e);return new kg(i,r,n)}(e,n,r)))}catch(e){throw ny(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Sg(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=mg("orderBy",e);return new Cg(r,n)}(e,n)))}catch(e){throw ny(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Sg(this._delegate,function(e){return bm("limit",e),new Ag("limit",e,"F")}(e)))}catch(e){throw ny(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Sg(this._delegate,function(e){return bm("limitToLast",e),new Ag("limitToLast",e,"L")}(e)))}catch(e){throw ny(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ng("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw ny(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ng("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw ny(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xg("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw ny(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xg("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw ny(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Nm(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ym(e,Tm);var t=ym(e.firestore,Dm),n=Om(t),r=new Vg(t);return function(e,t){var n=this,r=new Hh;return e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Id(e,t,!0)];case 1:return s=u.sent(),r=new tv(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Fp(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Xv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new wg(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ym(e,Tm);var t=ym(e.firestore,Dm),n=Om(t),r=new Vg(t);return rm(n,e._query,{source:"server"}).then((function(n){return new wg(t,r,e,n)}))}(this._delegate):function(e){e=ym(e,Tm);var t=ym(e.firestore,Dm),n=Om(t),r=new Vg(t);return Ig(e._query),rm(n,e._query).then((function(n){return new wg(t,r,e,n)}))}(this._delegate)).then((function(e){return new cy(t.firestore,new wg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ry(t),i=iy(t,(function(t){return new cy(e.firestore,new wg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Bg(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ey.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Em),uy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ay(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(Em),cy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new sy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ay(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new uy(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ay(n._firestore,r))}))},t.prototype.isEqual=function(e){return Eg(this._delegate,e._delegate)},t}(Em),ly=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,Hs.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ty(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ty(this.firestore,void 0===e?Cm(this._delegate):Cm(this._delegate,e))}catch(e){throw ny(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=ym(e.firestore,Dm),r=Cm(e),i=Mg(e._converter,t);return zg(n,[Jm(Qm(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,Zc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ty(t.firestore,e)}))},t.prototype.isEqual=function(e){return Am(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ey.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(sy);function hy(e){return e instanceof Em&&(e=e._delegate),ym(e,Im)}var fy=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(jm.bind.apply(jm,(0,Hs.ev)([void 0],t))))||this}return(0,Hs.ZT)(t,e),t.documentId=function(){return new t(wu.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof Em&&(e=e._delegate),e instanceof jm&&this._delegate._internalPath.isEqual(e._internalPath)},t}(Em),dy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Hs.ZT)(t,e),t.serverTimestamp=function(){var e=new Xm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $m("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zm("arrayUnion",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eg("arrayRemove",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new tg("increment",e)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(Em);var py,vy,my=n(909),gy={Firestore:$g,GeoPoint:qm,Timestamp:Cu,Blob:Qg,Transaction:Xg,WriteBatch:Zg,DocumentReference:ty,DocumentSnapshot:oy,Query:sy,QueryDocumentSnapshot:ay,QuerySnapshot:cy,CollectionReference:ly,FieldPath:fy,FieldValue:dy,setLogLevel:function(e){var t;t=e,Js.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new my.wA("firestore",(function(e){return function(e,t){return new $g(e,new Dm(e,t),new Jg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},gy)))})(py=jr.Z),py.registerVersion("@firebase/firestore","2.2.1"),(vy=$g).prototype.loadBundle=function(e){return function(e,t){var n=Om(e=ym(e,Dm)),r=new Rm;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new zv(e,t)}(function(e,t){if(e instanceof Uint8Array)return qv(e,t);if(e instanceof ArrayBuffer)return qv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,rp(t));e.asyncQueue.enqueueAndForget((function(){return(0,Hs.mG)(i,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return t=Mv,[4,em(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)},vy.prototype.namedQuery=function(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,Hs.mG)(n,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=ru(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.He.getNamedQuery(e,t)}))},[4,Xv(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Om(t=ym(t,Dm)),n).then((function(e){return e?new Tm(t,null,e.query):null}))).then((function(e){return e?new sy(r,e):null}))};var yy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},by=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,Hs.ZT)(t,e),t}(Error),wy=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e;return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function _y(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Ey,Iy,Ty,Sy=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return _y(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?_y(e,(function(e){return t.decode(e)})):e},e}(),ky=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new Sy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new wy(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,Hs.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new by("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Cy(c,this.postJSON(r,i,o)),l,Cy(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new by("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!yy[s])return new by("internal","internal");r=yy[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new by(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new by("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new by("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Cy(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}Ey=jr.Z,Iy=fetch.bind(self),Ty={Functions:ky},Ey.INTERNAL.registerComponent(new my.wA("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("messaging");return new ky(r,i,o,n,Iy)}),"PUBLIC").setServiceProps(Ty).setMultipleInstances(!0)),jr.Z.registerVersion("@firebase/functions","0.6.4");var Ay,Ny=n(676),xy="w:0.4.22",Py=((Ay={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ay["not-registered"]="Firebase Installation is not registered.",Ay["installation-not-found"]="Firebase Installation not found.",Ay["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ay["app-offline"]="Could not process request. Application offline.",Ay["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ay),Ry=new Vr.LL("installations","Installations",Py);function Dy(e){return e instanceof Vr.ZR&&e.code.includes("request-failed")}function Oy(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Ly(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function My(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Ry.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Fy(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jy(e,t){var n=t.refreshToken,r=Fy(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Uy(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Vy(e,t){var n=t.fid;return(0,Hs.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return t=Oy(e),r=Fy(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:xy},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Uy((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Ly(s.authToken)}];case 3:return[4,My("Create Installation",a)];case 4:throw u.sent()}}))}))}function qy(e){return new Promise((function(t){setTimeout(t,e)}))}var By=/^[cdef][\w-]{21}$/;function zy(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,Hs.ev)([],(0,Hs.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return By.test(t)?t:""}catch(e){return""}}function Gy(e){return e.appName+"!"+e.appId}var Ky=new Map;function Wy(e,t){var n=Gy(e);Hy(n,t),function(e,t){var n=Jy();n&&n.postMessage({key:e,fid:t}),$y()}(n,t)}function Hy(e,t){var n,r,i=Ky.get(e);if(i)try{for(var o=(0,Hs.XA)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Qy=null;function Jy(){return!Qy&&"BroadcastChannel"in self&&((Qy=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Hy(e.data.key,e.data.fid)}),Qy}function $y(){0===Ky.size&&Qy&&(Qy.close(),Qy=null)}var Yy,Xy="firebase-installations-store",Zy=null;function eb(){return Zy||(Zy=(0,Ny.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Xy)}}))),Zy}function tb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return n=Gy(e),[4,eb()];case 1:return r=s.sent(),i=r.transaction(Xy,"readwrite"),[4,(o=i.objectStore(Xy)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Wy(e,t.fid),[2,t]}}))}))}function nb(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return t=Gy(e),[4,eb()];case 1:return n=i.sent(),[4,(r=n.transaction(Xy,"readwrite")).objectStore(Xy).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function rb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return n=Gy(e),[4,eb()];case 1:return r=u.sent(),i=r.transaction(Xy,"readwrite"),[4,(o=i.objectStore(Xy)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Wy(e,s.fid),[2,s]}}))}))}function ib(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,rb(e,(function(n){var r=function(e){return sb(e||{fid:zy(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Ry.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Vy(e,t)];case 1:return n=i.sent(),[2,tb(e,n)];case 2:return Dy(r=i.sent())&&409===r.customData.serverCode?[4,nb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,tb(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ob(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function ob(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return[4,ab(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,qy(100)];case 3:return o.sent(),[4,ab(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ib(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ab(e){return rb(e,(function(e){if(!e)throw Ry.create("installation-not-found");return sb(e)}))}function sb(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ub(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,Hs.mG)(this,void 0,void 0,(function(){var e,i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return Oy(e)+"/"+n+"/authTokens:generate"}(n,t),i=jy(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:xy}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Uy((function(){return fetch(e,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,Ly(c.sent())];case 3:return[4,My("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function cb(e,t){return void 0===t&&(t=!1),(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return[4,rb(e.appConfig,(function(r){if(!hb(r))throw Ry.create("not-registered");var i,o=r.authToken;if(!t&&(2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)))return r;if(1===o.requestStatus)return n=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,lb(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,qy(100)];case 3:return i.sent(),[4,lb(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,cb(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Ry.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,Hs.pi)((0,Hs.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ub(e,t)];case 1:return n=o.sent(),i=(0,Hs.pi)((0,Hs.pi)({},t),{authToken:n}),[4,tb(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Dy(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,nb(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Hs.pi)((0,Hs.pi)({},t),{authToken:{requestStatus:0}}),[4,tb(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function lb(e){return rb(e,(function(e){if(!hb(e))throw Ry.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,Hs.pi)((0,Hs.pi)({},e),{authToken:{requestStatus:0}}):e}))}function hb(e){return void 0!==e&&2===e.registrationStatus}function fb(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,ib(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function db(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Oy(e)+"/"+n}(e,t),r=jy(e,t),i={method:"DELETE",headers:r},[4,Uy((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,My("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function pb(e){return Ry.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new my.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw pb("App Configuration");if(!e.name)throw pb("App Name");try{for(var r=(0,Hs.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw pb(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,ib(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):cb(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,fb(e.appConfig)];case 1:return n.sent(),[4,cb(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,rb(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Ry.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ry.create("app-offline");case 3:return[4,db(t,n)];case 4:return r.sent(),[4,nb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){Jy();var n=Gy(e),r=Ky.get(n);r||(r=new Set,Ky.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Gy(e),r=Ky.get(n);r&&(r.delete(t),0===r.size&&Ky.delete(n),$y())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.22")}(jr.Z);var vb,mb=((Yy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Yy["only-available-in-window"]="This method is available in a Window context.",Yy["only-available-in-sw"]="This method is available in a service worker context.",Yy["permission-default"]="The notification permission was not granted and dismissed instead.",Yy["permission-blocked"]="The notification permission was not granted and blocked instead.",Yy["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Yy["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Yy["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Yy["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Yy["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Yy["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Yy["token-update-no-token"]="FCM returned no token when updating the user to push.",Yy["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Yy["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Yy["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Yy["invalid-vapid-key"]="The public VAPID key must be a string.",Yy["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Yy),gb=new Vr.LL("messaging","Messaging",mb),yb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function bb(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,Hs.ev)([],(0,Hs.CR)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wb(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(vb||(vb={}));var _b="fcm_token_details_db",Eb="fcm_token_object_Store";function Ib(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(_b))return[2,null];r.label=2;case 2:return t=null,[4,(0,Ny.openDb)(_b,5,(function(r){return(0,Hs.mG)(n,void 0,void 0,(function(){var n,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(Eb)?[4,(n=r.transaction.objectStore(Eb)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:bb(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:bb(o.auth),p256dh:bb(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:bb(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,(0,Ny.deleteDb)(_b)];case 4:return r.sent(),[4,(0,Ny.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,Ny.deleteDb)("undefined")];case 6:return r.sent(),[2,Tb(t)?t:null]}}))}))}function Tb(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var Sb="firebase-messaging-store",kb=null;function Cb(){return kb||(kb=(0,Ny.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Sb)}}))),kb}function Ab(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return t=Pb(e),[4,Cb()];case 1:return[4,i.sent().transaction(Sb).objectStore(Sb).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Ib(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Nb(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Nb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return n=Pb(e),[4,Cb()];case 1:return r=o.sent(),[4,(i=r.transaction(Sb,"readwrite")).objectStore(Sb).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function xb(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return t=Pb(e),[4,Cb()];case 1:return n=i.sent(),[4,(r=n.transaction(Sb,"readwrite")).objectStore(Sb).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Pb(e){return e.appConfig.appId}function Rb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return[4,Mb(e)];case 1:n=u.sent(),r=Fb(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Lb(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),gb.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,gb.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw gb.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Db(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return[4,Mb(e)];case 1:n=u.sent(),r=Fb(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Lb(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),gb.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,gb.create("token-update-failed",{errorInfo:s});if(!o.token)throw gb.create("token-update-no-token");return[2,o.token]}}))}))}function Ob(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return[4,Mb(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Lb(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,gb.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),gb.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Lb(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Mb(e){var t=e.appConfig,n=e.installations;return(0,Hs.mG)(this,void 0,void 0,(function(){var e;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Fb(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==yb&&(o.web.applicationPubKey=i),o}function jb(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw gb.create("permission-blocked");return[4,Bb(t,n)];case 1:return r=s.sent(),[4,Ab(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:bb(r.getKey("auth")),p256dh:bb(r.getKey("p256dh"))},i?[3,3]:[2,qb(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ob(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,qb(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Vb({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d}))}))}function Ub(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,Ab(e)];case 1:return(n=i.sent())?[4,Ob(e,n.token)]:[3,4];case 2:return i.sent(),[4,xb(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Vb(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Db(t,e)];case 1:return r=a.sent(),i=(0,Hs.pi)((0,Hs.pi)({},e),{token:r,createTime:Date.now()}),[4,Nb(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ub(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function qb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,Rb(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Nb(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Bb(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wb(t)})]}}))}))}function zb(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Gb(e){return new Promise((function(t){setTimeout(t,e)}))}var Kb=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw gb.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ab(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:yb,r.label=2;case 2:return[2,jb(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Ub(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw gb.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw gb.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw gb.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw gb.create("only-available-in-window")},e.prototype.onMessage=function(){throw gb.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw gb.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,Jb()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Qb(n,t)]:(r=!1,t.notification?[4,$b(Wb(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Gb(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,Hs.mG)(this,void 0,void 0,(function(){var r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Ub(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Ab(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Ub(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,jb(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:yb)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return i||(zb(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Hb(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Gb(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=vb.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Wb(e){var t,n=(0,Hs.pi)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Hb(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return[4,Jb()];case 1:t=u.sent();try{for(n=(0,Hs.XA)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Qb(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=vb.PUSH_RECEIVED;try{for(var i=(0,Hs.XA)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Jb(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $b(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Yb=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===vb.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),zb(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw gb.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,jb(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=yb),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw gb.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),gb.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ub(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e;return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?gb.create("permission-blocked"):gb.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw gb.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw gb.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw gb.create("invalid-sw-registration");if(this.swRegistration)throw gb.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw gb.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw gb.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case vb.NOTIFICATION_CLICKED:return"notification_open";case vb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Xb(e){return gb.create("missing-app-config-values",{valueName:e})}var Zb={isSupported:ew};function ew(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}jr.Z.INTERNAL.registerComponent(new my.wA("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Xb("App Configuration Object");if(!e.name)throw Xb("App Name");var r=e.options;try{for(var i=(0,Hs.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Xb(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!ew())throw gb.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Kb(n):new Yb(n)}),"PUBLIC").setServiceProps(Zb));var tw="firebasestorage.googleapis.com",nw=function(e){function t(n,r){var i=e.call(this,rw(n),"Firebase Storage: "+r+" ("+rw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return(0,Hs.ZT)(t,e),t.prototype._codeEquals=function(e){return rw(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(Vr.ZR);function rw(e){return"storage/"+e}function iw(){return new nw("unknown","An unknown error occurred, please check the error payload for server response.")}function ow(){return new nw("canceled","User canceled the upload/download.")}function aw(){return new nw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sw(e){return new nw("invalid-argument",e)}function uw(){return new nw("app-deleted","The Firebase app was deleted.")}function cw(e){return new nw("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lw(e,t){return new nw("invalid-format","String does not match format '"+e+"': "+t)}function hw(e){throw new nw("internal-error","Internal error: "+e)}var fw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dw=function(e,t){this.data=e,this.contentType=t||null};function pw(e,t){switch(e){case fw.RAW:return new dw(vw(t));case fw.BASE64:case fw.BASE64URL:return new dw(mw(e,t));case fw.DATA_URL:return new dw((n=new yw(t)).base64?mw(fw.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw lw(fw.DATA_URL,"Malformed data URL.")}return vw(t)}(n.rest),new yw(t).contentType)}var n;throw iw()}function vw(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mw(e,t){switch(e){case fw.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw lw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fw.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw lw(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw lw(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var gw,yw=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw lw(fw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},bw={STATE_CHANGED:"state_changed"},ww={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _w(e){switch(e){case"running":case"pausing":case"canceling":return ww.RUNNING;case"paused":return ww.PAUSED;case"success":return ww.SUCCESS;case"canceled":return ww.CANCELED;case"error":default:return ww.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gw||(gw={}));var Ew=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gw.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=gw.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=gw.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw hw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw hw("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw hw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw hw("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Iw=function(){function e(){}return e.prototype.createXhrIo=function(){return new Ew},e}(),Tw=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw new nw("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=tw.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new e(h,f),c.postModify(n);break}}if(null==n)throw function(e){return new nw("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}(),Sw=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function kw(e){return"string"==typeof e||e instanceof String}function Cw(e){return Aw()&&e instanceof Blob}function Aw(){return"undefined"!=typeof Blob}function Nw(e,t,n,r){if(r<t)throw sw("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw sw("Invalid value for '"+e+"'. Expected "+n+" or less.")}function xw(e){return"https://"+tw+"/v0"+e}function Pw(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var Rw=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=iw()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?uw():ow()):o(r=new nw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Dw(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new Dw(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===gw.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Dw(a,n))}else{var s=n.getErrorCode()===gw.ABORT;t(!1,new Dw(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,Hs.ev)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,Hs.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Dw=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Ow(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Lw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ow();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Aw())return new Blob(e);throw new nw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Mw=function(){function e(e,t){var n=0,r="";Cw(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Cw(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Aw()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Lw.apply(null,r))}var i=t.map((function(e){return kw(e)?pw(fw.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Fw(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function jw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Uw(e,t){return t}var Vw=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Uw},qw=null;function Bw(){if(qw)return qw;var e=[];e.push(new Vw("bucket")),e.push(new Vw("generation")),e.push(new Vw("metageneration")),e.push(new Vw("name","fullPath",!0));var t=new Vw("name");t.xform=function(e,t){return function(e){return!kw(e)||e.length<2?e:jw(e)}(t)},e.push(t);var n=new Vw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Vw("timeCreated")),e.push(new Vw("updated")),e.push(new Vw("md5Hash",null,!0)),e.push(new Vw("cacheControl",null,!0)),e.push(new Vw("contentDisposition",null,!0)),e.push(new Vw("contentEncoding",null,!0)),e.push(new Vw("contentLanguage",null,!0)),e.push(new Vw("contentType",null,!0)),e.push(new Vw("metadata","customMetadata",!0)),qw=e}function zw(e,t,n){var r=Fw(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Tw(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function Gw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Kw=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ww(e){if(!e)throw iw()}function Hw(e,t){return function(n,r){var i=zw(e,r,t);return Ww(null!==i),i}}function Qw(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new nw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new nw("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new nw("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Jw(e){var t=Qw(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new nw("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function $w(e,t,n){var r=xw(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Kw(r,"GET",Hw(e,n),i);return o.errorHandler=Jw(t),o}function Yw(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=xw(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new Kw(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=Fw(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Tw(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Tw(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return Ww(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Qw(t),u}function Xw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Zw=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function e_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Ww(!1)}return Ww(!!n&&-1!==(t||["active"]).indexOf(n)),n}var t_=262144;var n_=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function r_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var i_=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Bw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Xw(t,r,i),s={name:a.fullPath},u=xw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Gw(a,n),h=e.maxUploadRetryTime,f=new Kw(u,"POST",(function(e){var t;e_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Ww(!1)}return Ww(kw(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Qw(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Kw(n,"POST",(function(e){var t=e_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Ww(!1)}n||Ww(!1);var i=Number(n);return Ww(!isNaN(i)),new Zw(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Qw(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=t_*this._chunkMultiplier,n=new Zw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new Zw(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new nw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw aw();var v=t.maxUploadRetryTime,m=new Kw(n,"POST",(function(e,n){var i,a=e_(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Hw(t,o)(e,n):null,new Zw(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Qw(e),m}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){t_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=$w(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Xw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Gw(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Mw.getBlob(c,r,l);if(null===h)throw aw();var f={name:u.fullPath},d=xw(o),p=e.maxUploadRetryTime,v=new Kw(d,"POST",Hw(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Qw(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ow(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=_w(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new n_(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(_w(this._state)){case ww.SUCCESS:r_(this._resolve.bind(null,this.snapshot))();break;case ww.CANCELED:case ww.ERROR:r_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(_w(this._state)){case ww.RUNNING:case ww.PAUSED:e.next&&r_(e.next.bind(e,this.snapshot))();break;case ww.SUCCESS:e.complete&&r_(e.complete.bind(e))();break;case ww.CANCELED:case ww.ERROR:e.error&&r_(e.error.bind(e,this._error))();break;default:e.error&&r_(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),o_=function(){function e(e,t){this._service=e,this._location=t instanceof Tw?t:Tw.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Tw(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return jw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Tw(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw cw(e)},e}();function a_(e){var t={prefixes:[],items:[]};return s_(e,t).then((function(){return t}))}function s_(e,t,n){return(0,Hs.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return[4,u_(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,s_(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function u_(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Nw("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=Yw(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function c_(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=xw(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Kw(r,"GET",function(e,t){return function(n,r){var i=zw(e,r,t);return Ww(null!==i),function(e,t){var n=Fw(t);if(null===n)return null;if(!kw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return xw("/b/"+i(n)+"/o/"+i(r))+Pw({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=Jw(t),o}(e.storage,e._location,Bw()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new nw("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function l_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Tw(e._location.bucket,n);return new o_(e.storage,r)}function h_(e){return/^[A-Za-z]+:\/\//.test(e)}function f_(e,t){if(e instanceof p_){var n=e;if(null==n._bucket)throw new nw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new o_(n,n._bucket);return null!=t?f_(r,t):r}if(void 0!==t){if(t.includes(".."))throw sw('`path` param cannot contain ".."');return l_(e,t)}return e}function d_(e,t){if(t&&h_(t)){if(e instanceof p_)return new o_(e,t);throw sw("To use ref(service, url), the first argument must be a Storage instance.")}return f_(e,t)}var p_=function(){function e(e,t,n,r,i){var o,a;this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Tw.makeFromBucketSpec(r):null==(a=null==(o=this.app.options)?void 0:o.storageBucket)?null:Tw.makeFromBucketSpec(a)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new o_(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new Sw(uw());var r=function(e,t,n,r,i){var o=Pw(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new Rw(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function v_(e,t){return d_(e,t)}var m_=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),g_=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new m_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new m_(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new m_(e,i,i._ref))}:{next:t.next?function(e){return t.next(new m_(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),y_=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new b_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new b_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),b_=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return l_(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new g_(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new i_(e,new Mw(t),n)}(e,t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=fw.RAW),this._throwIfRoot("putString");var r=pw(t,e),i=(0,Hs.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new g_(new i_(this._delegate,new Mw(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return a_(e)}(this._delegate).then((function(t){return new y_(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return u_(e,t)}(this._delegate,e||void 0).then((function(e){return new y_(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=$w(e.storage,e._location,Bw()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=xw(t.fullServerUrl()),o=Gw(n,r),a=e.maxOperationRetryTime,s=new Kw(i,"PATCH",Hw(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Jw(t),s}(e.storage,e._location,t,Bw()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}(e,t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return c_(e)}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=xw(t.fullServerUrl()),r=e.maxOperationRetryTime,i=new Kw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Jw(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw cw(e)},e}(),w_=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(h_(e))throw sw("ref() expected a child path but got a URL, use refFromURL instead.");return new b_(v_(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!h_(e))throw sw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Tw.makeFromUrl(e)}catch(e){throw sw("refFromUrl() expected a valid full URL but got an invalid one.")}return new b_(v_(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}();function __(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new w_(r,new p_(r,i,new Iw,n,jr.Z.SDK_VERSION))}!function(e){var t={TaskState:ww,TaskEvent:bw,StringFormat:fw,Storage:p_,Reference:b_};e.INTERNAL.registerComponent(new my.wA("storage",__,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.4.5")}(jr.Z);var E_,I_,T_,S_="0.4.8",k_=S_,C_="FB-PERF-TRACE-MEASURE",A_="_wt_",N_="_fcp",x_="_fid",P_="@firebase/performance/config",R_="@firebase/performance/configexpire",D_="Performance",O_=((E_={})["trace started"]="Trace {$traceName} was started before.",E_["trace stopped"]="Trace {$traceName} is not running.",E_["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",E_["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",E_["no window"]="Window is not available.",E_["no app id"]="App id is not available.",E_["no project id"]="Project id is not available.",E_["no api key"]="Api key is not available.",E_["invalid cc log"]="Attempted to queue invalid cc event",E_["FB not default"]="Performance can only start when Firebase app instance is the default one.",E_["RC response not ok"]="RC response is not ok",E_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",E_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",E_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",E_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",E_),L_=new Vr.LL("performance",D_,O_),M_=new Ur.Yd(D_);M_.logLevel=Ur.in.INFO;var F_,j_=function(){function e(e){if(this.window=e,!e)throw L_.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Vr.hl)()||(M_.info("IndexedDB is not supported by current browswer"),!1):(M_.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===I_&&(I_=new e(T_)),I_},e}();function U_(e,t){var n=e.length-t.length;if(n<0||n>1)throw L_.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var V_,q_,B_=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=U_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=U_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw L_.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw L_.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw L_.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===F_&&(F_=new e),F_},e}();function z_(){return V_}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(q_||(q_={}));var G_=["firebase_","google_","ga_"],K_=new RegExp("^[a-zA-Z]\\w*$");function W_(){var e=j_.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function H_(){switch(j_.getInstance().document.visibilityState){case"visible":return q_.VISIBLE;case"hidden":return q_.HIDDEN;default:return q_.UNKNOWN}}function Q_(){var e=j_.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var J_="Could not fetch config, will use default configs";function $_(e){if(!e)return e;var t=B_.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=true,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Y_(t.tracesSamplingRate),t.logNetworkAfterSampling=Y_(t.networkRequestsSamplingRate),e}function Y_(e){return Math.random()<=e}var X_,Z_=1;function eE(){return Z_=2,X_=X_||function(){var e=j_.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=B_.getInstance().installationsService.getId()).then((function(e){V_=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=j_.getInstance().localStorage;if(e){var t=e.getItem(R_);if(t&&Number(t)>Date.now()){var n=e.getItem(P_);if(n)try{return JSON.parse(n)}catch(e){return}}}}();return t?($_(t),Promise.resolve()):function(e){return(t=B_.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+B_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+B_.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:B_.getInstance().getAppId(),app_version:k_,sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw L_.create("RC response not ok")}))})).catch((function(){M_.info(J_)}));var t}(e).then($_).then((function(e){return function(e){var t=j_.getInstance().localStorage;e&&t&&(t.setItem(P_,JSON.stringify(e)),t.setItem(R_,String(Date.now()+60*B_.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return tE()}),(function(){return tE()}))}function tE(){Z_=3}var nE,rE=1e4,iE=3,oE=[],aE=!1;function sE(e){setTimeout((function(){var e,t;if(0!==iE)return oE.length?(t=(e=oE.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=B_.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||M_.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=rE;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(oE=(0,Hs.ev)((0,Hs.ev)([],t),oE),M_.info("Retry transport request later.")),iE=3,sE(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:B_.getInstance().logSource,log_event:t},e).catch((function(){oE=(0,Hs.ev)((0,Hs.ev)([],e),oE),iE--,M_.info("Tries left: "+iE+"."),sE(rE)}))):sE(rE)}),e)}function uE(e){if(!e.eventTime||!e.message)throw L_.create("invalid cc log");oE=(0,Hs.ev)((0,Hs.ev)([],oE),[e])}function cE(e,t){nE||(nE=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];uE({message:e.apply(void 0,t),eventTime:Date.now()})}}(fE)),nE(e,t)}function lE(e){var t=B_.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&j_.getInstance().requiredApisAvailable()&&(e.isAuto&&H_()!==q_.VISIBLE||(3===Z_?hE(e):eE().then((function(){return hE(e)}),(function(){return hE(e)}))))}function hE(e){if(z_()){var t=B_.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return cE(e,1)}),0)}}function fE(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:dE(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:dE(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function dE(){return{google_app_id:B_.getInstance().getAppId(),app_instance_id:z_(),web_app_info:{sdk_version:k_,page_url:j_.getInstance().getUrl(),service_worker_status:W_(),visibility_state:H_(),effective_connection_type:Q_()},application_process_state:0}}var pE=["_fp",N_,x_],vE=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=j_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw L_.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw L_.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),lE(this)},e.prototype.record=function(e,t,n){if(e<=0)throw L_.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw L_.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,Hs.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}lE(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith(A_)&&pE.indexOf(i)>-1)&&i.startsWith("_"))throw L_.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&M_.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||G_.some((function(e){return n.startsWith(e)}))||!n.match(K_)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw L_.create("invalid attribute name",{attributeName:e});if(!i)throw L_.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,Hs.pi)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=j_.getInstance().getUrl();if(i){var o=new e(A_+i,!0),a=Math.floor(1e3*j_.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(N_,Math.floor(1e3*u.startTime)),r&&o.putMetric(x_,Math.floor(1e3*r))}lE(o)}},e.createUserTimingTrace=function(t){lE(new e(t,!1,t))},e}();function mE(e){var t=e;if(t&&void 0!==t.responseStart){var n=j_.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=B_.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return cE(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function gE(){z_()&&(setTimeout((function(){return function(){var e=j_.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){vE.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),vE.createOobTrace(t,n,e))}))}else vE.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=j_.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)mE(n[t]);e.setupObserver("resource",mE)}()}),0),setTimeout((function(){return function(){for(var e=j_.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)yE(n[t]);e.setupObserver("measure",yE)}()}),0))}function yE(e){var t=e.name;t.substring(0,C_.length)!==C_&&vE.createUserTimingTrace(t)}var bE=function(){function e(e){this.app=e,j_.getInstance().requiredApisAvailable()&&(0,Vr.eu)().then((function(e){e&&(aE||(sE(5500),aE=!0),eE().then(gE,gE))})).catch((function(e){M_.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new vE(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return B_.getInstance().instrumentationEnabled},set:function(e){B_.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return B_.getInstance().dataCollectionEnabled},set:function(e){B_.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new my.wA("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw L_.create("FB not default");if("undefined"==typeof window)throw L_.create("no window");return function(e){T_=e}(window),B_.getInstance().firebaseAppInstance=e,B_.getInstance().installationsService=t,new bE(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance",S_)}(jr.Z);var wE,_E,EE="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(wE||(wE={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(_E||(_E={}));var IE,TE=new Ur.Yd("@firebase/analytics");function SE(e,t,n,r,i,o){return(0,Hs.mG)(this,void 0,void 0,(function(){var a,s,u,c;return(0,Hs.Jh)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),TE.error(c),[3,8];case 8:return e(wE.CONFIG,i,o),[2]}}))}))}function kE(e,t,n,r,i){return(0,Hs.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,Hs.Jh)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(wE.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),TE.error(f),[3,5];case 5:return[2]}}))}))}var CE=((IE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",IE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",IE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",IE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",IE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",IE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",IE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",IE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',IE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',IE),AE=new Vr.LL("analytics","Analytics",CE),NE=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function xE(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function PE(e){var t;return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:xE(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw AE.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function RE(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=NE),(0,Hs.mG)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,Hs.Jh)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,DE(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return TE.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,PE(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Vr.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return TE.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Vr.$s)(o,r.intervalMillis,30):(0,Vr.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),TE.debug("Calling attemptFetch again in "+l+" millis"),[2,RE(e,h,n,r)];case 7:return[2]}}))}))}function DE(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(AE.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var OE=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();var LE,ME,FE={},jE=[],UE={},VE="dataLayer",qE="gtag",BE=!1;function zE(e){if(BE)throw AE.create("already-initialized");e.dataLayerName&&(VE=e.dataLayerName),e.gtagName&&(qE=e.gtagName)}function GE(e,t){!function(){var e=[];if((0,Vr.ru)()&&e.push("This is a browser extension environment."),(0,Vr.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=AE.create("invalid-analytics-context",{errorInfo:t});TE.warn(n.message)}}();var n=e.options.appId;if(!n)throw AE.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw AE.create("no-api-key");TE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=FE[n])throw AE.create("already-exists",{id:n});if(!BE){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(VE);var r=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,Hs.mG)(this,void 0,void 0,(function(){var s;return(0,Hs.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==wE.EVENT?[3,2]:[4,kE(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==wE.CONFIG?[3,4]:[4,SE(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(wE.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),TE.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(FE,jE,UE,VE,qE),i=r.wrappedGtag,o=r.gtagCore;ME=i,LE=o,BE=!0}return FE[n]=function(e,t,n,r,i,o){return(0,Hs.mG)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,Hs.Jh)(this,(function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=NE),(0,Hs.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return(0,Hs.Jh)(this,(function(c){if(n=e.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw AE.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw AE.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new OE,setTimeout((function(){return(0,Hs.mG)(u,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){return s.abort(),[2]}))}))}),6e4),[2,RE({appId:r,apiKey:i,measurementId:o},a,s,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&TE.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return TE.error(e)})),t.push(a),s=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e;return(0,Hs.Jh)(this,(function(t){switch(t.label){case 0:return(0,Vr.hl)()?[3,1]:(TE.warn(AE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Vr.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),TE.warn(AE.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(EE))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=EE+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(wE.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}(e,jE,UE,t,LE,VE),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,Hs.mG)(this,void 0,void 0,(function(){var o,a;return(0,Hs.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(wE.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,Hs.pi)((0,Hs.pi)({},r),{send_to:o}),e(wE.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(ME,FE[n],e,t,r).catch((function(e){return TE.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(wE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(wE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(ME,FE[n],e,t).catch((function(e){return TE.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i;return(0,Hs.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(wE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(wE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(ME,FE[n],e,t).catch((function(e){return TE.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,Hs.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Hs.Jh)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(wE.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(wE.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(ME,FE[n],e,t).catch((function(e){return TE.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(FE[n],e).catch((function(e){return TE.error(e)}))},INTERNAL:{delete:function(){return delete FE[n],Promise.resolve()}}}}var KE="analytics";function WE(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:if((0,Vr.ru)())return[2,!1];if(!(0,Vr.zI)())return[2,!1];if(!(0,Vr.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Vr.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new my.wA(KE,(function(e){return GE(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:zE,EventName:_E,isSupported:WE})),e.INTERNAL.registerComponent(new my.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(KE).getImmediate().logEvent}}catch(e){throw AE.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.6")}(jr.Z);var HE,QE=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),JE=((HE={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",HE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",HE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",HE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",HE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",HE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",HE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",HE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",HE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",HE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',HE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',HE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",HE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",HE),$E=new Vr.LL("remoteconfig","Remote Config",JE),YE=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b;return(0,Hs.Jh)(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),$E.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),$E.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw $E.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var _}))}))},e}(),XE=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),ZE=["1","true","t","yes","y","on"],eI=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&ZE.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),tI=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Ur.in.DEBUG;break;case"silent":this._logger.logLevel=Ur.in.SILENT;break;default:this._logger.logLevel=Ur.in.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:e=new XE,setTimeout((function(){return(0,Hs.mG)(r,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Vr.ZR&&-1!==e.code.indexOf("fetch-throttle")}(t)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){return(0,Hs.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys((0,Hs.pi)((0,Hs.pi)({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new eI("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new eI("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new eI("static"))},e}();function nI(e,t){var n=e.target.error||void 0;return $E.create(t,{originalErrorMessage:n&&n.message})}var rI="app_namespace_store",iI=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(nI(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(rI,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([rI],"readonly").objectStore(rI),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(nI(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){i($E.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,Hs.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,Hs.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([rI],"readwrite").objectStore(rI),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(nI(e,"storage-set"))},u.onsuccess=function(){i()}}catch(e){o($E.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,Hs.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([rI],"readwrite").objectStore(rI),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(nI(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(e){i($E.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),oI=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,Hs.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function aI(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r($E.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var sI,uI=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,Hs.mG)(this,void 0,void 0,(function(){var t;return(0,Hs.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,Hs.mG)(this,void 0,void 0,(function(){var t,i,o;return(0,Hs.Jh)(this,(function(a){switch(a.label){case 0:return[4,aI(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Vr.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Vr.$s)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),cI="@firebase/remote-config";(sI=jr.Z).INTERNAL.registerComponent(new my.wA("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw $E.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw $E.create("registration-project-id");if(!s)throw $E.create("registration-api-key");if(!u)throw $E.create("registration-app-id");n=n||"firebase";var c=new iI(u,r.name,n),l=new oI(c),h=new Ur.Yd(cI);h.logLevel=Ur.in.ERROR;var f=new YE(i,sI.SDK_VERSION,n,a,s,u),d=new uI(f,c),p=new QE(d,c,l,h),v=new tI(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),sI.registerVersion(cI,"0.1.33"),jr.Z.registerVersion("firebase","8.3.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),jr.Z.registerVersion("firebase","8.3.1"),jr.Z.initializeApp({apiKey:"AIzaSyDCS_sAoznUbF3TTWaCn2p6FIpuGxt0KHI",authDomain:"colamnhack.firebaseapp.com",projectId:"colamnhack",storageBucket:"colamnhack.appspot.com",messagingSenderId:"850092598168",appId:"1:850092598168:web:251e396e8131e4b899c1ed"});var lI,hI,fI=jr.Z.firestore(),dI=n(294);function pI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function vI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mI=Oe(At)(lI||(lI=pI(["\n  display: ",";\n  cursor: pointer;\n  position: fixed;\n  bottom: 2rem;\n  right: 2rem;\n  width: 20rem;\n  height: 5rem;\n  border-radius: 5px;\n  z-index: 2;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  @media screen and (max-width: 550px) {\n    width: 12rem;\n    height: 4rem;\n    bottom: 5px;\n    right: 5px;\n  }\n"])),(function(e){return e.isOpen?"none":"block"})),gI=Oe(at)(hI||(hI=pI(["\n  @media screen and (max-width: 550px) {\n    justify-content: center;\n  }\n"]))),yI=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;const bI=function(){var e,t,n=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],o=n[1],a=Fr(),s=a.register,u=a.handleSubmit,c=a.errors,l=function(){return o(!1)};return dI.createElement(dI.Fragment,null,dI.createElement(mI,{isOpen:i,backgroundColor:"turquoise",onClick:function(){return o(!0)}}," "),dI.createElement(wt,{isOpen:i},dI.createElement(_t,{onClick:l},dI.createElement("img",{src:Rn})),dI.createElement(Et,null,dI.createElement(It,{onSubmit:u((function(e){fI.collection("participants").doc(e.email).get().then((function(t){if(t.exists)return alert("  ");fI.collection("participants").doc(e.email).set(e).then((function(){alert(" !"),l()})).catch((function(){alert("    ,    .")}))}))}))},dI.createElement(St,{ref:s({required:!0,minLength:2,maxLength:25}),name:"fullName",type:"text",dir:"rtl",placeholder:" "}),c.fullName&&dI.createElement(Tt,{dir:"rtl"},"    2  25  "),dI.createElement(St,{ref:s({required:!0,pattern:yI}),name:"email",type:"email",dir:"rtl",placeholder:""}),c.email&&dI.createElement(Tt,{dir:"rtl"},"     "),dI.createElement(St,{ref:s({required:!0,minLength:8,maxLength:12}),name:"mobileNumber",type:"tel",dir:"rtl",placeholder:"   "}),c.mobileNumber&&dI.createElement(Tt,{dir:"rtl"},"      "),dI.createElement(St,{ref:s({required:!0,minLength:9,maxLength:9,pattern:/^[0-9]*$/}),name:"id",type:"tel",dir:"rtl",placeholder:" . "}),c.id&&dI.createElement(Tt,{dir:"rtl"}," ","      9 "),dI.createElement(St,{ref:s({required:!0,minLength:2,maxLength:25}),name:"groupName",type:"text",dir:"rtl",placeholder:"   (    ) "}),c.groupName&&dI.createElement(Tt,{dir:"rtl"}," ","         "," "),dI.createElement(St,{ref:s({minLength:2,maxLength:200}),name:"members",type:"text",dir:"rtl",placeholder:"  /      (  )  "}),c.members&&dI.createElement(Tt,{dir:"rtl"}," "," 200 "," "),dI.createElement(gI,{justifyContent:"space-between",flexDirection:"row-reverse"},dI.createElement(kt,{ref:s({validate:function(e){return""!==e}}),name:"studyYear",dir:"rtl"},dI.createElement("option",{value:""},"   "),dI.createElement("option",{value:"year2"},"   "),dI.createElement("option",{value:"year3"},"   "),dI.createElement("option",{value:"other"},"  ")),dI.createElement(kt,{ref:s({validate:function(e){return""!==e}}),name:"studyRoute",dir:"rtl"},dI.createElement("option",{value:""},"  "),dI.createElement("option",{value:"morning"},"  "),dI.createElement("option",{value:"evening"},"  "),dI.createElement("option",{value:"avaz"},' "  '),dI.createElement("option",{value:"alaz"},' "  '))),c.studyYear&&dI.createElement(Tt,{dir:"rtl"},"     "),c.studyField&&dI.createElement(Tt,{dir:"rtl"},"     "),dI.createElement(gI,{justifyContent:"flex-end",width:"95%"},dI.createElement("label",{dir:"rtl",for:"participatedInHack",style:{marginRight:"1rem",color:"white"}},"    "),dI.createElement("input",{type:"checkbox",name:"participatedInHack",ref:s()})),dI.createElement(Ct,{ref:s,name:"aboutSelf",rows:"6",dir:"rtl",placeholder:"/    "}),dI.createElement(pt,{dir:"rtl",width:"50rem",fontSize:"1rem"},"  .   !     ' '  \" ' ' .   '         : Colmanhackathon@gmail.com",dI.createElement("b",null," **     .      . ")),dI.createElement(At,null,"  ")))))},wI=n.p+"1a8d5b0ebad28bec86350a668ae7642e.png",_I=n.p+"c7dd22303d0566f4967c9205dd60a3b0.png";var EI,II,TI=n(294);function SI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kI=Oe.img(EI||(EI=SI(["\n  position: relative;\n  height: 30rem;\n\n  @media screen and (max-width: 550px) {\n    height: 1rem;\n  }\n"]))),CI=Oe.img(II||(II=SI(["\n  position: relative;\n  height: 12rem;\n\n  @media screen and (max-width: 550px) {\n    height: 1rem;\n  }\n"])));const AI=function(){return TI.createElement(at,{height:"70vh",backgroundColor:"white",flexDirection:"column"},TI.createElement(pt,{dir:"rtl",width:"80%",fontSize:"3rem",color:"darkPurpil",textAlign:"center"},"            "),TI.createElement(at,{height:"auto",justifyContent:"space-around"},TI.createElement(kI,{src:wI}),TI.createElement(CI,{src:_I})),TI.createElement(pt,{width:"50%",color:"darkPurpil",textAlign:"justify"},"Splitit is a global payment solution provider that enables shoppers to use the credit theyve earned by breaking up purchases into monthly interest-free installments, using their existing credit card. Splitit enables merchants to improve conversion rates and increase average order value by giving customers an easy and fast way to pay for purchases over time without requiring additional approvals. Serving many of Internet Retailers top 500 merchants, Splitits global footprint extends to thousands of merchants in countries around the world. Headquartered in New York, Splitit has an R&D center in Israel and offices in London and Australia. The company is listed on the Australian Securities Exchange (ASX) under ticker code SPT."))},NI=n.p+"0d60715e20f07f57351f29c943f6ad16.png",xI=n.p+"c72e4dce7f6692c71653747daa6093ea.png";var PI,RI,DI,OI,LI,MI,FI,jI,UI,VI,qI=n(294);function BI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zI=De(PI||(PI=BI(["\n  0% { opacity: 0; }\n  100% { opacity: 1; }\n"]))),GI=De(RI||(RI=BI(["\n  0% { left: 20%; }\n  100% { left: 0; }\n"]))),KI=De(DI||(DI=BI(["\n  0% { top: 0; }\n  100% { top: -50%; }\n"]))),WI=De(OI||(OI=BI(["\n  0% { transform: scale(1); left: 0; }\n  100% { transform: scale(.2); left: -35%; }\n"]))),HI=De(LI||(LI=BI(["\n  0% { height: 100vh; }\n  100% { height: 10vh; }\n"]))),QI=Oe(at)(MI||(MI=BI(["\n  position: sticky;\n  top: 0;\n  left: 0;\n\n  background-color: ",";\n  padding: 5rem 10rem;\n  z-index: 2;\n  height: 100vh;\n\n  animation-name: ",";\n  animation-duration: 0.5s;\n  animation-delay: 1.8s;\n  animation-timing-function: linear;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n\n  @media screen and (max-width: 550px) {\n    padding: 2rem;\n  }\n"])),it.darkPurple,HI),JI=Oe.div(FI||(FI=BI(["\n  display: flex;\n  position: relative;\n\n  animation-name: ",", ",";\n  animation-duration: 0.5s;\n  animation-delay: 1.3s;\n  animation-timing-function: linear;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n"])),KI,WI),$I=Oe.img(jI||(jI=BI(["\n  position: relative;\n  height: 5vw; //3rem\n  opacity: 0;\n  left: 20%;\n\n  animation-name: ",", ",";\n  animation-duration: 0.5s;\n  animation-delay: 0s, 0.5s;\n  animation-timing-function: ease-in;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n\n  @media screen and (max-width: 550px) {\n    height: 2rem; //1rem\n  }\n"])),zI,GI),YI=Oe.img(UI||(UI=BI(["\n  position: relative;\n  height: 5vw; //3ewm\n  opacity: 0;\n\n  animation-name: ",", ",";\n  animation-duration: 0.5s;\n  animation-delay: 0.8s;\n  animation-timing-function: ease-in;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n\n  @media screen and (max-width: 550px) {\n    height: 2rem; //1rem\n  }\n"])),GI,zI),XI=Oe(at)(VI||(VI=BI(["\n  opacity: 0;\n\n  animation-name: ",";\n  animation-duration: 0.5s;\n  animation-delay: 2s;\n  animation-timing-function: linear;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n"])),zI);const ZI=function(){return qI.createElement(QI,{justifyContent:"space-between"},qI.createElement(JI,null,qI.createElement($I,{src:NI}),qI.createElement(YI,{src:xI})),qI.createElement(XI,{height:"auto",justifyContent:"flex-end"},qI.createElement(yt,{href:"#info"},"   ")))};var eT=n(294);const tT=function(){return eT.createElement(eT.Fragment,null,eT.createElement(ZI,null),eT.createElement(gn,null),eT.createElement(Tn,null),eT.createElement(Pn,null),eT.createElement(Ft,null),eT.createElement(Lt,null),eT.createElement(AI,null),eT.createElement(nn,null),eT.createElement(on,null),eT.createElement(bI,null))};var nT,rT=n(294),iT=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=ge.apply(void 0,[e].concat(n)),a="sc-global-"+Ee(JSON.stringify(o)),s=new Re(o,a);function u(e){var t=ae(),n=se(),i=(0,r.useContext)(Ae),o=(0,r.useRef)(t.allocateGSInstance(a)).current;return(0,r.useLayoutEffect)((function(){return c(o,e,t,i,n),function(){return s.removeStyles(o,t)}}),[o,e,t,i,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,T,n,i);else{var o=d({},t,{theme:ye(t,r,u.defaultProps)});s.renderStyles(e,o,n,i)}}return r.memo(u)}(nT||(nT=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    *{\n      box-sizing: inherit;\n    }\n\n    html {\n      font-size: 62.5%;\n    }\n\n    body {\n        margin: 0;\n        font-family: ",";\n        box-sizing: border-box;\n    }\n"])),"Heebo, sans-serif");e.render(rT.createElement(rT.Fragment,null,rT.createElement(iT,null),rT.createElement(tT,null)),document.getElementById("root"))})()})();